/******************************************************************************/
/***          Generated by IBExpert 2012.02.21 29/03/2017 08:44:57          ***/
/******************************************************************************/

/******************************************************************************/
/***      Following SET SQL DIALECT is just for the Database Comparer       ***/
/******************************************************************************/
SET SQL DIALECT 3;



/******************************************************************************/
/***                         User Defined Functions                         ***/
/******************************************************************************/

DECLARE EXTERNAL FUNCTION FCODIFONPT_BR
    CSTRING(255)
    RETURNS CSTRING(255) FREE_IT
    ENTRY_POINT 'CodiFonPT_BR' MODULE_NAME 'codfon.dll';


DECLARE EXTERNAL FUNCTION "LPAD"
    CSTRING(255),
    INTEGER,
    CSTRING(1)
    RETURNS CSTRING(255) FREE_IT
    ENTRY_POINT 'IB_UDF_lpad' MODULE_NAME 'ib_udf';




/******************************************************************************/
/***                                Domains                                 ***/
/******************************************************************************/

CREATE DOMAIN BOOLEAN AS
VARCHAR(1);

CREATE DOMAIN BOOLEAN_INT AS
SMALLINT
NOT NULL;

CREATE DOMAIN CALCULADO AS
NUMERIC(18,2);

CREATE DOMAIN CEP AS
INTEGER;

CREATE DOMAIN CODIGO AS
INTEGER;

CREATE DOMAIN COD_IBGE AS
VARCHAR(7);

CREATE DOMAIN D_BAIRRO AS
VARCHAR(30);

CREATE DOMAIN D_CELULAR AS
VARCHAR(15);

CREATE DOMAIN D_CEP AS
CHAR(10);

CREATE DOMAIN D_CIDADE AS
VARCHAR(40);

CREATE DOMAIN D_CODIGO AS
INTEGER
NOT NULL;

CREATE DOMAIN D_CPF_CNPJ AS
CHAR(18);

CREATE DOMAIN D_DATA AS
DATE;

CREATE DOMAIN D_DESCRICAO AS
VARCHAR(70);

CREATE DOMAIN D_EMAIL AS
VARCHAR(50);

CREATE DOMAIN D_ENDERECO AS
VARCHAR(44);

CREATE DOMAIN D_FAX AS
VARCHAR(15);

CREATE DOMAIN D_FOTO AS
BLOB SUB_TYPE 0 SEGMENT SIZE 80;

CREATE DOMAIN D_IE AS
VARCHAR(20);

CREATE DOMAIN D_NOME AS
VARCHAR(70);

CREATE DOMAIN D_NUMERO AS
INTEGER;

CREATE DOMAIN D_OBSERVACOES AS
BLOB SUB_TYPE 0 SEGMENT SIZE 80;

CREATE DOMAIN D_PERC AS
DECIMAL(18,2);

CREATE DOMAIN D_QUANT AS
NUMERIC(18,4);

CREATE DOMAIN D_RG AS
CHAR(20);

CREATE DOMAIN D_SEXO AS
VARCHAR(15);

CREATE DOMAIN D_SITE AS
VARCHAR(50);

CREATE DOMAIN D_TEL AS
VARCHAR(16);

CREATE DOMAIN D_UF AS
VARCHAR(2);

CREATE DOMAIN D_UNIT AS
NUMERIC(18,3);

CREATE DOMAIN D_USUARIO AS
VARCHAR(20);

CREATE DOMAIN D_VALOR AS
NUMERIC(18,2);

CREATE DOMAIN D_VALOR_P_0 AS
NUMERIC(18,2)
DEFAULT 0;

CREATE DOMAIN LONGO AS
VARCHAR(150);

CREATE DOMAIN STRING50 AS
VARCHAR(1) CHARACTER SET WIN1252
COLLATE PXW_INTL850;

CREATE DOMAIN TDESCRICAO AS
INTEGER;

CREATE DOMAIN UF AS
VARCHAR(1);



/******************************************************************************/
/***                               Generators                               ***/
/******************************************************************************/

CREATE GENERATOR CODIGIO_NFCE;
CREATE GENERATOR CODIGO_AGENCIAS;
CREATE GENERATOR CODIGO_BANCOS;
CREATE GENERATOR CODIGO_BICOENC;
CREATE GENERATOR CODIGO_BICOENC_TEMP;
CREATE GENERATOR CODIGO_CAIXA;
CREATE GENERATOR CODIGO_CATEGORIAS;
CREATE GENERATOR CODIGO_CHEQUES;
CREATE GENERATOR CODIGO_CLIENTES;
CREATE GENERATOR CODIGO_COND_PAGAMENTO;
CREATE GENERATOR CODIGO_CONTASPAGAR;
CREATE GENERATOR CODIGO_CONTAS_PAGAR;
CREATE GENERATOR CODIGO_CONTA_BANCARIA;
CREATE GENERATOR CODIGO_CREDIARIO;
CREATE GENERATOR CODIGO_CREDIARIO_CARTAO;
CREATE GENERATOR CODIGO_CREDIARIO_RECEBIDO;
CREATE GENERATOR CODIGO_EST_COM_RET_PEDIDOS;
CREATE GENERATOR CODIGO_FORNECEDORES;
CREATE GENERATOR CODIGO_GRUPOS;
CREATE GENERATOR CODIGO_INV;
CREATE GENERATOR CODIGO_LATICINIO;
CREATE GENERATOR CODIGO_LATICINIOS;
CREATE GENERATOR CODIGO_MARCAS;
CREATE GENERATOR CODIGO_MOVIMENTO_DIARIO;
CREATE GENERATOR CODIGO_MOV_COMB;
CREATE GENERATOR CODIGO_MOV_ESTOQUE;
CREATE GENERATOR CODIGO_NFCE_ITENS;
CREATE GENERATOR CODIGO_NFE_ITENS;
CREATE GENERATOR CODIGO_NFE_NOTA;
CREATE GENERATOR CODIGO_NFSE_ITENS;
CREATE GENERATOR CODIGO_NOTASFISCAIS;
CREATE GENERATOR CODIGO_NOTASFISCAIS_ITENS;
CREATE GENERATOR CODIGO_ORCAMENTOS;
CREATE GENERATOR CODIGO_ORCAMENTO_ITENS;
CREATE GENERATOR CODIGO_ORC_PARC;
CREATE GENERATOR CODIGO_OS_PRODUTOS;
CREATE GENERATOR CODIGO_PAG_RET_PEDIDOS;
CREATE GENERATOR CODIGO_PEDIDOS;
CREATE GENERATOR CODIGO_PEDIDOS_ITENS;
CREATE GENERATOR CODIGO_PLANOCONTAS;
CREATE GENERATOR CODIGO_PREVENDA_ITENS;
CREATE GENERATOR CODIGO_PRODUTOS;
CREATE GENERATOR CODIGO_PRODUTOS_LOG;
CREATE GENERATOR CODIGO_RECIBO;
CREATE GENERATOR CODIGO_REG_PEDIDOS;
CREATE GENERATOR CODIGO_REG_PEDIDOS_ITENS;
CREATE GENERATOR CODIGO_RETORNO;
CREATE GENERATOR CODIGO_SECCAO;
CREATE GENERATOR CODIGO_SUBGRUPOS;
CREATE GENERATOR CODIGO_ULT_LMC;
CREATE GENERATOR CODIGO_UNIDADES;
CREATE GENERATOR CODIGO_USUARIOS;
CREATE GENERATOR CODIGO_VENDAS;
CREATE GENERATOR CODIGO_VOP_ITENS;
CREATE GENERATOR COD_BICOENC_TEMP;
CREATE GENERATOR COD_PAGARPAGO;
CREATE GENERATOR CUPOM_ITEM_SEQUENCIA_GEN;
CREATE GENERATOR GCOD_PRODUTOS_NSERIE;
CREATE GENERATOR GCOD_SINTEGRA_GNRE;
CREATE GENERATOR GCOD_SINTEGRA_INFO;
CREATE GENERATOR GCOD_SINTEGRA_LOOKUP;
CREATE GENERATOR GCOD_SINTEGRA_R60;
CREATE GENERATOR GEN_BAR01;
CREATE GENERATOR GEN_CLIENTES_CONTATO_ID;
CREATE GENERATOR GEN_CLIENTES_DOCUMENT_ID;
CREATE GENERATOR GEN_CLIENTES_PROFISSAO_ID;
CREATE GENERATOR GEN_CLIENTES_REFERENCIA_ID;
CREATE GENERATOR GEN_CONTABILIDADE_ID;
CREATE GENERATOR GEN_ENTRAHOSPEDE01;
CREATE GENERATOR GEN_FUNCIONARIO_PAGO_ID;
CREATE GENERATOR GEN_FUNCIONARIO_VALE_ID;
CREATE GENERATOR GEN_ITENS_COMPOSICAO_ID;
CREATE GENERATOR GEN_ITENS_COMPOSTO_ID;
CREATE GENERATOR GEN_LIGACAO01;
CREATE GENERATOR GEN_MD_BAIXA_PLAQUETA_ID;
CREATE GENERATOR GEN_MD_ENTRADA_TORAS_ID;
CREATE GENERATOR GEN_MD_ESPECIE_ID;
CREATE GENERATOR GEN_MD_PATIO_ID;
CREATE GENERATOR GEN_MD_TORAS_ENTRADAS_ID;
CREATE GENERATOR GEN_MV_CONTRATO_ID;
CREATE GENERATOR GEN_MV_CT_IMOVEL_ALUGUEL_ID;
CREATE GENERATOR GEN_MV_CT_IMOVEL_COMPRA_ID;
CREATE GENERATOR GEN_MV_CT_IMOVEL_VENDA_ID;
CREATE GENERATOR GEN_MV_CT_PARCELA_ID;
CREATE GENERATOR GEN_MV_PLANILHA_IMOVEL_ID;
CREATE GENERATOR GEN_NOTAS_MANIFESTACAO_ID;
CREATE GENERATOR GEN_NOTA_FISCAL_CCE_ID;
CREATE GENERATOR GEN_OD_AGENDA_ID;
CREATE GENERATOR GEN_OD_ANAMNESE_ID;
CREATE GENERATOR GEN_OD_EVOLUCOES_ID;
CREATE GENERATOR GEN_OD_IMAGENS_ID;
CREATE GENERATOR GEN_OD_PROCEDIMENTO_ID;
CREATE GENERATOR GEN_OD_R_PROCEDIMENTO_ID;
CREATE GENERATOR GEN_OS_AUTO_ID;
CREATE GENERATOR GEN_OS_AUTO_PRODUTOS_ID;
CREATE GENERATOR GEN_PRODUTOS_IMOVEL_ID;
CREATE GENERATOR GEN_TANQUE_ID;
CREATE GENERATOR GNT_COD_CC;
CREATE GENERATOR GNT_COD_CONTA_CLIENTE;
CREATE GENERATOR GNT_COD_CTR_ADM;
CREATE GENERATOR GNT_COD_DUPLICATA;
CREATE GENERATOR GNT_COD_TRANSF_LOCAL_ESTOQUE;
CREATE GENERATOR IFM$REPORTS_ID_GEN;
CREATE GENERATOR INSERTCOD_OS_BENS_MARCAS;
CREATE GENERATOR INSERT_CODIGO;
CREATE GENERATOR INSERT_CODIGO_AGREG;
CREATE GENERATOR INSERT_COD_OS_ORDEMSERVICO;
CREATE GENERATOR INSERT_COD_OS_PRIORIDADE;
CREATE GENERATOR INSERT_COD_OS_STATUS_ATEND;
CREATE GENERATOR INSERT_COD_OS_TIPOATENDIMENTO;
CREATE GENERATOR INSERT_COD_PRODUTO_SIMILAR;
CREATE GENERATOR INSERT_OS_BEM_COR;
CREATE GENERATOR INSERT_OS_BENS;
CREATE GENERATOR INSERT_OS_BENS_LOCAL;
CREATE GENERATOR INSERT_OS_BENS_MARCAS;
CREATE GENERATOR INSERT_OS_BENS_TIPO;
CREATE GENERATOR PRODUTOS_FALTA__GEN;
CREATE GENERATOR "gen_notas_manifestacao_id";


/******************************************************************************/
/***                               Exceptions                               ***/
/******************************************************************************/

CREATE EXCEPTION CEP_JA_EXISTE 'Cep ja existe na base de dados favor corrigir..';

CREATE EXCEPTION CIDADE_JA_EXISTE 'Cidade ja existe na base de dados, favor corrigir...';

CREATE EXCEPTION DATA_INVALIDA 'DATA_INVALIDA';



SET TERM ^ ; 



/******************************************************************************/
/***                           Stored Procedures                            ***/
/******************************************************************************/

CREATE PROCEDURE COD_CLIENTE
RETURNS (
    CODIGO INTEGER,
    COD_EMPRESA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE COD_CONTRATOS
RETURNS (
    ID_CONTRATO INTEGER,
    COD_EMPRESA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE COD_NOTA
RETURNS (
    NR_NOTA INTEGER,
    CD_EMPRESA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE COD_OTICA
RETURNS (
    CODIGO INTEGER,
    COD_EMPRESA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE COD_PARTIDA
RETURNS (
    CODIGO INTEGER,
    COD_EMPRESA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE COD_PRODUTO
RETURNS (
    CODIGO INTEGER,
    COD_EMPRESA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE COD_TRANSPORTADOR
RETURNS (
    CODIGO INTEGER,
    CD_EMPRESA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE CODIGO_CRED_CARTAO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE EFD_IU (
    REFERENCIA VARCHAR(6))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE EXPORTA_BALANCAS (
    MODELO INTEGER)
RETURNS (
    CODIGO INTEGER,
    CODIGO_BARRAS VARCHAR(13),
    DESCRICAO VARCHAR(70),
    DESCRICAOEXP VARCHAR(25),
    PRECOEXP NUMERIC(18,2),
    DEPTO VARCHAR(2),
    ETQTA_DEPTO VARCHAR(2),
    TIPO_PRODUTO VARCHAR(1),
    VALIDADE_PRODUTO VARCHAR(3),
    ESP_COD_AUX VARCHAR(50))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE EXPORTA_BALANCAS_CATEGORIAS
RETURNS (
    CATEGORIA VARCHAR(60),
    SEQUENCIA INTEGER,
    CODIGO INTEGER,
    CODIGO_BARRAS VARCHAR(13))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE EXTRATO_CONTA_CORRENTE (
    DT_INICIO DATE,
    DT_FIM DATE,
    CONTA_MONETARIA INTEGER)
RETURNS (
    LCTO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(900),
    DEBITO DECIMAL(18,2),
    CREDITO DECIMAL(18,2),
    ORIGEM VARCHAR(2),
    SALDO DECIMAL(18,2),
    ORDEM INTEGER,
    NUMERO_CC VARCHAR(10),
    NUMERO_CH VARCHAR(10))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_AGENCIAS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_AGREGADOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_BANCOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_CAIXA
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_CATEGORIA
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_CHEQUES
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_CLIENTES
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_COND_PAGAMENTO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_CONTA_BANCARIA
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_CONTAS_PAGAR
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_CONTASPAGAR
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_CREDIARIO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_FORNECEDORES
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_GRUPOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_LATICINIO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_LATICINIOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_MARCAS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_NOTASFISCAIS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_NOTASFISCAISITENS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_OB_BENS_MARCAS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_ORCAMENTOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_ORCAMENTOS_ITENS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_OS_BEM
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_OS_BEM_COR
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_OS_BENS_MARCA
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_OS_LOCAL
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_OS_TIPO_BENS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_PEDIDOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_PEDIDOS_ITENS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_PLANOCONTAS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_PRIORIDADE_ATEND
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_PROD_SIMILAR
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_PRODUTOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_RECIBO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_REG_PEDIDOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_RETORNO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_SECCAO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_STATUS_ATEND
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_SUBGRUPOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_TIPO_ATENDIMENTO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_UNIDADES
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_USUARIOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERECOD_VENDAS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE INSERTCOD_OS_ORDEMSERVICO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE REL_CONVENIO_DETALHADO (
    CODCON INTEGER,
    CODEMP INTEGER,
    DATAINI DATE,
    DATAFIN DATE)
RETURNS (
    CODCTR INTEGER,
    CODCLI INTEGER,
    SEQCTR VARCHAR(10) CHARACTER SET WIN1252,
    DATACTR DATE,
    VALORCTR NUMERIC(18,2),
    NOMECLI VARCHAR(60) CHARACTER SET WIN1252,
    DOCCLI VARCHAR(20) CHARACTER SET WIN1252)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE REL_CONVENIO_RESUMIDO (
    CODCON INTEGER,
    CODEMP INTEGER,
    DATAINI DATE,
    DATAFIN DATE)
RETURNS (
    CODCLI INTEGER,
    NOMECLI VARCHAR(60) CHARACTER SET WIN1252,
    DOCCLI VARCHAR(20) CHARACTER SET WIN1252,
    TOTAL NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE REL_VENDAS_PRODUTOS (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(70),
    QUANT NUMERIC(18,4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE REL_VENDAS_S (
    DATAI DATE,
    DATAF DATE,
    CODPED INTEGER,
    CODCLI INTEGER,
    VALORI NUMERIC(18,2),
    VALORF NUMERIC(18,2))
RETURNS (
    CODIGO INTEGER,
    VALOR_TOTAL NUMERIC(18,4),
    VALOR_ITENS NUMERIC(18,4),
    VALOR_COMISSAO NUMERIC(18,4),
    DATA_PEDIDO DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    VALOR_DESCONTO NUMERIC(18,4),
    SITUACAO CHAR(1),
    CODIGO_ID INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(50),
    PRECO_UNITARIO NUMERIC(18,4),
    DESCONTO NUMERIC(18,4),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,4),
    COMISSAO NUMERIC(18,4),
    DEV CHAR(1),
    QNT_DEV NUMERIC(18,4),
    VAL_DEV NUMERIC(18,4),
    ENC_FINANCEIRO NUMERIC(18,4),
    PAGAMENTO VARCHAR(35))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_AJUSTE_PRODUTOS (
    CODIGO INTEGER,
    CODIGO_B VARCHAR(14),
    REF VARCHAR(15),
    DESCRICAO VARCHAR(50),
    QUANT NUMERIC(18,4),
    CUSTO NUMERIC(18,2),
    VENDA NUMERIC(18,2),
    VENDA2 NUMERIC(18,2),
    ATIV VARCHAR(1),
    DATA_ALT DATE,
    USU VARCHAR(15),
    FRACAO INTEGER,
    QUANT_FRACAO NUMERIC(18,4))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ATUALIZA_ESTOQUE (
    CODEMP INTEGER,
    CODPRO INTEGER,
    QUANT NUMERIC(18,3),
    FRACAO INTEGER,
    LOCAL INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_BAIXA_CHEQUE (
    CODIGO INTEGER,
    COMPENSADO CHAR(1),
    USUARIO_BAIXA VARCHAR(20),
    DATA_BAIXA DATE,
    CODIGO_CC VARCHAR(15),
    NUMERO_CC VARCHAR(15))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_BAIXA_EST_ATUAL (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_BAIXA_ESTOQUE_FRACAO (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4),
    FRACAO INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_BAIXA_PARCELA_CREDIARIO (
    CODIGO INTEGER,
    SITUACAO CHAR(1),
    USUARIO_BAIXA VARCHAR(20),
    DATA_BAIXA DATE)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_BAIXA_PARCELA_CREDIARIO_T (
    CODIGO INTEGER,
    USUARIO_BAIXA VARCHAR(20),
    DATA_BAIXA DATE)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_BAIXA_PARCIAL_CREDIARIO (
    CODIGO INTEGER,
    ACRESCIMO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    PAGO NUMERIC(18,2),
    JUROS NUMERIC(18,2))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_BUSCAITENS (
    CODPRO INTEGER,
    COD_VEN INTEGER,
    ITEM INTEGER)
RETURNS (
    CODIGO INTEGER,
    CODIGO_ID INTEGER,
    ITEN INTEGER,
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(70),
    PRECO_UNITARIO NUMERIC(18,5),
    DESCONTO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    COMISSAO NUMERIC(18,2),
    DEV CHAR(1),
    QNT_DEV NUMERIC(18,4),
    VAL_DEV NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    UNIDADE VARCHAR(6),
    SIT_TRIBUTARIA VARCHAR(5),
    VENDEDOR INTEGER,
    FRACAO INTEGER,
    COD_NCM CHAR(10),
    PROD_SERV VARCHAR(1),
    PERC_ISS NUMERIC(18,2),
    BASE_ISS NUMERIC(18,2),
    VL_ISS NUMERIC(18,2),
    PERC_ICM NUMERIC(18,2),
    BASE_ICMS NUMERIC(18,2),
    VL_ICM NUMERIC(18,2),
    PERC_IPI NUMERIC(18,2),
    BASE_IPI NUMERIC(18,2),
    VL_IPI NUMERIC(18,2),
    PERC_COFINS NUMERIC(18,2),
    BASE_COFINS NUMERIC(18,2),
    VL_COFINS NUMERIC(18,2),
    PERC_ICMS_SUBST NUMERIC(18,2),
    BASE_ICMS_SUBST NUMERIC(18,2),
    VL_ICMS_SUBST NUMERIC(18,2),
    PERC_PIS NUMERIC(18,2),
    BASE_PIS NUMERIC(18,2),
    VL_PIS NUMERIC(18,2),
    IMPRIME VARCHAR(3),
    COD_EMPRESA INTEGER,
    ID_BICO INTEGER,
    ID_TANQUE VARCHAR(5),
    ID_BOMBA VARCHAR(5),
    BICO VARCHAR(2),
    ICMS NUMERIC(18,2),
    COD_ANP VARCHAR(9),
    COMBUSTIVEL VARCHAR(1),
    APLICACAO VARCHAR(500),
    IPI_IRPJ NUMERIC(18,2),
    OUTROS_IMPOSTOS NUMERIC(18,2),
    NCM_SH VARCHAR(8),
    QTD_CAIXA SMALLINT,
    UND_TRIB VARCHAR(3),
    ML_QUANT_BEB NUMERIC(18,3),
    SIT_COFINS_VENDA_EST VARCHAR(2),
    SIT_PIS_VENDA_INTER_EST VARCHAR(2),
    SIT_COFINS_VENDA_INTER_EST VARCHAR(2),
    SIT_PIS_VENDA_EST VARCHAR(2),
    CST_IPI_SAIDA VARCHAR(2),
    CST_VENDA_INTER VARCHAR(3),
    PERC_ALIQUOTA_PIS NUMERIC(18,2),
    PERC_ALIQUOTA_COFINS NUMERIC(18,2),
    CFOP_INTER_VENDA VARCHAR(4),
    FLAG_PIS_COFINS VARCHAR(1),
    CFOP_EST_VENDA VARCHAR(4),
    CST_VENDA VARCHAR(3),
    NCM_SH1 VARCHAR(8),
    PERC_TRIBU NUMERIC(18,2),
    FONTE CHAR(18),
    ALIC_NAC NUMERIC(18,2),
    ALIC_IMP NUMERIC(18,2),
    VEICULO VARCHAR(1),
    CHASSI VARCHAR(44),
    COR INTEGER,
    COR_DESC VARCHAR(30),
    N_MOTOR VARCHAR(30),
    ANO_FAB VARCHAR(4),
    ANO_MOD_FAB VARCHAR(4),
    TIPO_VEIC VARCHAR(10),
    N_SERIE VARCHAR(30),
    COD_MODELO VARCHAR(30),
    ESPECIE_VEICULO VARCHAR(10),
    COD_COR_DENATRAN VARCHAR(10),
    TIPO_COMBUSTIVEL VARCHAR(10),
    PESOBRUTO NUMERIC(18,3),
    PESOLIQUIDO NUMERIC(18,3),
    CEST VARCHAR(10))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CANCELA_PEDIDOS (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,4),
    VALOR_DESCONTO NUMERIC(18,4),
    VALOR_TOTAL NUMERIC(18,4),
    VALOR_COMISSAO NUMERIC(18,4),
    ENC_FINANCEIRO NUMERIC(18,4),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(20),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CHEQUES (
    CODIGO_COMPRA INTEGER,
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNARDO CHAR(3),
    RETORNADO_PAGO CHAR(3),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    USUARIO_CADASTRO VARCHAR(20),
    COMPENSADO CHAR(1),
    COD_EMPRESA INTEGER,
    COD_CLIENTE INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_CHEQUES_BAIXADOS_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CHEQUES_BAIXADOS_TITULAR (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CHEQUES_BAIXAR_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    USUARIO_CADASTRO VARCHAR(20))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CHEQUES_BAIXAR_TITULAR (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    USUARIO_CADASTRO VARCHAR(20))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CHEQUES_PAGAMENTO_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CHEQUES_PAGAMENTO_TITULAR (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CHEQUES_RETORNADOS_A_BAIXAR (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CHEQUES_RETORNADOS_BAIXADOS (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CHEQUES_RETORNADOS_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_COBRANCA (
    DATAI DATE,
    DATAF DATE,
    BANCO INTEGER)
RETURNS (
    CODIGO INTEGER,
    CODIGO_CLIENTE INTEGER,
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_VENDA VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,4),
    VALOR_JUROS NUMERIC(18,4),
    VALOR_ACRESCIMO NUMERIC(18,4),
    VALOR_DESCONTO NUMERIC(18,4),
    VALOR_PAGAR NUMERIC(18,4),
    VALOR_PAGO NUMERIC(18,4),
    VALOR_TOTAL NUMERIC(18,4),
    CODIGO_COMPRA INTEGER,
    PARCELA VARCHAR(10),
    NUMBOLETO VARCHAR(20),
    BANCO_PORTADOR INTEGER,
    REMESSA VARCHAR(1),
    DATACREDITO DATE,
    ID_PORTADOR INTEGER,
    ENVIADO VARCHAR(1),
    COD_EMPRESA INTEGER,
    NUMBOLETO1 INTEGER,
    COD_AVALISTA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_COMISSAO_AVISTA (
    VENDEDOR INTEGER,
    DATAI DATE,
    DATAF DATE,
    PERC_COMISSAO NUMERIC(18,2))
RETURNS (
    VENDA_ID INTEGER,
    VALOR_ITEM NUMERIC(18,2),
    VENDA_DATA DATE,
    CLIENTE_ID INTEGER,
    CLIENTE_NOME VARCHAR(50),
    VENDEDOR_ID INTEGER,
    VALOR_BASE NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_COMISSAO_PRAZO (
    VENDEDOR INTEGER,
    DATAI DATE,
    DATAF DATE,
    PERC_COMISSAO NUMERIC(18,2))
RETURNS (
    VENDA_ID INTEGER,
    VALOR_ITEM NUMERIC(18,2),
    VENDA_DATA DATE,
    CLIENTE_ID INTEGER,
    CLIENTE_NOME VARCHAR(50),
    VENDEDOR_ID INTEGER,
    VALOR_BASE NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_COMISSAO_VENDA (
    VEND INTEGER,
    PROD_TP VARCHAR(1),
    DATAI DATE,
    DATAF DATE,
    PERC_COMISSAO NUMERIC(18,2))
RETURNS (
    DATA_PEDIDO DATE,
    CODIGO_PROD INTEGER,
    DESCRICAO_PRODUTO VARCHAR(50),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    PRECO_TOTAL NUMERIC(18,2),
    VENDEDOR INTEGER,
    USUARIO VARCHAR(30),
    COMISSAO_REC NUMERIC(18,2),
    PROD_SERV VARCHAR(1),
    VALOR_BASE NUMERIC(18,2),
    N_VENDA INTEGER,
    NOME_CLIENTE VARCHAR(50),
    QUANTIDADE NUMERIC(18,3))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_COMISSAO_VENDA_RESUMO (
    VEND INTEGER,
    DATAI DATE,
    DATAF DATE,
    PROD_TP VARCHAR(1),
    PERC_COMISSAO NUMERIC(18,2))
RETURNS (
    DATA_PEDIDO DATE,
    NOME_CLIENTE VARCHAR(70),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    PRECO_TOTAL NUMERIC(18,2),
    VENDEDOR INTEGER,
    USUARIO VARCHAR(30),
    COMISSAO_REC NUMERIC(18,2),
    VALOR_BASE NUMERIC(18,2),
    N_VENDA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_COMISSAO_VENDA_S (
    VEND INTEGER,
    PROD_TP VARCHAR(1),
    DATAI DATE,
    DATAF DATE,
    PERC_COMISSAO NUMERIC(18,2))
RETURNS (
    DATA_PEDIDO DATE,
    CODIGO_PROD INTEGER,
    DESCRICAO_PRODUTO VARCHAR(50),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    PRECO_TOTAL NUMERIC(18,2),
    VENDEDOR INTEGER,
    USUARIO VARCHAR(30),
    COMISSAO_REC NUMERIC(18,2),
    PROD_SERV VARCHAR(1),
    VALOR_BASE NUMERIC(18,2),
    N_VENDA INTEGER,
    NOME_CLIENTE VARCHAR(50),
    QUANTIDADE NUMERIC(18,3))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_COND_PAGTO_VENDA (
    ID_VENDA INTEGER)
RETURNS (
    TITULO INTEGER,
    TIPO_PAGTO VARCHAR(100),
    PARCELA VARCHAR(10),
    DATA_VENCIMENTO DATE,
    VALOR NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONS_EXTORNO_COMISSAO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_EST VARCHAR(20),
    USUARIO_PEDIDO VARCHAR(20),
    VALOR NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(20))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_A_FOR (
    PARAM VARCHAR(50),
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_A_FORF (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_A_FORP (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_A_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_A_PERIODO_FOR (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_A_PERIODO_PLC (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_NA_FOR (
    PARAM VARCHAR(50),
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_NA_FORF (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_NA_FORP (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_NA_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_NA_PERIODO_FOR (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_NA_PERIODO_PLC (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_P_FOR (
    PARAM VARCHAR(50),
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_P_FORF (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_P_FORP (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_P_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_P_PERIODO_FOR (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTAS_PAGAR_P_PERIODO_PLC (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CONTASPAGAR_DEL (
    NOTA INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_CREDIARIO (
    CODIGO_COMPRA INTEGER,
    CODIGO_CLIENTE INTEGER,
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    HISTORICO VARCHAR(70),
    USUARIO_VENDA VARCHAR(20),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,2),
    VALOR_JUROS NUMERIC(18,2),
    VALOR_ACRESCIMO NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_PAGO NUMERIC(18,2),
    PARCELA VARCHAR(10),
    COD_EMPRESA INTEGER,
    TIPO VARCHAR(10),
    NOME_SACADO VARCHAR(70),
    ANO VARCHAR(4),
    MES VARCHAR(2),
    ID_CONTRATO INTEGER,
    VLR_GRAFICA NUMERIC(18,2),
    N_OS VARCHAR(10))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_CREDIARIO_CONV (
    CODIGO_COMPRA INTEGER,
    CODIGO_CLIENTE INTEGER,
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    HISTORICO VARCHAR(70),
    USUARIO_VENDA VARCHAR(20),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,2),
    VALOR_JUROS NUMERIC(18,2),
    VALOR_ACRESCIMO NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_PAGO NUMERIC(18,2),
    PARCELA VARCHAR(10),
    COD_EMPRESA INTEGER,
    TIPO VARCHAR(10),
    NOME_SACADO VARCHAR(70),
    ANO VARCHAR(4),
    MES VARCHAR(2),
    ID_CONTRATO INTEGER,
    VLR_GRAFICA NUMERIC(18,2),
    N_OS VARCHAR(10),
    COD_CONV INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_CREDIARIO_DEL (
    CODIGO_COMPRA INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_CREDIARIO_FRETE (
    CODIGO_COMPRA INTEGER,
    CODIGO_CLIENTE INTEGER,
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    HISTORICO VARCHAR(70),
    USUARIO_VENDA VARCHAR(20),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,2),
    VALOR_JUROS NUMERIC(18,2),
    VALOR_ACRESCIMO NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_PAGO NUMERIC(18,2),
    PARCELA VARCHAR(10),
    COD_EMPRESA INTEGER,
    TIPO VARCHAR(10),
    NOME_SACADO VARCHAR(70),
    ANO VARCHAR(4),
    MES VARCHAR(2),
    ID_CONTRATO INTEGER,
    VLR_GRAFICA NUMERIC(18,2),
    N_OS VARCHAR(10),
    COD_FRETE INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_CREDIARIO_HOTEL (
    CODIGO_COMPRA INTEGER,
    CODIGO_CLIENTE INTEGER,
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    HISTORICO VARCHAR(50),
    USUARIO_VENDA VARCHAR(20),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,2),
    VALOR_JUROS NUMERIC(18,2),
    VALOR_ACRESCIMO NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_PAGO NUMERIC(18,2),
    PARCELA VARCHAR(10),
    COD_EMPRESA INTEGER,
    TIPO VARCHAR(10),
    NOME_SACADO VARCHAR(50),
    ANO VARCHAR(4),
    MES VARCHAR(2),
    ID_CONTRATO INTEGER,
    VLR_GRAFICA NUMERIC(18,2),
    N_OS VARCHAR(10),
    COD_ENTRADA VARCHAR(6))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_CREDIARIO_JUROS_DIA (
    CODIGO INTEGER,
    VALOR_JUROS NUMERIC(18,2),
    JUROS NUMERIC(18,2),
    VALOR_ACRESCIMO NUMERIC(18,2),
    MULTA NUMERIC(18,2),
    DIAS_VENC INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_CREDIARIO_RECEBER_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_CLIENTE INTEGER,
    CODIGO_COMPRA INTEGER,
    PARCELA CHAR(10),
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_VENDA VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,4),
    VALOR_JUROS NUMERIC(18,4),
    VALOR_ACRESCIMO NUMERIC(18,4),
    VALOR_DESCONTO NUMERIC(18,4),
    VALOR_PAGAR NUMERIC(18,4),
    VALOR_PAGO NUMERIC(18,4),
    VALOR_TOTAL NUMERIC(18,4),
    NOME_SACADO VARCHAR(50))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CREDIARIO_RECEBIDO (
    CODIGO INTEGER,
    COD_CREDIAIRIO INTEGER,
    COD_EMPRESA INTEGER,
    PARCELA VARCHAR(6),
    VALOR_PARCELA NUMERIC(18,2),
    JUROS NUMERIC(18,2),
    MULTA NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    DATA_BAIXA DATE,
    USUARIO VARCHAR(20),
    COD_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    COD_COMPRA INTEGER,
    SALDO_PAGAR NUMERIC(18,2),
    DATA_VENCIMENTO DATE,
    VALOR_PAGO NUMERIC(18,2),
    DOC_REC_ADM INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_CREDIARIO_RECEBIDO_P (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    COD_CREDIAIRIO INTEGER,
    COD_EMPRESA INTEGER,
    PARCELA VARCHAR(6),
    VALOR_PARCELA NUMERIC(18,2),
    JUROS NUMERIC(18,2),
    MULTA NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    DATA_BAIXA DATE,
    USUARIO VARCHAR(20),
    COD_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    COD_COMPRA INTEGER,
    VALOR_PAGO NUMERIC(18,2),
    SALDO_PAGAR NUMERIC(18,2),
    DATA_VENCIMENTO DATE)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CREDIARIO_RECEBIDO_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_CLIENTE INTEGER,
    PARCELA CHAR(10),
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_VENDA VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,4),
    VALOR_JUROS NUMERIC(18,4),
    VALOR_ACRESCIMO NUMERIC(18,4),
    VALOR_DESCONTO NUMERIC(18,4),
    VALOR_PAGAR NUMERIC(18,4),
    VALOR_PAGO NUMERIC(18,4),
    VALOR_TOTAL NUMERIC(18,4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_CREDIARIO_REMOVE_JUROS (
    CODIGO INTEGER,
    VALOR_JUROS NUMERIC(18,2),
    JUROS NUMERIC(18,2),
    MULTA NUMERIC(18,2))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_CUPOM_FISCAL (
    COD_VENDA INTEGER,
    NUMEROCUMPOM INTEGER,
    NUMEROECF VARCHAR(4))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_DELETE_SPED_PRODUTOS
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_DEV_CHEQUE (
    CODIGO INTEGER,
    COMPENSADO CHAR(1))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_DUPLICATA_CARTAO (
    CODIGO INTEGER)
RETURNS (
    COD_DUPLICATA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_DUPLICATAS (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,4),
    VALOR_DESCONTO NUMERIC(18,4),
    VALOR_TOTAL NUMERIC(18,4),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ENTRADA_ATU (
    CODIGO INTEGER,
    CUSTO NUMERIC(18,2),
    ULTIMACOMPRA DATE,
    NCM_SH VARCHAR(8),
    LOTE_MED VARCHAR(10),
    VALIDADE DATE,
    DATA_FABRICACAO DATE,
    CUSTO_MEDIO NUMERIC(18,2),
    PRECO_VENDA NUMERIC(18,2),
    PRECO_VENDA2 NUMERIC(18,2))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ENTRADAS_CODIGO (
    PARAM INTEGER)
RETURNS (
    CODIGO_NOTA INTEGER,
    NUM_NOTA VARCHAR(20),
    DATA_EMISSAO DATE,
    FORNECEDOR VARCHAR(50),
    DATA_VENCIMENTO DATE,
    TOTAL_NOTA NUMERIC(18,4),
    CNPJ VARCHAR(20),
    IE VARCHAR(20),
    USUARIO_CADASTRO VARCHAR(20),
    DATA_CADASTRO DATE,
    OBSERVACOES BLOB SUB_TYPE 0 SEGMENT SIZE 80)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ENTRADAS_FORNECEDOR (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO_NOTA INTEGER,
    NUM_NOTA VARCHAR(20),
    DATA_EMISSAO DATE,
    FORNECEDOR VARCHAR(50),
    DATA_VENCIMENTO DATE,
    TOTAL_NOTA NUMERIC(18,4),
    CNPJ VARCHAR(20),
    IE VARCHAR(20),
    USUARIO_CADASTRO VARCHAR(20),
    DATA_CADASTRO DATE,
    OBSERVACOES BLOB SUB_TYPE 0 SEGMENT SIZE 80)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ENTRADAS_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO_NOTA INTEGER,
    NUM_NOTA VARCHAR(20),
    DATA_EMISSAO DATE,
    FORNECEDOR VARCHAR(50),
    DATA_VENCIMENTO DATE,
    TOTAL_NOTA NUMERIC(18,4),
    CNPJ VARCHAR(20),
    IE VARCHAR(20),
    USUARIO_CADASTRO VARCHAR(20),
    DATA_CADASTRO DATE,
    OBSERVACOES BLOB SUB_TYPE 0 SEGMENT SIZE 80)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_EST_COM_RET_PEDIDOS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_EST VARCHAR(20),
    USUARIO_PEDIDO VARCHAR(20),
    VALOR NUMERIC(18,2),
    CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(20))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ESTOQUE_ATUAL_CAD_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE_ATUAL NUMERIC(18,4),
    VALOR_ESTOQUE_ATUAL NUMERIC(18,4),
    DATACAD DATE,
    USERCAD VARCHAR(20))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ESTOQUE_ATUAL_FORNECEDOR (
    PARAM VARCHAR(70))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_FORNECEDOR VARCHAR(70),
    PRECO_VENDA NUMERIC(18,2),
    ESTOQUE_ATUAL NUMERIC(18,2),
    VALOR_ESTOQUE_ATUAL NUMERIC(18,4),
    PRECO_CUSTO NUMERIC(18,2),
    VALOR_EST_CUSTO_ATUAL NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ESTOQUE_ATUAL_GRUPO (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_GRUPO VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE_ATUAL NUMERIC(18,4),
    VALOR_ESTOQUE_ATUAL NUMERIC(18,4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ESTOQUE_ATUAL_MARCA (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_MARCA VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE_ATUAL NUMERIC(18,4),
    VALOR_ESTOQUE_ATUAL NUMERIC(18,4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ESTOQUE_ATUAL_SUBGRUPO (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_SUBGRUPO VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE_ATUAL NUMERIC(18,4),
    VALOR_ESTOQUE_ATUAL NUMERIC(18,4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ESTOQUE_CAD_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE NUMERIC(18,4),
    VALOR_ESTOQUE NUMERIC(18,4),
    DATACAD DATE,
    USERCAD VARCHAR(20))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ESTOQUE_FORNECEDOR (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_FORNECEDOR VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE NUMERIC(18,4),
    VALOR_ESTOQUE NUMERIC(18,4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ESTOQUE_GRUPO (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_GRUPO VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE NUMERIC(18,4),
    VALOR_ESTOQUE NUMERIC(18,4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ESTOQUE_MARCA (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_MARCA VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE NUMERIC(18,4),
    VALOR_ESTOQUE NUMERIC(18,4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ESTOQUE_SOMA (
    CODIGO INTEGER,
    DESCRICAO VARCHAR(70),
    QUANT NUMERIC(18,4),
    CUSTO NUMERIC(18,2),
    VENDA NUMERIC(18,2),
    ULTIMACOMPRA DATE,
    VENDA2 NUMERIC(18,2),
    NCM_SH VARCHAR(8),
    FRACAO INTEGER,
    QUANT_FRACAO NUMERIC(18,4),
    LOTE_MED VARCHAR(10),
    VALIDADE DATE,
    DATA_FABRICACAO DATE,
    ATIVO VARCHAR(1),
    CUSTO_MEDIO NUMERIC(18,2))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ESTOQUE_SOMAI (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4),
    QUANT_FRACAO NUMERIC(18,4))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ESTOQUE_SUBGRUPO (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_SUBGRUPO VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE NUMERIC(18,4),
    VALOR_ESTOQUE NUMERIC(18,4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ESTOQUE_SUBTRAI (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4),
    QUANT_FRACAO NUMERIC(18,4))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ESTOQUER_SOMA (
    CODIGO INTEGER,
    DESCRICAO VARCHAR(50),
    QUANT INTEGER,
    CUSTO NUMERIC(18,2),
    VENDA NUMERIC(18,2),
    ULTIMACOMPRA DATE,
    VENDA2 NUMERIC(18,2))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ESTOQUER_SUBTRAI (
    CODIGO INTEGER,
    DESCRICAO VARCHAR(50),
    QUANT INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_EXCLUIR_EST_VEND_FRACAO (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4),
    FRACAO INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_EXCLUIR_ESTOQUE_VENDIDO (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_EXT_CREDIARIO_RECEBIDO (
    CODIGO INTEGER,
    ACRESCIMO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    PAGO NUMERIC(18,2),
    JUROS NUMERIC(18,2))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_EXTORNO_COMISSAO_GERAL (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_EST VARCHAR(20),
    USUARIO_PEDIDO VARCHAR(20),
    VALOR NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(20))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_GERA_CLIENTES (
    MES VARCHAR(2),
    ANO VARCHAR(4))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_GERA_FORNECEDORES (
    MES VARCHAR(2),
    ANO VARCHAR(4))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_GERA_PRODUTOS_SPED (
    DATAI DATE,
    DATAF DATE)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_GERA_PRODUTOS_SPED_C (
    DATAI DATE,
    DATAF DATE)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_GERA_PRODUTOS_SPED_N (
    DATAI DATE,
    DATAF DATE)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_GERA_PRODUTOS_SPED_NFC (
    DATAI DATE,
    DATAF DATE)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_GERA_PRODUTOS_SPED_Z (
    DATAI DATE,
    DATAF DATE)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_GERA_UNIDADES
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_GERA_UNIDADES_NEW
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE "SP_GeraCodEntrada"
RETURNS (
    CODENTRADA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_INCLUIR_ESTOQUE (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_INCLUIR_ESTOQUE_VENDIDO (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_INSERT_CONTA_CLIENTE (
    DATA DATE,
    HORA TIME,
    CONTA INTEGER,
    CODCAI INTEGER,
    CODEMP INTEGER)
RETURNS (
    CODIGO INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_INSERT_CONTAS_CORRENTE (
    CODCONTA INTEGER,
    DATAEMI DATE,
    DATAVENC DATE,
    NUMCHEQUE VARCHAR(10) CHARACTER SET WIN1252,
    VALOR NUMERIC(18,2),
    CONCILIADO INTEGER,
    DC INTEGER,
    HISTORICO VARCHAR(100) CHARACTER SET WIN1252,
    CODDOC INTEGER,
    DOC VARCHAR(20) CHARACTER SET WIN1252,
    CODEMP INTEGER)
RETURNS (
    CODIGO INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_INSERT_CTR_ADM (
    CODIGO_BANDEIRA INTEGER,
    DOCUMENTO VARCHAR(20) CHARACTER SET WIN1252,
    EMISSAO DATE,
    VENCIMENTO DATE,
    CODCAI INTEGER,
    CODEMP INTEGER,
    CODVEN INTEGER,
    VALOR NUMERIC(18,2),
    TAXA NUMERIC(18,2),
    CODCLI INTEGER,
    PARCELA INTEGER)
RETURNS (
    CODIGO INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_INSERT_TRANSF_LOCAL_ESTOQUE (
    DATA DATE,
    COD_ORIGEM INTEGER,
    COD_DESTINO INTEGER,
    COD_USU INTEGER,
    COD_EMP INTEGER)
RETURNS (
    CODIGO INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_LIMITE_CREDITO (
    CLIENTE INTEGER)
RETURNS (
    CODIGO INTEGER,
    NOME_RS VARCHAR(50),
    V_CHEQUE_COMPENSAR NUMERIC(18,4),
    V_CRED_RECEBER NUMERIC(18,2),
    LIMITE_DE_CREDITO NUMERIC(18,2),
    LIMITE_DIPONIVEL NUMERIC(18,2),
    V_CRED_VENCIDO NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_MOV_BANCO_DATA (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO CHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,4),
    VALOR_SAIDA NUMERIC(18,4),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_MOV_BANCO_ESPECIFICO (
    DATAI DATE,
    DATAF DATE,
    PARAM INTEGER)
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO CHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,4),
    VALOR_SAIDA NUMERIC(18,4),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_MOV_CAIXA_DATA (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO CHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,2),
    VALOR_SAIDA NUMERIC(18,2),
    CODIGO_VENDA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_MOV_CAIXA_ESPECIFICO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO CHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,2),
    VALOR_SAIDA NUMERIC(18,2),
    CODIGO_VENDA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_MOVIMENTO_DIARIO (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO VARCHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,2),
    VALOR_SAIDA NUMERIC(18,2),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10),
    CODIGO_VENDA INTEGER,
    ORIGEM VARCHAR(3),
    VALOR NUMERIC(18,2),
    TIPO_MOV INTEGER,
    COD_PLANO INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_MOVIMENTO_DIARIO_BX (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO VARCHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,2),
    VALOR_SAIDA NUMERIC(18,2),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10),
    CODIGO_VENDA INTEGER,
    ORIGEM VARCHAR(3),
    COD_CREDIARIO INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_MOVIMENTO_DIARIO_NF (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO VARCHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,2),
    VALOR_SAIDA NUMERIC(18,2),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10),
    CODIGO_VENDA INTEGER,
    ORIGEM VARCHAR(3),
    COD_COMPRA INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_MOVIMENTTO_DIARIO_DEL (
    CODIGO_VENDA INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_MOVIMENTTO_DIARIO_DEL_NF (
    COMPRA INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_NFCE_CODIGO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_NFE (
    COD_VENDA INTEGER,
    NUMERONFE INTEGER,
    SERIENFE VARCHAR(3))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_NOVO_ORCAMENTO (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35),
    ENC_FINANCEIRO NUMERIC(18,2),
    OBSERVACOES VARCHAR(150),
    COD_VENDEDOR INTEGER,
    COD_EMPRESA INTEGER,
    COD_PAGTO INTEGER,
    ENDERECO VARCHAR(40),
    CIDADE VARCHAR(30),
    FONE VARCHAR(15),
    BAIRRO VARCHAR(30),
    CPF_CNPJ VARCHAR(20),
    RG_IE VARCHAR(15),
    EXPORTADO VARCHAR(1),
    UF VARCHAR(2),
    COD_IBGE VARCHAR(7),
    CEP CHAR(15),
    NUMERO VARCHAR(6),
    PRODUTOR VARCHAR(1),
    IE_PRODUTOR CHAR(15),
    TIPO CHAR(1))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_NOVO_ORCAMENTOS_ITENS (
    CODIGO INTEGER,
    CODIGO_ID INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(50),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_NOVO_PEDIDO (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    SITUACAO CHAR(1),
    ENC_FINANCEIRO NUMERIC(18,2),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99),
    COD_PAGTO INTEGER,
    COD_VENDEDOR INTEGER,
    COD_EMPRESA INTEGER,
    NUM_NOTA INTEGER,
    SERIE_NOTA VARCHAR(3),
    N_CUPOM VARCHAR(18),
    N_ECF VARCHAR(5),
    ENDERECO VARCHAR(40),
    CPF_CNPJ CHAR(20),
    RG_IE CHAR(15),
    FONE VARCHAR(15),
    CIDADE VARCHAR(40),
    BAIRRO VARCHAR(30),
    N_PARTIDA VARCHAR(15),
    PROPRIEDADE VARCHAR(50),
    QUANT_VENDIDA NUMERIC(18,2),
    SALDO_VENDIDO NUMERIC(18,2),
    MED_VETERINARIO VARCHAR(50),
    DATA_VACINA DATE,
    VALOR_AVISTA NUMERIC(18,2),
    VALOR_PRAZO NUMERIC(18,2),
    UF VARCHAR(2),
    COD_IBGE VARCHAR(7),
    CEP CHAR(15),
    NUMERO VARCHAR(6),
    CELULAR VARCHAR(15),
    PROD_RURAL VARCHAR(1),
    IE_PRODUTOR CHAR(15),
    TIPO CHAR(1),
    VALOR_PAGO NUMERIC(18,2),
    VALOR_TROCO NUMERIC(18,2),
    HORA TIME,
    KM INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_NOVO_PEDIDO_ITENS (
    CODIGO INTEGER,
    CODIGO_ID INTEGER,
    ITEN INTEGER,
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(70),
    PRECO_UNITARIO NUMERIC(18,5),
    DESCONTO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    COMISSAO NUMERIC(18,2),
    DEV CHAR(1),
    QNT_DEV NUMERIC(18,4),
    VAL_DEV NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    UNIDADE VARCHAR(6),
    SIT_TRIBUTARIA VARCHAR(5),
    VENDEDOR INTEGER,
    FRACAO INTEGER,
    COD_NCM CHAR(10),
    PROD_SERV VARCHAR(1),
    PERC_ISS DECIMAL(18,2),
    BASE_ISS NUMERIC(18,2),
    VL_ISS NUMERIC(18,2),
    PERC_ICM DECIMAL(18,2),
    BASE_ICMS NUMERIC(18,2),
    VL_ICM NUMERIC(18,2),
    PERC_IPI DECIMAL(18,2),
    BASE_IPI NUMERIC(18,2),
    VL_IPI NUMERIC(18,2),
    PERC_COFINS DECIMAL(18,2),
    BASE_COFINS NUMERIC(18,2),
    VL_COFINS NUMERIC(18,2),
    PERC_ICMS_SUBST DECIMAL(18,2),
    BASE_ICMS_SUBST NUMERIC(18,2),
    VL_ICMS_SUBST NUMERIC(18,2),
    PERC_PIS DECIMAL(18,2),
    BASE_PIS NUMERIC(18,2),
    VL_PIS NUMERIC(18,2),
    IMPRIME VARCHAR(3),
    COD_EMPRESA INTEGER,
    ID_BICO INTEGER,
    ID_TANQUE VARCHAR(5),
    ID_BOMBA VARCHAR(5),
    BICO VARCHAR(2))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ORCAMENTO_CLIENTE (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ORCAMENTO_DEL (
    ORC INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ORCAMENTO_GERAL (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ORCAMENTO_ITENS (
    CODIGO INTEGER,
    CODIGO_ID INTEGER,
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(50),
    PRECO_UNITARIO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    COMISSAO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    VENDEDOR INTEGER,
    SIT_TRIBUTARIA VARCHAR(6),
    UNIDADE VARCHAR(6),
    FRACAO INTEGER,
    COD_NCM CHAR(10),
    PROD_SERV VARCHAR(1),
    ITEN INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ORCAMENTO_ITENS_DEL (
    CODIGO_ID INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_ORCAMENTO_PAGAMENTO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ORCAMENTO_USUARIO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_ORCAMENTOS (
    PARAM VARCHAR(10))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35),
    OBSERVACOES VARCHAR(150),
    COD_VENDEDOR INTEGER,
    COD_PAGTO INTEGER,
    ENDERECO VARCHAR(40),
    CIDADE VARCHAR(40),
    FONE VARCHAR(15),
    BAIRRO VARCHAR(40),
    CPF_CNPJ CHAR(20),
    RG_IE VARCHAR(15),
    NUMERO INTEGER,
    CEP VARCHAR(15),
    UF VARCHAR(2),
    ENC_FINANCEIRO NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PAG_RET_PEDIDOS (
    CODIGO INTEGER,
    DATA_AUT DATE,
    HISTORICO VARCHAR(50),
    USUARIO_AUT VARCHAR(20),
    VALOR NUMERIC(18,2),
    STATUS CHAR(1),
    CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(20),
    TIPO CHAR(1),
    CODIGO_P INTEGER,
    CODIGO_C INTEGER,
    TP CHAR(1))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_PEDIDOS (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35),
    ENC_FINANCEIRO NUMERIC(18,4),
    DATA_ENTREGA DATE,
    OBSERVACOES VARCHAR(99),
    TP VARCHAR(1),
    STATUS VARCHAR(1),
    SERIE_NOTA VARCHAR(3),
    NUM_NOTA INTEGER,
    ENDERECO VARCHAR(50),
    CPF_CNPJ VARCHAR(20),
    RG_IE VARCHAR(15),
    FONE VARCHAR(15),
    CIDADE VARCHAR(40),
    BAIRRO VARCHAR(30),
    HORA TIME,
    NUMERO VARCHAR(6),
    CEP CHAR(10),
    UF VARCHAR(2),
    VALOR_TROCO NUMERIC(18,2),
    VALOR_PAGO NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PEDIDOS_C_CLIENTE (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(20),
    OBSERVACOES VARCHAR(99))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PEDIDOS_C_GERAL (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(20),
    OBSERVACOES VARCHAR(99))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PEDIDOS_C_PAGAMENTO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(20),
    OBSERVACOES VARCHAR(99))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PEDIDOS_C_USUARIO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(20),
    OBSERVACOES VARCHAR(99))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PEDIDOS_ITENS_DEL (
    CODIGO_ID INTEGER)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_PEDIDOS_N_CLIENTE (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PEDIDOS_N_CLIENTE_CODIGO (
    DATAI DATE,
    DATAF DATE,
    PARAM INTEGER)
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PEDIDOS_N_GERAL (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99),
    N_CUPOM VARCHAR(18),
    N_ECF VARCHAR(5),
    NUM_NOTA INTEGER,
    SERIE_NOTA VARCHAR(3))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PEDIDOS_N_PAGAMENTO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PEDIDOS_N_USUARIO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PENDENTE_SENHA (
    CLIENTE VARCHAR(18))
RETURNS (
    CODIGO INTEGER,
    NOME_RS VARCHAR(50),
    V_CHEQUE_COMPENSAR NUMERIC(18,4),
    V_CRED_RECEBER NUMERIC(18,2),
    LIMITE_DE_CREDITO NUMERIC(18,2),
    LIMITE_DIPONIVEL NUMERIC(18,2),
    V_CRED_VENCIDO NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PLANO_SINTETICO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    NOME VARCHAR(70),
    COD_COMPLETO VARCHAR(20),
    ENTRADA NUMERIC(18,2),
    SAIDA NUMERIC(18,2),
    VALOR NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_PRODUTOS_ESTOQUES_LOG (
    ID_EMPRESA INTEGER,
    ID_FILIAL INTEGER,
    ID_AJUSTE INTEGER,
    ID_PRODUTO INTEGER,
    ID_LOTE VARCHAR(20),
    ID_PRODUTO_SERIE VARCHAR(30),
    DATA DATE,
    ID_USUARIO INTEGER,
    ID_MOVIMENTO INTEGER,
    FRACAO INTEGER,
    ESTOQUE_ANTERIOR NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,3),
    ESTOQUE_POSTERIOR NUMERIC(18,2),
    SITUACAO_ESTOQUE INTEGER,
    OPERACAO VARCHAR(1),
    ACAO_BD VARCHAR(1),
    SITUACAO_ESTOQUE_OLD INTEGER,
    COD_VENDA INTEGER,
    COD_COMPRA INTEGER,
    HISTORICO VARCHAR(100),
    HORA TIME)
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_REL_PIS_COFINS (
    DATAI DATE,
    DATAF DATE,
    COD_EMP INTEGER)
RETURNS (
    DATA_PEDIDO DATE,
    LISTA VARCHAR(30),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO1 NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    PRECO_CUSTO NUMERIC(18,2),
    COD_EMPRESA INTEGER,
    TOTAL_LIQUIDO NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_REL_VENDAS_PROD (
    MESI VARCHAR(2),
    ANOI VARCHAR(4))
RETURNS (
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(50),
    UNIDADE VARCHAR(6),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    MES VARCHAR(2),
    ANO VARCHAR(4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_REL_VENDAS_PROD_DIA (
    DIAI VARCHAR(2),
    MESI VARCHAR(2),
    ANOI VARCHAR(4))
RETURNS (
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(50),
    UNIDADE VARCHAR(6),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    DIA VARCHAR(2),
    MES VARCHAR(2),
    ANO VARCHAR(4))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_RELATORIO_G_TRIBUTACAO (
    DATAI DATE,
    DATAF DATE,
    GRUPO INTEGER,
    STAT CHAR(1))
RETURNS (
    CODIGO_BARRAS CHAR(13),
    REFERENCIA VARCHAR(15),
    GRUPO_TRIBUTACAO INTEGER,
    NR_SEQUENCIA INTEGER,
    NR_NOTA INTEGER,
    COD_PRODUTO VARCHAR(15),
    COD_NCM VARCHAR(11),
    DESCRICAO_PRODUTO VARCHAR(70),
    PROD_SERV VARCHAR(1),
    QT_PRODUTO NUMERIC(18,4),
    VL_UNITARIO NUMERIC(18,10),
    VL_TOTAL NUMERIC(18,2),
    DT_LANCAMENTO DATE,
    PESO_LIQUIDO DOUBLE PRECISION,
    CD_ATUALIZACAO INTEGER,
    CST VARCHAR(3),
    PC_RED_BASE_ICM NUMERIC(18,2),
    ALIQ_ICM NUMERIC(18,2),
    ALIQ_ICM_SUBST NUMERIC(18,2),
    ALIQ_IPI NUMERIC(18,2),
    ALIQ_ISS NUMERIC(18,2),
    VL_BASE_ICM NUMERIC(18,2),
    VL_ICM NUMERIC(18,2),
    VL_ICM_SUBST NUMERIC(18,2),
    VL_IPI NUMERIC(18,2),
    VL_ISS NUMERIC(18,2),
    DT_ALTERACAO DATE,
    DESC_UNIDADE VARCHAR(3),
    PERC_DESCONTO NUMERIC(18,2),
    VL_BASE_ICM_SUBST NUMERIC(18,2),
    CD_CONTA INTEGER,
    CFOP VARCHAR(10),
    VL_DESCONTO NUMERIC(18,2),
    VL_CONTABIL NUMERIC(18,2),
    VL_OUTROS NUMERIC(18,2),
    VL_ISENTO NUMERIC(18,2),
    ALIQ_PIS NUMERIC(18,2),
    VL_BASE_PIS NUMERIC(18,2),
    VL_PIS NUMERIC(18,2),
    ALIQ_COFINS NUMERIC(18,2),
    VL_BASE_COFINS NUMERIC(18,2),
    VL_COFINS NUMERIC(18,2),
    VL_BASE_ISS NUMERIC(18,2),
    VL_BASE_IPI NUMERIC(18,2),
    ALIQ_ICM_PROPRIO_ST NUMERIC(18,2),
    VL_BASE_ICM_PROPRIO_ST NUMERIC(18,2),
    VL_ICM_PROPRIO_ST NUMERIC(18,2),
    ALIQ_ICM_SUBST_REAL NUMERIC(18,2),
    VL_BASE_ICM_SUBST_REAL NUMERIC(18,2),
    VL_ICM_SUBST_REAL NUMERIC(18,2),
    ITEN INTEGER,
    CODIGO_PROD INTEGER,
    CST_PIS VARCHAR(3),
    CST_COFINS VARCHAR(3),
    CST_IPI VARCHAR(2),
    DT_EMISSAO DATE,
    STATUS_CANCELADO VARCHAR(1),
    STATUS VARCHAR(1))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_RELATORIO_NOTAS (
    DATAI DATE,
    DATAF DATE,
    STAT CHAR(1))
RETURNS (
    NR_NOTA INTEGER,
    COD_CLIENTE INTEGER,
    SERIE_NF VARCHAR(3),
    CD_CFOP INTEGER,
    DT_EMISSAO DATE,
    DT_LANCAMENTO DATE,
    VL_ACRESCIMOS NUMERIC(18,2),
    VL_DESCONTOS NUMERIC(18,2),
    VL_MERCADORIAS NUMERIC(18,2),
    VL_SERVICOS NUMERIC(18,2),
    VL_TOTAL NUMERIC(18,2),
    COD_PGTO INTEGER,
    VL_AVISTA NUMERIC(18,2),
    VL_PRAZO NUMERIC(18,2),
    PESO_TOTAL NUMERIC(18,2),
    QT_PECAS NUMERIC(18,4),
    CFOP_DESC VARCHAR(40),
    CD_TRANSPORTADORA INTEGER,
    UF_ORIGEM VARCHAR(2),
    UF_DESTINO VARCHAR(2),
    PESO_LIQUIDO NUMERIC(18,2),
    VL_FRETE NUMERIC(18,2),
    VL_SEGURO NUMERIC(18,2),
    VL_BASE_ICM NUMERIC(18,2),
    VL_ICM NUMERIC(18,2),
    VL_BASE_ICM_SUBST NUMERIC(18,2),
    VL_ICM_SUBST NUMERIC(18,2),
    VL_IPI NUMERIC(18,2),
    VL_ISS NUMERIC(18,2),
    TP_FRETE VARCHAR(1),
    QT_VOLUMES NUMERIC(18,4),
    ESPECIE_VOLUMES VARCHAR(15),
    MARCA_VOLUMES VARCHAR(15),
    NR_VOLUMES INTEGER,
    CD_TIPOCOBR INTEGER,
    CD_FUNCIONARIO INTEGER,
    DT_ATZ DATE,
    PLACA_TRANSP VARCHAR(8),
    UF_PLACA_TRANSP VARCHAR(2),
    VL_OUTROS NUMERIC(18,2),
    NR_PEDIDO INTEGER,
    VL_BASE_PIS NUMERIC(18,2),
    VL_PIS NUMERIC(18,2),
    VL_BASE_COFINS NUMERIC(18,2),
    VL_COFINS NUMERIC(18,2),
    VL_BASE_IPI NUMERIC(18,2),
    VL_BASE_ISS NUMERIC(18,2),
    VL_DESCONTO_ITEM NUMERIC(18,2),
    VL_ISENTO_ITENS NUMERIC(18,2),
    VL_OUTROS_ITENS NUMERIC(18,2),
    NR_PROTOCOLO_NFE VARCHAR(15),
    DT_PROCESSAMENTO_NFE DATE,
    STATUS VARCHAR(1),
    NR_LOTE_NFE VARCHAR(15),
    NR_RECIBO_NFE VARCHAR(15),
    NR_PROTOCOLO_CANC_NFE VARCHAR(15),
    CHAVE_ACESSO_NFE VARCHAR(44),
    VL_FRETE_CONHECIMENTO NUMERIC(18,2),
    VL_ST_CONHECIMENTO NUMERIC(18,2),
    VL_ICM_CONHECIMENTO NUMERIC(18,2),
    BASE_ICM_PROPRIO_ST NUMERIC(18,2),
    VL_ICM_PROPRIO_ST NUMERIC(18,2),
    VL_BASE_ICM_SUBST_REAL NUMERIC(18,2),
    VL_ICM_SUBST_REAL NUMERIC(18,2),
    CNPJ_TRANSP CHAR(18),
    NOME_TRANSP VARCHAR(70),
    IE_TRANSP VARCHAR(20),
    END_TRANSPORTADOR VARCHAR(70),
    CIDADE_TRANSP VARCHAR(40),
    UF_TRANSP VARCHAR(2),
    TP VARCHAR(1),
    N_NOTA_ENTRADA VARCHAR(20),
    NOME_CLIENTE_FOR VARCHAR(70),
    CPF_CNPJ_CLIENTE_FORN CHAR(18),
    IE_CLIENTE_FORN VARCHAR(20),
    ENDERECO_CLI_FORN VARCHAR(44),
    END_NUM_CLIENTE VARCHAR(20),
    COD_IBGE VARCHAR(7),
    CEP_CLIENTE_FORN CHAR(10),
    BAIRRO_CLIENTE_FORN VARCHAR(30),
    TIPO_PESSOA VARCHAR(1),
    TELEFONE VARCHAR(15),
    CIDADE_CLIENTE_FORN VARCHAR(40),
    UF_CLIENTE_FORN VARCHAR(2),
    IE_PRODUTOR VARCHAR(20),
    PRODUTOR_RURAL VARCHAR(1),
    PAGAMENTO VARCHAR(70),
    STATUS_INUTILIZADO VARCHAR(1),
    STATUS_CANCELADO VARCHAR(1),
    STATUS_EMAIL VARCHAR(1),
    COD_FORNECEDOR INTEGER,
    DEPEC VARCHAR(1),
    CHAVE2 VARCHAR(70),
    STATUS_RETORNO VARCHAR(1),
    JUSTIFICATIVA_CANCEL_INUTIL VARCHAR(255),
    MODELO VARCHAR(2),
    CORRECAO VARCHAR(1),
    FL_IMPRESSO VARCHAR(1),
    CD_EMPRESA INTEGER)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_SALDO_ANT_CAIXA (
    DATA DATE,
    USU CHAR(20))
RETURNS (
    ENTRADA NUMERIC(18,2),
    SAIDA NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_SALDO_ANT_CX (
    DATA DATE)
RETURNS (
    ENTRADA NUMERIC(18,2),
    SAIDA NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_SALDO_BANCARIO (
    DATA DATE)
RETURNS (
    SALDO NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_SALDO_BANCARIO_CC (
    DATA DATE,
    CONTA INTEGER)
RETURNS (
    SALDO NUMERIC(18,2))
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE SP_SPED_INVENTARIO (
    SEQUENCIA INTEGER,
    ID_INV INTEGER,
    CODPRO INTEGER,
    COD_CONTA VARCHAR(20))
AS
BEGIN
  EXIT;
END^





CREATE PROCEDURE SP_UNIDADES (
    DATAINI DATE,
    DATAFIN DATE)
RETURNS (
    CODIGO INTEGER,
    ABREVIATURA VARCHAR(6) CHARACTER SET WIN1252,
    DESCRICAO VARCHAR(20) CHARACTER SET WIN1252)
AS
BEGIN
  SUSPEND;
END^





CREATE PROCEDURE V_SPED_CARTOES_S (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    VALOR DOUBLE PRECISION,
    COD_SPED INTEGER,
    CODIGO_BANDEIRA INTEGER,
    EMISSAO DATE)
AS
BEGIN
  SUSPEND;
END^






SET TERM ; ^



/******************************************************************************/
/***                                 Tables                                 ***/
/******************************************************************************/



CREATE TABLE ACERTO_ESTOQUE (
    COD_ACE               INTEGER NOT NULL,
    DATA_ACE              DATE NOT NULL,
    COD_MOT               INTEGER NOT NULL,
    COD_EMP               INTEGER NOT NULL,
    OBSERVACAO            VARCHAR(200) CHARACTER SET WIN1252,
    CODIGO_LOCAL_ESTOQUE  INTEGER NOT NULL
);

CREATE TABLE ADIANTAMENTO_CONTA_CLIENTE (
    CODIGO     INTEGER NOT NULL,
    ORDEM      INTEGER NOT NULL,
    VALOR      NUMERIC(18,2),
    DESCRICAO  VARCHAR(50) CHARACTER SET WIN1252 NOT NULL
);

CREATE TABLE ADMINISTRADORA_CARTAO (
    CODIGO      INTEGER NOT NULL,
    DESCRICAO   VARCHAR(50),
    CODIGO_TEF  VARCHAR(10)
);

CREATE TABLE AFERICAO (
    CODIGO          D_CODIGO NOT NULL,
    DATA            D_DATA,
    CODIGO_PROD     CODIGO,
    QUANTIDADE      D_QUANT,
    VALOR_UNITARIO  D_VALOR,
    VALOR_TOTAL     D_VALOR,
    USERCAD         D_USUARIO,
    DATACAD         D_DATA,
    COD_USUARIO     CODIGO,
    COD_TANQUE      CODIGO,
    COD_BOMBA       CODIGO,
    ID_BICO         VARCHAR(2)
);

CREATE TABLE AGENCIAS (
    CODIGO       D_CODIGO,
    FEBRABAN     VARCHAR(3),
    BANCO        D_NOME,
    NOME         D_NOME NOT NULL,
    GERENTE      D_NOME,
    ENDERECO     D_ENDERECO,
    BAIRRO       D_BAIRRO,
    CEP          D_CEP,
    CIDADE       D_CIDADE,
    UF           D_UF,
    TELEFONE     D_TEL,
    FAX          D_FAX,
    SITE         D_SITE,
    EMAIL        D_EMAIL,
    NUM_AGENCIA  VARCHAR(8) NOT NULL,
    LINK         D_CODIGO,
    USERCAD      D_USUARIO,
    DATACAD      D_DATA default 'today'
);

CREATE TABLE AGREGADOS (
    CODIGO_PROD   D_CODIGO NOT NULL,
    CODIGO_AGREG  INTEGER,
    AGREGADOS     D_DESCRICAO,
    USERCAD       D_USUARIO,
    DATACAD       D_DATA
);

CREATE TABLE APARTAMENTO (
    APA_CODAPARTAMENTO  CHAR(6) NOT NULL,
    APA_APARTAMENTO     VARCHAR(30) NOT NULL,
    APA_SITUACAO        VARCHAR(10) DEFAULT 'LIVRE' NOT NULL,
    APA_CODENTRADA      CHAR(6),
    APA_CODCATEGORIA    CHAR(6)
);

CREATE TABLE BAIRRO (
    COD_BAIRRO   D_CODIGO NOT NULL,
    DESCRICAO    D_DESCRICAO NOT NULL,
    COD_CIDADE   D_CODIGO NOT NULL,
    COD_EMPRESA  D_CODIGO,
    DATACAD      D_DATA,
    USERCAD      D_USUARIO
);

CREATE TABLE BANCOS (
    CODIGO    D_CODIGO,
    FEBRABAN  VARCHAR(3),
    NOME      D_NOME,
    SITE      D_SITE,
    USERCAD   D_USUARIO,
    DATACAD   D_DATA default 'today'
);

CREATE TABLE BANDEIRAS_CARTAO (
    CODIGO                 INTEGER NOT NULL,
    CODIGO_ADMINISTRADORA  INTEGER NOT NULL,
    DESCRICAO              VARCHAR(50),
    ATIVO                  VARCHAR(1),
    TAXA_CREDITO           DOUBLE PRECISION,
    TAXA_DEBITO            DOUBLE PRECISION,
    DIAS_CREDITO           INTEGER,
    DIAS_DEBITO            INTEGER,
    TIPO_CARTAO            VARCHAR(1),
    CODIGO_TEF             VARCHAR(10)
);

CREATE TABLE BAR (
    BAR_CONTROLE       INTEGER NOT NULL,
    BAR_CODENTRADA     CHAR(6) NOT NULL,
    BAR_CODPRODUTO     INTEGER NOT NULL,
    BAR_COMANDA        VARCHAR(30),
    BAR_DATA           DATE NOT NULL,
    BAR_QUANTIDADE     NUMERIC(18,2) DEFAULT 0 NOT NULL,
    BAR_VALORUNITARIO  NUMERIC(18,2) DEFAULT 0 NOT NULL,
    BAR_VALORTOTAL     COMPUTED BY (BAR_QUANTIDADE * BAR_VALORUNITARIO),
    BAR_EMPRESA        CODIGO,
    BAR_FRACAO         CODIGO
);

CREATE TABLE BENS (
    CODIGO         D_CODIGO NOT NULL,
    IDENTIF_MERC   BOOLEAN,
    DESC_BEM       D_NOME,
    COD_PRINCIPAL  CODIGO,
    COD_CONTA      D_NOME,
    N_PARCELAS     VARCHAR(3),
    DATACAD        D_DATA,
    USERCAD        D_USUARIO,
    COD_EMPRESA    D_CODIGO NOT NULL
);

CREATE TABLE BENS_UTILIZACAO (
    SEQUENCIA       D_CODIGO NOT NULL,
    COD_CENT_CUSTO  CODIGO,
    FUNCAO          D_NOME,
    VIDA_UTIL       CODIGO,
    COD_EMPRESA     D_CODIGO NOT NULL
);

CREATE TABLE BICO (
    COD_BICO              INTEGER NOT NULL,
    COD_BOMBA             INTEGER NOT NULL,
    COD_TANQUE            INTEGER NOT NULL,
    COD_FRENTISTA         INTEGER,
    ULTATUAL              TIMESTAMP,
    ULTATUALCODSETOR      INTEGER,
    ULTATUALCODSETORUSER  INTEGER,
    COD_PRODUTOS          INTEGER,
    DATAHORA              TIMESTAMP DEFAULT 'now',
    ENABLED               INTEGER DEFAULT 1,
    OBS                   VARCHAR(255),
    ID_BICO               VARCHAR(2),
    POSICAO               CODIGO
);

CREATE TABLE BICOENC (
    COD_BICOENC    INTEGER NOT NULL,
    ID_BICO        VARCHAR(2) NOT NULL,
    ID_BOMBA       INTEGER NOT NULL,
    REGISTRO       INTEGER NOT NULL,
    COD_FRENTISTA  INTEGER,
    ID_PRODUTOS    INTEGER NOT NULL,
    ENC_LITROS     NUMERIC(15,3),
    ENC_DINHEIRO   NUMERIC(15,3),
    PRODUTOS_DESC  VARCHAR(30),
    NIVEL_PRECO    INTEGER NOT NULL,
    DINHEIRO       NUMERIC(15,3),
    PRECO          NUMERIC(15,3),
    DATAHORA       DATE DEFAULT 'now',
    LITROS         NUMERIC(15,3),
    ID_TANQUE      INTEGER,
    UNIDADE        VARCHAR(5),
    USUARIO        D_USUARIO,
    COD_USUARIO    CODIGO
);

CREATE TABLE BICOENC_TEMP (
    COD_BICOENC_TEMP  INTEGER NOT NULL,
    ID_BOMBA          INTEGER NOT NULL,
    REGISTRO          INTEGER,
    ID_BICO           VARCHAR(2) NOT NULL,
    COD_FRENTISTA     INTEGER,
    ID_PRODUTOS       INTEGER NOT NULL,
    ENC_LITROS        NUMERIC(15,3),
    ENC_DINHEIRO      NUMERIC(15,3),
    PRODUTOS_DESC     VARCHAR(30),
    NIVEL_PRECO       INTEGER NOT NULL,
    DINHEIRO          NUMERIC(15,3),
    PRECO             NUMERIC(15,3),
    DATAHORA          TIMESTAMP DEFAULT 'now',
    LITROS            NUMERIC(15,3),
    ID_TANQUE         INTEGER,
    UNIDADE           VARCHAR(5),
    USUARIO           D_USUARIO,
    COD_USUARIO       CODIGO,
    CHECK_BOX         BOOLEAN
);

CREATE TABLE BOLETO (
    CODIGO_BOLETO         D_CODIGO NOT NULL,
    COD_EMPRESA           INTEGER,
    DESCRICAO             VARCHAR(60),
    BANCO_PORTADOR        INTEGER,
    QUANT_DIAS_PROTESTO   SMALLINT,
    OBSERVACAO            VARCHAR(300),
    LOCAL_PAGAMENTO       VARCHAR(80),
    TIPO                  VARCHAR(20),
    NOMECEDENTE           VARCHAR(80),
    CNPJCEDENTE           VARCHAR(14),
    TIPOPESSOACEDENTE     VARCHAR(8),
    CODIGOAGENCIA         VARCHAR(8),
    DIGITOAGENCIA         VARCHAR(4),
    NUMEROCONTA           VARCHAR(12),
    DIGITOCONTA           VARCHAR(4),
    CARTEIRA              VARCHAR(6),
    CONVENIO              VARCHAR(6),
    VLRABATIMENTO         DOUBLE PRECISION,
    VLRDESCONTO           DOUBLE PRECISION,
    VLRDESPESACOBRANCA    DOUBLE PRECISION,
    VLRIOF                DOUBLE PRECISION,
    VLRMORAJUROS          DOUBLE PRECISION,
    VLROUTRASDEPESAS      DOUBLE PRECISION,
    VLROUTROSCREDITOS     DOUBLE PRECISION,
    FLAG_GERAR_REMESSA    VARCHAR(1),
    NOSSONUMERO           VARCHAR(11),
    NUMERO_REMESSA        INTEGER,
    ANO_REFERENCIA        VARCHAR(2),
    PROTESTAR_AUTOMATICO  VARCHAR(1),
    MODELO                VARCHAR(6),
    USERCAD               D_USUARIO,
    DATACAD               D_DATA,
    NOME_AGENCIA          VARCHAR(20) CHARACTER SET ASCII,
    CEDENTECODIGO         VARCHAR(12),
    CEDENTECODIGODIGITO   VARCHAR(4),
    CIDADE                D_CIDADE,
    ENDERECO              D_ENDERECO,
    UF                    D_UF,
    EMAIL                 D_EMAIL,
    NUMERO                D_NUMERO,
    CEP                   D_CEP,
    BAIRRO                D_BAIRRO,
    COMPLEMENTO           VARCHAR(30),
    ANO                   VARCHAR(2),
    TP_COBRANCA           VARCHAR(1),
    LOGO                  BLOB SUB_TYPE 0 SEGMENT SIZE 40,
    PERC_JUROS            D_PERC,
    PERC_MULTA            D_PERC
);

CREATE TABLE BOMBA (
    COD_BOMBA               INTEGER NOT NULL,
    COD_FRENTISTA           INTEGER,
    ID_BOMBA                INTEGER NOT NULL,
    QNT_BICO                INTEGER NOT NULL,
    PICPATH                 VARCHAR(255),
    ULTATUAL                TIMESTAMP,
    ULTATUALCODSETOR        INTEGER,
    ULTATUALCODSETORUSER    INTEGER,
    DATAHORA                TIMESTAMP DEFAULT 'now',
    ENABLED                 INTEGER DEFAULT 1,
    OBS                     VARCHAR(255),
    AUTO_AUTORIZA           BOOLEAN_INT NOT NULL,
    DESAUTORIZA_APOS_VALOR  NUMERIC(15,3),
    DESAUTORIZA_APOS_QNT    INTEGER,
    SERIE                   VARCHAR(50),
    FABRICANTE              VARCHAR(60),
    MODELO                  D_CIDADE
);

CREATE TABLE BOMBA_LACRES (
    CODIGO        D_CODIGO,
    COD_BOMBA     D_CODIGO NOT NULL,
    LACRE         VARCHAR(20),
    DT_APLICACAO  D_DATA
);

CREATE TABLE C000047 (
    VENCIMENTO  DATE,
    DOCUMENTO   VARCHAR(20),
    HISTORICO   VARCHAR(60),
    VALOR       NUMERIC(18,2),
    C           VARCHAR(1),
    E           VARCHAR(1),
    ESPECIE     VARCHAR(20),
    COD_CONTA   CODIGO
);

CREATE TABLE CAIXA (
    SEQ              CODIGO,
    SITUACAO         INTEGER DEFAULT 1,
    SALDO            D_VALOR,
    COD_USUARIO      CODIGO,
    DATA_FECHAMENTO  D_DATA,
    DATA_ABERTURA    D_DATA,
    HORA_ABERT       TIME,
    HORA_FECHA       TIME
);

CREATE TABLE CATEGORIA (
    CAT_CODCATEGORIA  CHAR(6) NOT NULL,
    CAT_CATEGORIA     VARCHAR(30) NOT NULL,
    CAT_ATEPESSOAS    INTEGER DEFAULT 0 NOT NULL,
    CAT_VALORDIARIA1  NUMERIC(18,2) DEFAULT 0 NOT NULL,
    CAT_VALORDIARIA2  NUMERIC(18,2) DEFAULT 0 NOT NULL,
    CAT_VALORDIARIA3  D_VALOR DEFAULT 0,
    CAT_VALORDIARIA4  D_VALOR DEFAULT 0
);

CREATE TABLE CATEGORIAS (
    CODIGO       D_CODIGO NOT NULL,
    DESCRICAO    D_DESCRICAO,
    PERC_AVISTA  D_PERC,
    PERC_PRAZO   D_PERC,
    USERCAD      D_USUARIO,
    DATACAD      D_DATA
);

CREATE TABLE CENTRO_CUSTO (
    COD_CENTRO   CODIGO NOT NULL,
    DESCRICAO    D_NOME,
    DATA_CAD     D_DATA,
    USERCAD      D_USUARIO,
    COD_EMPRESA  D_CODIGO NOT NULL,
    COD_PLANO    CODIGO
);

CREATE TABLE CFOP (
    CODIGO_CFOP  VARCHAR(5) NOT NULL,
    DESCRICAO    VARCHAR(80)
);

CREATE TABLE CHEQUES (
    COD_EMPRESA        CODIGO NOT NULL,
    CODIGO             INTEGER NOT NULL,
    CODIGO_COMPRA      INTEGER,
    BANCO              VARCHAR(40),
    AGENCIA            VARCHAR(15),
    CONTA_CORRENTE     VARCHAR(15),
    CONTA_DESDE        DATE,
    TITULAR            VARCHAR(50),
    TIPO_CHEQUE        VARCHAR(20),
    N_CHEQUE           VARCHAR(15),
    QNT                VARCHAR(10),
    VALOR_CHEQUE       D_QUANT,
    COD_CLIENTE        CODIGO,
    CLIENTE            VARCHAR(50),
    RETORNARDO         CHAR(3) DEFAULT 'NAO',
    RETORNADO_PAGO     CHAR(3) DEFAULT 'NAO',
    MOTIVO_RETORNO     VARCHAR(50),
    DATA_CADASTRO      DATE DEFAULT 'TODAY',
    DATA_DEPOSITO      DATE,
    DATA_RETORNO       DATE,
    DATA_BAIXA         DATE,
    USUARIO_CADASTRO   VARCHAR(20),
    USUARIO_BAIXA      VARCHAR(20),
    COMPENSADO         CHAR(1) default 'N',
    CODIGO_CC          INTEGER,
    NUMERO_CC          VARCHAR(10),
    NUMERO             D_NUMERO,
    COD_BARRAS_CHEQUE  VARCHAR(50),
    CHEK_BOX           BOOLEAN,
    DESTINO            D_NOME,
    CPF_CNPJ           D_CPF_CNPJ
);

CREATE TABLE CHEQUES_EMITIDOS (
    COD_CHEQUE        CODIGO NOT NULL,
    VALOR             D_VALOR NOT NULL,
    DATA_EMISSAO      D_DATA NOT NULL,
    DATA_VENCIMENTO   D_DATA NOT NULL,
    PAGO              BOOLEAN NOT NULL,
    ORIGEM            VARCHAR(2) NOT NULL,
    DOCUMENTO_ORIGEM  CODIGO,
    COD_CONTA         CODIGO NOT NULL,
    COMP_NA_INCLUSAO  BOOLEAN NOT NULL,
    DATA_COMPENSACAO  D_DATA,
    HISTORICO         VARCHAR(900),
    NUMERO_CHEQUE     INTEGER NOT NULL,
    COD_USUARIO       CODIGO NOT NULL,
    COD_EMPRESA       CODIGO NOT NULL,
    TROCO             BOOLEAN NOT NULL,
    FAVORECIDO        VARCHAR(50) NOT NULL,
    COD_VENDA         CODIGO,
    COD_COMPRA        CODIGO,
    OBSERVACAO        VARCHAR(300),
    COD_CLI           CODIGO,
    COD_FORN          CODIGO,
    DATA_RETORNO      DATE,
    RETORNADO         BOOLEAN,
    PL_CONTA          CODIGO,
    ID_VALE           CODIGO
);

CREATE TABLE CIDADES (
    COD_CIDADE   D_CODIGO NOT NULL,
    NOME         D_DESCRICAO NOT NULL,
    CEP          D_CEP,
    COD_ESTADO   D_CODIGO NOT NULL,
    COD_EMPRESA  INTEGER,
    USERCAD      D_USUARIO,
    DATACAD      D_DATA,
    ZONAS        INTEGER,
    COD_IBGE     CODIGO
);

CREATE TABLE CL00002 (
    PRESTACAO   INTEGER,
    VENCIMENTO  DATE,
    VALOR       NUMERIC(18,2),
    DOCUMENTO   VARCHAR(20),
    TIPO        VARCHAR(20),
    TERMINAL    VARCHAR(4)
);

CREATE TABLE CLIENTES (
    CODIGO                     D_CODIGO,
    NOME_RS                    D_NOME NOT NULL,
    ENDERECO                   D_ENDERECO,
    CIDADE                     D_CIDADE,
    UF                         D_UF,
    CEP                        D_CEP,
    TELEFONE                   D_TEL,
    TELEFONE2                  D_FAX,
    EMAIL                      D_EMAIL,
    NASCIMENTO_IA              D_DATA,
    SEXO                       D_SEXO,
    FOTO_LOGOMARCA             D_FOTO,
    BAIRRO                     D_BAIRRO,
    RG_IE                      D_RG,
    FAX                        D_FAX,
    CELULAR                    D_CELULAR,
    USERCAD                    D_USUARIO,
    DATACAD                    D_DATA default 'today',
    CPF_CNPJ                   D_CPF_CNPJ NOT NULL,
    OBSERVACOES                BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    CREDIARIO                  VARCHAR(3) DEFAULT 'SIM',
    ESTADOCIVIL                VARCHAR(10),
    RESIDENCIA_SEDE            VARCHAR(10),
    PAI                        D_NOME,
    MAE                        D_NOME,
    NOME_CONJUGE               D_NOME,
    CPF_CONJUGE                D_CPF_CNPJ,
    NASCIMENTO_CONJUGE         D_DATA,
    TRABALHO_CONJUGE           D_NOME,
    PROFISSAO_CONJUGE          D_NOME,
    LOCALTRABALHO              D_NOME,
    PROFISSAO_RA               D_NOME,
    TELEFONE_TRABALHO          D_TEL,
    FAX_TRABALHO               D_FAX,
    OBSERVACOES_TRABALHO       BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    BANCO                      D_NOME,
    NOME_AGENCIA               D_NOME,
    NUMERO_AGENCIA             VARCHAR(10),
    CONTA_CORRENTE             INTEGER,
    NOME1_REFERENCIA           D_NOME,
    NOME2_REFERENCIA           D_NOME,
    TELEFONE1_REFERENCIA       D_TEL,
    TELEFONE2_REFERENCIA       D_TEL,
    BANCO_REFERENCIA           D_NOME,
    APELIDO                    VARCHAR(30),
    TIPO                       CHAR(1),
    OBSERVACOES_COMERCIAIS     BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    OBSERVACOES_BANCO          BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    PG_CREDIARIO               CHAR(1),
    PG_CHEQUE                  CHAR(1),
    PG_FINANCEIRA              CHAR(1),
    REMUNERACAO                NUMERIC(18,2),
    NUMERO                     VARCHAR(6),
    COMPLEMENTO                VARCHAR(30),
    COD_EMPRESA                INTEGER,
    ORGAO_EMISSOR              VARCHAR(10),
    DATA_EMISSAO_RG            D_DATA,
    NATURALIDADE               D_CIDADE,
    NATURALIDADE_UF            D_UF,
    COD_CIDADE                 CODIGO,
    COD_BAIRRO                 CODIGO,
    DATA_ALTERACAO             D_DATA,
    COD_ZONA                   CODIGO,
    PONTO_REFERENCIA           VARCHAR(200),
    ATIVO                      VARCHAR(1),
    CONTATO1                   VARCHAR(60),
    CONTATO2                   VARCHAR(60),
    CX_POSTAL                  VARCHAR(10),
    VALOR_ALUGUEL              CALCULADO,
    TEMPO_RESIDENCIA           VARCHAR(10),
    NUMERO_DEPENDENTES         CODIGO,
    ENDERECO_REFERENCIA1       D_ENDERECO,
    ENDERECO_REFERENCIA2       D_ENDERECO,
    DATA_ADMISSAO_REFERENCIA1  D_DATA,
    DATA_ADMISSAO_REFERENCIA2  D_DATA,
    RG_CONJUGUE                D_IE,
    RENDA_CONJUGUE             CALCULADO,
    DATA_ADMINSSAO_CONJUGUE    D_DATA,
    FONE_CONJUGUE              D_FAX,
    ENDERECO_COBRANCA          D_ENDERECO,
    CEP_COBRANCA               D_CEP,
    COD_CIDADE_COBRANCA        CODIGO,
    CX_POSTAL_COBRANCA         D_RG,
    LIMITE_DE_CREDITO          CALCULADO,
    INSC_MUNICIPAL             D_IE,
    PRODUTOR_RURAL             VARCHAR(1),
    INSC_PRODUTOR_RURAL        D_IE,
    COD_BAIRRO_COBRANCA        CODIGO,
    CIDADE_COBRANCA            D_CIDADE,
    BAIRRO_COBRANCA            D_BAIRRO,
    UF_COBRANCA                D_UF,
    CONTA_BANCARIA             VARCHAR(20),
    NOME_PROPRIEDADE           D_NOME,
    NOME_VETERINARIO           D_NOME,
    SOCIO1                     VARCHAR(40),
    CPFSOCIO1                  VARCHAR(11),
    DATANASCSOCIO1             DATE,
    SOCIO2                     VARCHAR(40),
    CPFSOCIO2                  VARCHAR(11),
    DATANASCSOCIO2             DATE,
    SOCIO3                     VARCHAR(40),
    CPFSOCIO3                  VARCHAR(11),
    DATANASCSOCIO3             DATE,
    SOCIO4                     VARCHAR(40),
    CPFSOCIO4                  VARCHAR(11),
    DATANASCSOCIO4             DATE,
    DATAFUNDACAO               DATE,
    CAPITALSOCIAL              NUMERIC(18,2) DEFAULT 0,
    FATURAMENTOBRUTO           NUMERIC(18,2) DEFAULT 0,
    REGJUNTACOM                VARCHAR(12),
    ENDSOCIO1                  VARCHAR(40),
    RGSOCIO1                   INTEGER,
    ENDSOCIO2                  VARCHAR(40),
    RGSOCIO2                   INTEGER,
    ENDSOCIO3                  VARCHAR(40),
    RGSOCIO3                   INTEGER,
    ENDSOCIO4                  VARCHAR(40),
    RGSOCIO4                   INTEGER,
    AUTORIZADO1                D_NOME,
    AUTORIZADO2                D_NOME,
    AUTORIZADO3                D_NOME,
    CPF_AUT1                   D_CPF_CNPJ,
    CPF_AUT2                   D_CPF_CNPJ,
    CPF_AUT3                   D_CPF_CNPJ,
    FUNCIONARIO                BOOLEAN,
    CTPS                       D_FAX,
    TESTA_CREDITO              BOOLEAN DEFAULT 'S',
    TESTA_LIMITE               BOOLEAN DEFAULT 'S',
    COD_CONV                   CODIGO,
    FOTO                       VARCHAR(80),
    DATA_ULTIMA_COMPRA         D_DATA,
    FUNC_SALARIO               D_VALOR,
    FUNC_DATA_ADMISSAO         D_DATA,
    FUNC_SITUACAO              BOOLEAN,
    FUNC_DEMISSAO              D_DATA,
    FUNC_CARGO                 VARCHAR(30),
    DOCUMENTOS                 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    IE                         D_RG
);

CREATE TABLE CLIENTES_CONTATO (
    ID                   INTEGER NOT NULL,
    ID_CLIENTES          INTEGER,
    PRODUTO              VARCHAR(100),
    CONTATO_FINALIZADO   CHAR(3),
    CONTATO_PREJUDICADO  VARCHAR(100),
    TELEFONE_UTILIZADO   VARCHAR(16)
);

CREATE TABLE CLIENTES_DOCUMENT (
    ID           INTEGER NOT NULL,
    ID_CLIENTES  INTEGER,
    DESCRICAO    VARCHAR(100),
    SITUACAO     CHAR(3),
    DOCUMENTO    BLOB SUB_TYPE 0 SEGMENT SIZE 80
);

CREATE TABLE CLIENTES_PROFISSAO (
    ID                  INTEGER NOT NULL,
    ID_CLIENTES         INTEGER,
    PROFISSAO_OCUPACAO  VARCHAR(100),
    NATUREZA_OCUPACAO   VARCHAR(100),
    NIVEL_CARGO         VARCHAR(100),
    DESCRICAO_CARGO     VARCHAR(100),
    EMPRESA_EMPREGADOR  VARCHAR(100),
    TIPO                VARCHAR(20),
    CPF_CNPJ            VARCHAR(19),
    CIDADE              VARCHAR(40),
    DATA_INICIO         DATE,
    RENDA_BRUTA         DECIMAL(12,2),
    GASTOS_VEICULO      DECIMAL(12,2),
    OUTROS_GASTOS       DECIMAL(12,2)
);

CREATE TABLE CLIENTES_REFERENCIA (
    ID           INTEGER NOT NULL,
    ID_CLIENTES  INTEGER,
    NOME         VARCHAR(100),
    TELEFONE     VARCHAR(16),
    TIPO         VARCHAR(30)
);

CREATE TABLE COD_DOCUMENTOS_FISCAIS (
    CODIGO     VARCHAR(2) NOT NULL,
    DESCRICAO  VARCHAR(50)
);

CREATE TABLE CONDICAO_PAGAMENTO (
    CODIGO          INTEGER NOT NULL,
    NUMERO_PAR      INTEGER,
    VARIACAO_DIAS   INTEGER,
    PIMEIRA_PAR     INTEGER,
    JUROS_DIA       NUMERIC(18,4),
    MEDIA_DIAS      INTEGER,
    JUROS_BASE      NUMERIC(18,2),
    TIPO_PAGAMENTO  CHAR(1),
    STATUS          CHAR(1),
    USUARIO         VARCHAR(20),
    DATA            DATE,
    DESCRICAO       VARCHAR(35),
    PG_ECF          VARCHAR(2),
    CHEK            BOOLEAN
);

CREATE TABLE CONDICAO_PAGTO_FORMAS (
    COD_FORMA     CODIGO NOT NULL,
    DESCRICAO     D_BAIRRO NOT NULL,
    TIPO_PAGTO    CHAR(1),
    MOSTRA_VENDA  BOOLEAN,
    TELA_TROCO    BOOLEAN
);

CREATE TABLE CONFIGURACOES (
    CODIGO                       INTEGER NOT NULL,
    JUROS                        NUMERIC(18,4),
    DESCONTO_MAXIMO_FV           NUMERIC(18,2),
    MSG_CUPOMFISCAL              VARCHAR(250),
    NUMERO_SERIE                 VARCHAR(20),
    FORM_PEDIDOS                 CHAR(1),
    DDIP                         INTEGER,
    DCP                          INTEGER,
    JUROS_CHEQUE                 NUMERIC(18,4),
    DIAS_CARENCIA                INTEGER,
    ALTERA_PRECOVENDA            CHAR(1),
    TIPO_DESCONTOVENDA           CHAR(1),
    REGISTRADORA                 CHAR(1),
    CUPOM                        VARCHAR(1),
    CONTRATO                     VARCHAR(1),
    BOLETO                       VARCHAR(1),
    DUPLICATA                    VARCHAR(1),
    LIMITE_CREDITO               BOOLEAN,
    ESTOQUE_NEGATIVO             BOOLEAN,
    PESQ_PADRAO                  BOOLEAN,
    IMPRESSAO                    VARCHAR(1),
    CLIENTE_PADRAO               CODIGO,
    LOGOMARCA                    D_FOTO,
    PRODUTO_PADRAO               CODIGO,
    CUPON_VINCULADO              VARCHAR(1),
    OS_PRIORIDADE                INTEGER,
    OS_TIPO                      INTEGER,
    OS_STATUS                    INTEGER,
    PRECO_PADRAO                 VARCHAR(1),
    MULTA                        NUMERIC(18,4),
    USA_FRACAO                   VARCHAR(1),
    IMP_NOTA                     VARCHAR(1),
    TP_DESCONTO                  BOOLEAN,
    LIB_PRECO_VENDA              BOOLEAN,
    DESC_MAXIMO_PERC             CODIGO,
    UTILIZA_NFE                  BOOLEAN,
    COD_PAGTO_PADRAO             BOOLEAN,
    IMP_VENDA                    BOOLEAN,
    LEITOT_SERIAL                BOOLEAN,
    CLIENTE_VENDEDOR             BOOLEAN,
    DEBITOS_CLIENTE              BOOLEAN,
    DATA_TRAB                    D_DATA,
    NFE_CERTIFICAO               VARCHAR(60),
    NFE_SENHA                    VARCHAR(20),
    NFE_LOGOMARCA                VARCHAR(100),
    NFE_CAMINHO_XML              VARCHAR(100),
    USA_GAVETA                   BOOLEAN,
    OBS_FISCO                    VARCHAR(200),
    MODELO_ECF                   BOOLEAN,
    PREVIEW                      BOOLEAN,
    DEFAULT_LOCAL_ORIGEM         INTEGER,
    DEFAULT_LOCAL_DESTINO        INTEGER,
    DATA_INICIO_ESTOQUE          D_DATA,
    COD_EMPRESA                  INTEGER,
    CODIGO_LOCAL_ESTOQUE_VENDAS  INTEGER,
    LOCAL_BACKUP                 VARCHAR(255),
    TIPO_IMPRESSAO_DANFE         CHAR(1) CHARACTER SET WIN1252,
    FORMA_EMISSAO_DANFE          INTEGER,
    AMBIENTE_DANFE               CHAR(1) CHARACTER SET WIN1252,
    SERVIDOR_SMTP                VARCHAR(100) CHARACTER SET WIN1252,
    PORTA_SMTP                   VARCHAR(10) CHARACTER SET WIN1252,
    USUARIO_SMTP                 VARCHAR(80) CHARACTER SET WIN1252,
    SENHA_SMTP                   VARCHAR(60) CHARACTER SET WIN1252,
    ASSUNTO_EMAIL_DANFE          VARCHAR(150) CHARACTER SET WIN1252,
    SMTP_CONEXAO_SEGURA          CHAR(1) CHARACTER SET WIN1252,
    MENSAGEM_EMAIL_DANFE         VARCHAR(200) CHARACTER SET WIN1252,
    PASTA_CANCELADAS_DANFE       VARCHAR(100) CHARACTER SET WIN1252,
    PASTA_INUTILIZADAS_DANFE     VARCHAR(100) CHARACTER SET WIN1252,
    PASTA_TRANSMITIDAS_DANFE     VARCHAR(100) CHARACTER SET WIN1252,
    FROM_SMTP                    VARCHAR(100) CHARACTER SET WIN1252,
    CAMINHO_ARQUIVOS_PDF         VARCHAR(100) CHARACTER SET WIN1252,
    ESTADO_NFE                   VARCHAR(2) CHARACTER SET WIN1252,
    SALVAR_LOG_DANFE             BOOLEAN,
    CAMINHO_CERTIFICADO          VARCHAR(100),
    CST_CUPON                    VARCHAR(3),
    CFOP_CUPON                   VARCHAR(5),
    TP_DESC                      BOOLEAN,
    PROX_LINHA                   BOOLEAN,
    USUARIO_FP                   D_NOME,
    SENHA_FP                     VARCHAR(20),
    USA_FP                       BOOLEAN,
    CHS                          BOOLEAN,
    CONCENTRADOR                 BOOLEAN,
    CONCENT_PORTA                VARCHAR(4),
    UNIT_TOTAL                   BOOLEAN,
    VALOR_GERENCIAL              CODIGO,
    TEXTO_GERENCIAL              VARCHAR(50),
    TEXTO_GERENCIAL1             VARCHAR(50),
    TEXTO_GERENCIAL2             VARCHAR(50),
    TEXTO_GERENCIAL4             VARCHAR(50),
    USA_GERENCIAL                BOOLEAN,
    CON_VALORMINUTO              D_VALOR,
    CON_CCEXTRA                  CHAR(3) DEFAULT 'SIM',
    CON_VALORCEXTRA              D_VALOR DEFAULT 0,
    CON_HORADIARIA               VARCHAR(8),
    PLANO_VENDA_AV               INTEGER,
    PLANO_VENDA_AP               INTEGER,
    PLANO_OS_AV                  INTEGER,
    PLANO_OS_AP                  INTEGER,
    PLANO_OUTRAS_ENTRADAS        INTEGER,
    PLANO_OUTRAS_SAIDAS          INTEGER,
    PLANO_RECEBIMENTO_CREDIARIO  INTEGER,
    PLANO_DUPLICATA_NFE          INTEGER,
    ECF_MODELO                   VARCHAR(30),
    ECF_PORTA                    VARCHAR(10),
    ECF_TIPO                     VARCHAR(20),
    ECF_MARCA                    VARCHAR(30),
    ABRE_VENDA                   BOOLEAN DEFAULT 'S',
    CAMINHO_RELATORIO_DANFE      VARCHAR(50),
    TOKEN                        VARCHAR(6),
    ID_TOKEN                     VARCHAR(35),
    NFCE_OFF                     VARCHAR(1),
    TP_PESQUISA                  BOOLEAN,
    CAIXA_UNICO                  BOOLEAN,
    MARGEM_LUCRO                 D_VALOR,
    SERVICO_NFCE                 INTEGER,
    IMP_CODIGO_FORNECEDOR        BOOLEAN,
    EXCLUI_SERV_NFE              BOOLEAN,
    PLANO_COMP_IMOV_CR           CODIGO,
    PLANO_COMP_IMOV_DB           CODIGO,
    PLANO_VENDA_IMOV_CR          CODIGO,
    PLANO_VENDA_IMOV_DB          CODIGO,
    PLANO_COMISSAO_PAGAR_CR      CODIGO,
    PLANO_COMISSAO_PAGAR_DB      CODIGO,
    PREVIEW_NFE                  VARCHAR(1)
);

CREATE TABLE CONTA_BANCARIA (
    CODIGO     D_CODIGO,
    FEBRABAN   VARCHAR(3),
    BANCO      VARCHAR(50),
    TITULAR    VARCHAR(50),
    AGENCIA    VARCHAR(10),
    CONTA      VARCHAR(10),
    DIGITO     VARCHAR(1),
    TIPO       CHAR(1),
    USERCAD    D_USUARIO,
    DATACAD    D_DATA Default 'Today',
    COD_PLANO  CODIGO
);

CREATE TABLE CONTA_CLIENTE (
    CODIGO           INTEGER NOT NULL,
    DATA_ABERTURA    DATE NOT NULL,
    HORA_ABERTURA    TIME NOT NULL,
    CONTA            INTEGER NOT NULL,
    DATA_FECHAMENTO  DATE,
    HORA_FECHAMENTO  TIME,
    COD_CAI          INTEGER NOT NULL,
    COD_EMP          INTEGER NOT NULL,
    STATUS           INTEGER NOT NULL,
    TOTAL            NUMERIC(18,2) NOT NULL,
    CONTA_ORIGEM     INTEGER,
    CER              INTEGER,
    COO              INTEGER,
    COO_VENDA        INTEGER
);

CREATE TABLE CONTABILIDADE (
    ID              INTEGER NOT NULL,
    ID_PLANO_CONTA  INTEGER,
    ID_CONTRATO     INTEGER,
    LANCAMENTO      DATE,
    VALOR           DECIMAL(12,2)
);

CREATE TABLE CONTAS_APAGAR (
    CODIGO            INTEGER NOT NULL,
    DATA_EMISSAO      DATE,
    DATA_VENCIMENTO   DATE,
    DATA_PAGAMENTO    DATE,
    CODCONTA          INTEGER,
    CODFORNECEDOR     INTEGER,
    VALOR             NUMERIC(18,2),
    VALORPAGO         NUMERIC(18,2),
    LIQUIDO           NUMERIC(18,2),
    DESCONTO          NUMERIC(18,2),
    ACRESCIMO         NUMERIC(18,2),
    DOCUMENTO         VARCHAR(20),
    NOTAFISCAL        VARCHAR(20),
    HISTORICO         VARCHAR(60),
    C                 VARCHAR(1),
    E                 VARCHAR(1),
    FILTRO            INTEGER,
    ESPECIE           VARCHAR(20),
    SITUACAO          INTEGER,
    CODNOTA           INTEGER,
    MOVIMENTO         INTEGER,
    CODCAIXA          INTEGER,
    COD_CENTRO_CUSTO  CODIGO,
    COD_IMOVEL        CODIGO
);

CREATE TABLE CONTAS_APAGAR_PAGO (
    SEQ         D_CODIGO NOT NULL,
    COD_PAGAR   D_CODIGO NOT NULL,
    VALOR_PAGO  D_VALOR,
    DATA_PAGTO  D_DATA
);

CREATE TABLE CONTAS_APAGAR_PLANO (
    SEQ        CODIGO NOT NULL,
    CODPLANO   CODIGO NOT NULL,
    CODIGO_ID  D_CODIGO NOT NULL,
    VALOR      D_VALOR
);

CREATE TABLE CONTAS_PAGAR (
    CODIGO_GERA          D_CODIGO,
    CODIGO               D_CODIGO,
    DATA_CADASTRO        D_DATA,
    DATA_EMISSAO         D_DATA,
    DATA_VENCIMENTO      D_DATA,
    DATA_BAIXA           D_DATA,
    USUARIO_CADASTRO     D_USUARIO,
    USUARIO_AUTORIZACAO  D_USUARIO,
    USUARIO_BAIXA        D_USUARIO,
    TIPO_DOCUMENTO       D_NOME,
    FORNECEDOR           D_NOME,
    DESCONTO             D_VALOR,
    MULTA                D_VALOR,
    JUROS                D_VALOR,
    VALOR_DOCUMENTO      D_VALOR,
    VALOR_PARCELA        D_VALOR,
    VALOR_BAIXA          D_VALOR,
    N_DOCUMENTO          VARCHAR(10),
    PARCELA              VARCHAR(5),
    SERIE                VARCHAR(5),
    AUTORIZACAO          CHAR(1),
    OBSERVACOES          BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    TIPO                 CHAR(1),
    VALOR_ADIANTAMENTO   D_VALOR,
    VALOR_AUTORIZADO     D_VALOR,
    VALOR_PAGAR          COMPUTED BY (((VALOR_AUTORIZADO - VALOR_BAIXA))),
    CODIGO_FORNECEDOR    CODIGO
);

CREATE TABLE CONTAS_RECEBER_ADM_CARTAO (
    CODIGO            INTEGER NOT NULL,
    CODIGO_BANDEIRA   INTEGER,
    DOCUMENTO         VARCHAR(20),
    EMISSAO           DATE,
    VENCIMENTO        DATE,
    DATA_PAGAMENTO    DATE,
    COD_CAI           INTEGER,
    COD_EMP           INTEGER,
    COD_VEN           INTEGER,
    VALOR             DOUBLE PRECISION,
    VALOR_PAGO        DOUBLE PRECISION,
    ACRESCIMO         DOUBLE PRECISION,
    DESCONTO          DOUBLE PRECISION,
    TAXA              DOUBLE PRECISION,
    CODIGO_DUPLICATA  INTEGER,
    COD_CLI           INTEGER,
    PARCELA           INTEGER,
    USUARIO           D_USUARIO,
    HISTORICO         VARCHAR(500),
    CODIGO_SEQUENCIA  CODIGO,
    DOC_REC_ADM       INTEGER
);

CREATE TABLE CONTASPAGAR (
    CODIGO             D_CODIGO,
    DATA_CADASTRO      D_DATA,
    DATA_EMISSAO       D_DATA,
    DATA_VENCIMENTO    D_DATA,
    USUARIO_CADASTRO   D_USUARIO,
    TIPO_DOCUMENTO     D_NOME,
    CODIGO_FORNECEDOR  D_CODIGO,
    FORNECEDOR         D_NOME,
    VALOR_DOCUMENTO    D_VALOR,
    VALOR_PARCELA      D_VALOR,
    DIA_VENCIMENTO     VARCHAR(2),
    N_DOCUMENTO        VARCHAR(10),
    PARCELA            VARCHAR(3),
    SERIE              VARCHAR(5),
    TIPO               CHAR(1),
    COND_PAGTO         VARCHAR(30),
    COND_PAGTO_COD     INTEGER,
    MES                VARCHAR(2),
    ANO                VARCHAR(4),
    CODIGO_NOTA        CODIGO
);

CREATE TABLE CONTRATO (
    CODIGO       D_CODIGO NOT NULL,
    OBSERVACAO   BLOB SUB_TYPE 1 SEGMENT SIZE 80,
    COD_EMPRESA  INTEGER NOT NULL,
    USERCAD      D_USUARIO,
    DATACAD      D_DATA
);

CREATE TABLE CONTRATOS (
    COD_EMPRESA      CODIGO,
    ID_CONTRATO      D_CODIGO NOT NULL,
    COD_CLIENTE      CODIGO,
    NOME_CLIENTE     D_NOME,
    VALOR            D_VALOR,
    DESCRICAO        D_OBSERVACOES,
    DATA_CONTRATO    D_DATA,
    DATA_VENCIMENTO  D_DATA,
    CHEK_BOX         BOOLEAN,
    ATIVO            BOOLEAN,
    TIPO_CONTRATO    CODIGO,
    PLANO_CONTRATO   CODIGO,
    PLANO_CARACT     CODIGO
);

CREATE TABLE CONTROLE_LOTES (
    CODIGO         INTEGER,
    CODPRODUTO     INTEGER,
    LOTE           VARCHAR(30),
    ESTOQUE        NUMERIC(18,2),
    CODCLIENTE     INTEGER,
    PRECOCUSTO     NUMERIC(18,2),
    PRECOVENDA     NUMERIC(18,2),
    DATAVENDA      DATE,
    SITUACAO       INTEGER,
    CLIENTE        VARCHAR(80),
    CODNOTA        INTEGER,
    CODITEM        INTEGER,
    DATACOMPRA     DATE,
    NUMERONOTA     VARCHAR(15),
    CODFORNECEDOR  INTEGER,
    CODVENDA_ITEM  INTEGER,
    FILTRO         INTEGER,
    CODVENDA       INTEGER
);

CREATE TABLE CONVENIO (
    COD_CON              INTEGER NOT NULL,
    NOME_CON             D_NOME NOT NULL,
    END_CON              VARCHAR(50) CHARACTER SET WIN1252,
    BAI_CON              VARCHAR(30) CHARACTER SET WIN1252,
    CID_CON              VARCHAR(30) CHARACTER SET WIN1252,
    CEP_CON              CHAR(9) CHARACTER SET WIN1252,
    TEL_CON              CHAR(13) CHARACTER SET WIN1252,
    FAX_CON              CHAR(13) CHARACTER SET WIN1252,
    ATIVO_CON            CHAR(1) CHARACTER SET WIN1252 NOT NULL,
    RESPONSAVEL_CON      VARCHAR(50) CHARACTER SET WIN1252,
    CNPJ_CON             CHAR(18) CHARACTER SET WIN1252,
    INSC_CON             VARCHAR(20) CHARACTER SET WIN1252,
    EST_CON              CHAR(2) CHARACTER SET WIN1252,
    OBS_AUTORIZACAO_CON  VARCHAR(200) CHARACTER SET WIN1252,
    DIA_REFERENCIA_CON   INTEGER,
    DESCONTO_CON         NUMERIC(18,2)
);

CREATE TABLE COZINHA (
    CODIGO            INTEGER NOT NULL,
    ORDEM             INTEGER NOT NULL,
    COD_PRO           INTEGER,
    COD_VEND          INTEGER,
    QUANT             NUMERIC(18,3),
    CANCELADO         INTEGER,
    OBSERVACAO        VARCHAR(3024) CHARACTER SET WIN1252,
    COD_EMP           INTEGER,
    HORA_PEDIDO       TIME,
    HORA_PRONTO       TIME,
    HORA_ALERTA       TIME,
    HORA_ENTREGUE     TIME,
    COZINHA           CHAR(1) CHARACTER SET WIN1252,
    COPA              CHAR(1) CHARACTER SET WIN1252,
    IMPRESSO          CHAR(1) CHARACTER SET WIN1252 DEFAULT 'N',
    PEDIDO_NUMERO     INTEGER,
    PEDIDO_DATA_HORA  TIMESTAMP,
    PEDIDO_FECHADO    SMALLINT,
    OPERACAO          INTEGER
);

CREATE TABLE CREDIARIO (
    CODIGO             D_CODIGO,
    CODIGO_CLIENTE     D_CODIGO,
    DATA_COMPRA        D_DATA,
    DATA_VENCIMENTO    D_DATA NOT NULL,
    DATA_BAIXA         D_DATA,
    HISTORICO          D_NOME,
    USUARIO_VENDA      D_USUARIO,
    USUARIO_BAIXA      D_USUARIO,
    SITUACAO           CHAR(1) Default 'A' NOT NULL,
    VALOR_COMPRA       D_VALOR NOT NULL,
    VALOR_JUROS        D_VALOR_P_0,
    VALOR_ACRESCIMO    D_VALOR_P_0,
    VALOR_DESCONTO     D_VALOR_P_0,
    VALOR_PAGAR        COMPUTED BY (VALOR_COMPRA + VALOR_JUROS + VALOR_ACRESCIMO - VALOR_DESCONTO),
    VALOR_PAGO         D_VALOR_P_0,
    VALOR_TOTAL        COMPUTED BY (VALOR_PAGAR - VALOR_PAGO),
    CODIGO_COMPRA      INTEGER,
    PARCELA            VARCHAR(10),
    NUMBOLETO          VARCHAR(20),
    BANCO_PORTADOR     INTEGER,
    REMESSA            VARCHAR(10),
    DATACREDITO        D_DATA,
    ID_PORTADOR        INTEGER,
    ENVIADO            VARCHAR(1),
    COD_EMPRESA        INTEGER,
    NUMBOLETO1         INTEGER,
    CODIGOCEDENTE      VARCHAR(12),
    TIPO               VARCHAR(10),
    CHEK_BOX           VARCHAR(1),
    NUM_NOTA           CODIGO,
    SERIE_NOTA         VARCHAR(3),
    NOME_SACADO        D_NOME,
    ANO                VARCHAR(4),
    MES                VARCHAR(2),
    TP_BAIXA           VARCHAR(1),
    ID_CONTRATO        CODIGO,
    NOME_ARQ           VARCHAR(20),
    COBRADOR           CODIGO,
    COMISSAO           D_PERC,
    DT_PREVISAO_PGTO   D_DATA,
    DIAS_VENCIDO       D_NUMERO,
    N_OS               D_CEP,
    VLR_GRAFICA        NUMERIC(18,2) DEFAULT 0,
    VALOR_COMISAO      COMPUTED BY ((VALOR_PAGAR - VLR_GRAFICA)),
    COD_ENTRADA        CHAR(6),
    FILTRO             INTEGER,
    COD_AVALISTA       CODIGO,
    COD_FRETE          CODIGO,
    COD_CONV           CODIGO,
    COM_REGISTRO       CODIGO,
    RECEBIVEL          CODIGO DEFAULT 0,
    ID_CT_PARCELA      CODIGO,
    JUROS_POSTERGADOS  D_VALOR
);

CREATE TABLE CREDIARIO_RECEBIDO (
    CODIGO             D_CODIGO NOT NULL,
    COD_CREDIAIRIO     D_CODIGO NOT NULL,
    COD_EMPRESA        D_CODIGO NOT NULL,
    PARCELA            VARCHAR(6),
    VALOR_PARCELA      D_VALOR,
    JUROS              D_VALOR,
    MULTA              D_VALOR,
    DESCONTO           D_VALOR,
    VALOR_TOTAL        D_VALOR,
    DATA_BAIXA         D_DATA,
    USUARIO            D_USUARIO,
    COD_CLIENTE        CODIGO,
    NOME_CLIENTE       D_NOME,
    COD_COMPRA         CODIGO,
    VALOR_PAGO         D_VALOR,
    SALDO_PAGAR        NUMERIC(18,2),
    DATA_VENCIMENTO    D_DATA,
    DOC_REC_ADM        INTEGER,
    JUROS_POSTERGADOS  D_VALOR
);

CREATE TABLE CST (
    CODIGO_CST               VARCHAR(3) NOT NULL,
    DESCRICAO_CST            VARCHAR(150),
    FL_DIFERENCA_BASE_TOTAL  VARCHAR(1),
    FL_ICM                   VARCHAR(1),
    FL_REDUCAO               VARCHAR(1),
    FL_ICM_SUBST             VARCHAR(1),
    CST_CSOSN                BOOLEAN
);

CREATE TABLE CTE (
    CODIGO               INTEGER,
    NUMERO               INTEGER,
    DATA                 DATE,
    CFOP                 VARCHAR(4),
    CODREMETENTE         INTEGER,
    CODDESTINATARIO      INTEGER,
    SITUACAO             INTEGER,
    TIPO                 VARCHAR(10),
    CONSIG_NOME          VARCHAR(60),
    CONSIG_ENDERECO      VARCHAR(60),
    CONSIG_CIDADE        VARCHAR(30),
    CONSIG_UF            VARCHAR(2),
    CONSIG_TIPO          VARCHAR(10),
    CONSIG_CALCULADO     VARCHAR(30),
    REDE_NOME            VARCHAR(60),
    REDE_ENDERECO        VARCHAR(60),
    REDE_CIDADE          VARCHAR(30),
    REDE_UF              VARCHAR(2),
    REDE_TIPO            VARCHAR(10),
    REDE_CNPJ            VARCHAR(25),
    CARGA_NATUREZA       VARCHAR(30),
    CARGA_NF             VARCHAR(6),
    CARGA_VALOR          NUMERIC(18,2),
    CARGA_QTDE           NUMERIC(18,2),
    CARGA_VOL_QTDE       NUMERIC(18,2),
    CARGA_VOL_ESPECIE    VARCHAR(25),
    CARGA_MARCA1         VARCHAR(30),
    CARGA_MARCA2         VARCHAR(30),
    FRETE_PESO           NUMERIC(18,2),
    FRETE_VALOR          NUMERIC(18,2),
    FRETE_ADICIONAL      NUMERIC(18,2),
    FRETE_SEGURO         NUMERIC(18,2),
    FRETE_DESPACHO       NUMERIC(18,2),
    FRETE_OUTROS         NUMERIC(18,2),
    FRETE_TOTAL          NUMERIC(18,2),
    FRETE_TARIFA         NUMERIC(18,2),
    FRETE_BASE           NUMERIC(18,2),
    FRETE_ALIQUOTA       INTEGER,
    FRETE_ICMS           NUMERIC(18,2),
    FRETE_PRONT          VARCHAR(30),
    FRETE_APOLICE        VARCHAR(30),
    FRETE_CIA            VARCHAR(40),
    FRETE_CARREGAR       VARCHAR(60),
    FRETE_DESCARREGAR    VARCHAR(60),
    CODVEICULO           INTEGER,
    CODTRANSPORTADOR     INTEGER,
    OBS                  BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    CODFILIAL            INTEGER,
    LOCAL                VARCHAR(40),
    MOTIVO               VARCHAR(50),
    VEICULO_LOCAL        VARCHAR(30),
    VEICULO_UF           VARCHAR(2),
    MODELO               VARCHAR(10),
    ESPECIE              VARCHAR(10),
    SERIE                VARCHAR(10),
    MODELO_NF            VARCHAR(10),
    ESPECIE_NF           VARCHAR(10),
    SERIE_NF             VARCHAR(10),
    DATA_NF              DATE,
    VALOR_CONHECIMENTO   NUMERIC(18,2),
    INF1                 VARCHAR(80),
    INF2                 VARCHAR(80),
    INF3                 VARCHAR(80),
    INF4                 VARCHAR(80),
    INF5                 VARCHAR(80),
    CARGA_NATUREZA2      VARCHAR(30),
    CARGA_NF2            VARCHAR(6),
    CARGA_VALOR2         NUMERIC(18,2),
    CARGA_QTDE2          NUMERIC(18,2),
    CARGA_VOL_QTDE2      NUMERIC(18,2),
    CARGA_VOL_ESPECIE2   VARCHAR(25),
    MODELO_NF2           VARCHAR(10),
    ESPECIE_NF2          VARCHAR(10),
    SERIE_NF2            VARCHAR(10),
    DATA_NF2             DATE,
    VALOR_CONHECIMENTO2  NUMERIC(18,2)
);

CREATE TABLE CUPOM (
    COMANDO         VARCHAR(30),
    NUMERO          CODIGO,
    DESCONTO        NUMERIC(18,2),
    ACRESCIMO       NUMERIC(18,2),
    DINHEIRO        NUMERIC(18,2),
    CHEQUEAV        NUMERIC(18,2),
    CHEQUEAP        NUMERIC(18,2),
    CARTAOCRED      NUMERIC(18,2),
    CARTAODEB       NUMERIC(18,2),
    PROMISSORIA     NUMERIC(18,2),
    CLIENTE         VARCHAR(50),
    ENDERECO        VARCHAR(50),
    CIDADE          VARCHAR(50),
    CPF             VARCHAR(50),
    CONVENIO        VARCHAR(50),
    VENDEDOR        VARCHAR(50),
    SEQUENCIA       CODIGO NOT NULL,
    RG_IE           VARCHAR(30),
    PRODUTOR_RURAL  D_DESCRICAO
);

CREATE TABLE CUPOM_ITEM (
    NUMERO      CODIGO,
    CODPRODUTO  VARCHAR(13),
    PRODUTO     VARCHAR(30),
    UNIDADE     VARCHAR(5),
    QTDE        NUMERIC(18,2),
    VALOR       NUMERIC(18,2),
    TOTAL       NUMERIC(18,2),
    DESCONTO    NUMERIC(18,2),
    ACRESCIMO   NUMERIC(18,2),
    ALIQUOTA    VARCHAR(5),
    SEQ         INTEGER NOT NULL
);

CREATE TABLE EFD (
    REFERENCIA  VARCHAR(6) NOT NULL
);

CREATE TABLE EMPRESA (
    CODIGO                     D_CODIGO NOT NULL,
    RAZAO_SOCIAL               D_NOME,
    NOME_FANTASIA              D_NOME,
    ENDERECO                   D_ENDERECO,
    CIDADE                     D_CIDADE,
    UF                         D_UF,
    CEP                        D_CEP,
    TELEFONE                   D_TEL,
    FAX                        D_FAX,
    EMAIL                      D_EMAIL,
    HOMEPAGE                   D_SITE,
    CNPJ                       D_CPF_CNPJ,
    IE                         D_IE,
    NUMERO                     D_NUMERO,
    BAIRRO                     D_CIDADE,
    IM                         D_IE,
    LOGOMARCA                  D_FOTO,
    CNAE                       VARCHAR(10),
    COD_CID_IBGE               VARCHAR(10),
    URS_INDEA                  VARCHAR(20),
    ULE_INDEA                  VARCHAR(20),
    MATRICULA_INDEA            VARCHAR(10),
    PROPRIETARIO               D_NOME,
    RESPONSAVEL_TECINICO       D_NOME,
    CRMV_N                     VARCHAR(15),
    FLAG_VETERINARIA           BOOLEAN,
    REGIME                     BOOLEAN,
    ALIC_SIMPLES               D_PERC,
    ALIC_PIS                   D_PERC,
    ALIC_COFINS                D_PERC,
    ALIC_IRPJ                  D_PERC,
    ALIC_CSLL                  D_PERC,
    SUFRAMA                    VARCHAR(15),
    NOME_CONTADOR              D_NOME,
    CNPJ_CONTADOR              D_CPF_CNPJ,
    CRC_CONTADOR               D_FAX,
    ENDERECO_CONTADOR          D_ENDERECO,
    CEP_CONTADOR               D_CEP,
    NUM_CONTADOR               CODIGO,
    BAIRRO_CONTADOR            D_BAIRRO,
    COMPL_CONTADOR             D_ENDERECO,
    FONE_CONTADOR              D_TEL,
    FAX_CONTADOR               D_FAX,
    EMAIL_CONTADOR             VARCHAR(50),
    COD_IBGE_CONTADOR          VARCHAR(7),
    CPF_CONTADOR               D_CPF_CNPJ,
    CIDADE_CONTADOR            D_CIDADE,
    UF_CONTADOR                D_UF,
    CPF_RESPONSAVEL            D_CPF_CNPJ,
    COMPLEMENTO                D_ENDERECO,
    TIPO_SEGMENTO              BOOLEAN,
    CPF_PROPRIETARIO           D_CPF_CNPJ,
    DISTRIBUIDORA_COMBUSTIVEL  D_DESCRICAO,
    NUM_JUNT_COM               D_CIDADE,
    DATA_INICIO_LMC            D_DATA,
    DATA_FIM_LMC               D_DATA,
    NUM_ORD_LMC                INTEGER
);

CREATE TABLE ENCERRANTES (
    CODIGO        INTEGER NOT NULL,
    DATA          DATE,
    COD_BICO      INTEGER,
    ABERTURA      INTEGER,
    ENCERRAMENTO  INTEGER,
    QUANTIDADE    NUMERIC(18,2),
    AFERICAO      NUMERIC(18,2),
    PRECO         NUMERIC(18,2),
    VALOR         NUMERIC(18,2),
    COD_PRODUTO   INTEGER,
    SITUACAO      CHAR(1)
);

CREATE TABLE ENTRAHOSPEDE (
    ENT_CODENTRADA       CHAR(6) NOT NULL,
    ENT_CODAPARTAMENTO   CHAR(6) NOT NULL,
    ENT_DATAENTRADA      DATE NOT NULL,
    ENT_HORAENTRADA      TIME NOT NULL,
    ENT_VALORDIARIA      NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_QTDNORMAL        INTEGER,
    ENT_VLRNORMAL        NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_QTDEXTRA         NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_VLREXTRA         NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_SUBTOTAL         NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_DESCACRESC       NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_DATASAIDA        DATE,
    ENT_HORASAIDA        TIME,
    ENT_QTDDIARIA        INTEGER,
    ENT_TOTALBAR         NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_TOTALLIGACAO     NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_TOTALDIARIA      NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_TOTALGERAL       NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_PREVISAO         DATE,
    ENT_DESCACRESCGERAL  NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_TOTALPAGO        NUMERIC(18,2) DEFAULT 0 NOT NULL,
    ENT_QTDADULTOS       INTEGER,
    ENT_QTDCRIANCAS      INTEGER,
    ENT_QTDPAGANTES      INTEGER NOT NULL,
    ENT_FORMAPAGAMENTO   INTEGER DEFAULT 0 NOT NULL,
    ENT_CODHOSPEDE       INTEGER,
    ENT_VALOR_LAV        D_VALOR DEFAULT 0 NOT NULL,
    ENT_ADIANTAMENTO     D_VALOR_P_0
);

CREATE TABLE EST_COM_RET_PEDIDOS (
    CODIGO          D_CODIGO,
    DATA            D_DATA,
    HISTORICO       D_NOME,
    USUARIO_EST     VARCHAR(20),
    USUARIO_PEDIDO  VARCHAR(20),
    VALOR           D_VALOR,
    CLIENTE         D_NOME,
    PAGAMENTO       VARCHAR(20)
);

CREATE TABLE ESTADOS (
    COD_ESTADO   D_CODIGO NOT NULL,
    DESCRICO     D_DESCRICAO,
    UF           D_UF,
    COD_EMPRESA  D_CODIGO,
    DATACAD      D_DATA,
    USERCAD      D_USUARIO,
    COD_PAIS     CODIGO,
    DESC_PAIS    D_ENDERECO
);

CREATE TABLE ESTOQUE (
    COD_EMP               INTEGER NOT NULL,
    COD_PRO               INTEGER NOT NULL,
    ESTOQUE               NUMERIC(18,3) NOT NULL,
    CODIGO_LOCAL_ESTOQUE  INTEGER NOT NULL,
    QTDE_FRACIONADA       NUMERIC(18,3)
);

CREATE TABLE FORNECEDOR_CODIGO (
    CODFORNECEDOR  INTEGER,
    CODPRODUTO     INTEGER,
    CODIGO         VARCHAR(50) NOT NULL,
    PRECO          NUMERIC(18,2)
);

CREATE TABLE FORNECEDORES (
    CODIGO             D_CODIGO,
    NOME               D_NOME NOT NULL,
    FANTASIA           D_NOME,
    ENDERECO           D_ENDERECO,
    CIDADE             D_CIDADE,
    ESTADO             D_UF,
    CEP                D_CEP,
    TELEFONE           D_TEL,
    FAX                D_FAX,
    EMAIL              D_EMAIL,
    HOMEPAGE           D_SITE,
    TIPO               VARCHAR(10),
    CNPJ               D_CPF_CNPJ NOT NULL,
    IE                 D_IE,
    BAIRRO             D_BAIRRO,
    REPRESCELULAR      D_CELULAR,
    USERCAD            D_USUARIO,
    DATACADASTRO       D_DATA default 'today',
    OBSERVACOES        BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    REPRESNOME         D_DESCRICAO,
    REPRESFONEFAX      D_TEL,
    REPRESEMAIL        D_EMAIL,
    REPRESOBSERVACOES  BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    PRODUTOR_RURAL     VARCHAR(1),
    INSC_PRODUTOR      D_IE,
    COD_LINHA          CODIGO,
    LINHA              D_DESCRICAO,
    COD_EMPRESA        CODIGO,
    VALOR_LEITE        D_VALOR,
    "codigo_ibge"      VARCHAR(7),
    NUMERO             CODIGO,
    COMPLEMENTO        D_BAIRRO,
    TP                 BOOLEAN
);

CREATE TABLE FRENTISTA (
    COD_FRENTISTA         INTEGER NOT NULL,
    ID_FRENTISTA          INTEGER NOT NULL,
    NOME                  VARCHAR(100),
    COMISSAO              NUMERIC(15,3),
    PICPATH               VARCHAR(255),
    ULTATUAL              TIMESTAMP,
    ULTATUALCODSETOR      INTEGER,
    ULTATUALCODSETORUSER  INTEGER,
    DATAHORA              TIMESTAMP DEFAULT 'now',
    ENABLED               INTEGER DEFAULT 1,
    OBS                   VARCHAR(255)
);

CREATE TABLE FRETES (
    COD_EMPRESA    D_CODIGO NOT NULL,
    COD_LACTO      D_CODIGO NOT NULL,
    DATA_LACTO     D_DATA NOT NULL,
    N_MINUTA       D_CODIGO NOT NULL,
    COD_FRETEIRO   D_CODIGO NOT NULL,
    QTDE_ANIMAIS   CODIGO,
    COD_VEICULO    D_CODIGO NOT NULL,
    ORIGEM_FRETE   D_NOME,
    DESTINO_FRETE  D_NOME,
    DISTANCIA      D_VALOR,
    GERA_IMPOSTO   BOOLEAN,
    VALOR_FRETE    D_VALOR DEFAULT 0,
    VALOR_PAGO     D_VALOR DEFAULT 0,
    IMPOSTO        D_VALOR DEFAULT 0,
    "USER"         D_USUARIO,
    COD_PAGADOR    CODIGO,
    FILTRO         CODIGO,
    DATA_BAIXA     D_DATA,
    COD_CAIXA      CODIGO,
    SITUACAO       CODIGO,
    COD_CHEQUE     CODIGO,
    LIQUIDO        COMPUTED BY ((VALOR_FRETE - IMPOSTO))
);

CREATE TABLE FUNCIONARIO_PAGO (
    ID          INTEGER NOT NULL,
    ID_CLIENTE  INTEGER,
    DATA        DATE,
    VALOR       DECIMAL(12,2)
);

CREATE TABLE FUNCIONARIO_VALE (
    ID          INTEGER NOT NULL,
    ID_CLIENTE  INTEGER,
    LANCAMENTO  DATE,
    USUARIO     VARCHAR(100),
    VALOR       DECIMAL(12,2),
    MOTIVO      VARCHAR(100),
    ALTERACAO   DATE,
    QUITADO     INTEGER DEFAULT 0
);

CREATE TABLE GRUPO_TECLAS (
    TECLA      CHAR(1) CHARACTER SET WIN1252 NOT NULL,
    DESCRICAO  VARCHAR(30) CHARACTER SET WIN1252
);

CREATE TABLE GRUPO_TECLAS_DETALHES (
    NUMERO   SMALLINT NOT NULL,
    TECLA    CHAR(1) CHARACTER SET WIN1252 NOT NULL,
    COD_PRO  INTEGER
);

CREATE TABLE GRUPO_TRIBUTACAO (
    COD_GRUPO                     CODIGO NOT NULL,
    DESCRICAO                     D_DESCRICAO NOT NULL,
    FLAG_SUBSTITUICAO_TRIB        BOOLEAN NOT NULL,
    PERC_SUBST_TRIBUTARIA         D_VALOR NOT NULL,
    FLAG_SERVICO                  BOOLEAN NOT NULL,
    PERC_ALIQUOTA_ISS             D_VALOR NOT NULL,
    FLAG_FABRICACAO_PROPRIA       BOOLEAN NOT NULL,
    PERC_ALIQUOTA_IPI             D_VALOR NOT NULL,
    FLAG_PIS_COFINS               BOOLEAN NOT NULL,
    PERC_ALIQUOTA_PIS             D_VALOR NOT NULL,
    PERC_ALIQUOTA_COFINS          D_VALOR NOT NULL,
    FLAG_ICMSGARANTIDO_INTEGRAL   BOOLEAN NOT NULL,
    PERC_ICMS_GARANTIDO_INTEGRAL  D_VALOR,
    CFOP_ESTADUAL_DEV             VARCHAR(4),
    CFOP_INTERESTADUAL_DEV        VARCHAR(4),
    CFOP_EST_COMPRA               VARCHAR(4),
    CFOP_INTER_COMPRA             VARCHAR(4),
    CFOP_EST_VENDA                VARCHAR(4),
    CFOP_INTER_VENDA              VARCHAR(4),
    CFOP_EST_TRANSF               VARCHAR(4),
    CFOP_INTER_EST_TRASNF         VARCHAR(4),
    CST_VENDA                     VARCHAR(3),
    CST_COMPRA                    VARCHAR(3),
    FLAG_ICMS                     BOOLEAN,
    PERC_ICMS_ESTADUAL            D_VALOR,
    PERC_ICMS_INTER_ESTADUAL      D_VALOR,
    SIT_PIS_VENDA_EST             VARCHAR(2),
    SIT_COFINS_VENDA_EST          VARCHAR(2),
    SIT_PIS_VENDA_INTER_EST       VARCHAR(2),
    SIT_COFINS_VENDA_INTER_EST    VARCHAR(2),
    SIT_PIS_COMPRA                VARCHAR(2),
    SIT_COFINS_COMPRA             VARCHAR(2),
    CST_VENDA_INTER               VARCHAR(3),
    CST_COMPRA_INTER              VARCHAR(3),
    PERC_RED_ICMS                 D_VALOR,
    CST_IPI_ENTRADA               VARCHAR(2),
    CST_IPI_SAIDA                 VARCHAR(2),
    CFOP_REV_EST                  VARCHAR(4),
    CFOP_REV_INTER                VARCHAR(4),
    PERC_LUCRO_ST                 D_PERC
);

CREATE TABLE GRUPOS (
    CODIGO        D_CODIGO,
    DESCRICAO     D_DESCRICAO,
    DATACADASTRO  D_DATA default 'today',
    USERCAD       D_USUARIO,
    NCM_SH        VARCHAR(8),
    PERC_TRIBU    CALCULADO,
    FONTE         D_CPF_CNPJ
);

CREATE TABLE HOTEL_RESERVA (
    RES_SEQ             CODIGO NOT NULL,
    RES_CODHOSPEDE      CODIGO,
    RES_CODAPARTAMENTO  CHAR(6),
    RES_DATA            D_DATA,
    RES_DATA_PREVISAO   D_DATA,
    RES_HORA_PREVISAO   TIME
);

CREATE TABLE ID_CLIENTE (
    SEQ    D_CODIGO NOT NULL,
    CNPJ   D_CPF_CNPJ,
    CHAVE  VARCHAR(100)
);

CREATE TABLE IMPORTAR_XMLS (
    CHAVE   VARCHAR(44) NOT NULL,
    XML     BLOB SUB_TYPE 0 SEGMENT SIZE 4096,
    STATUS  CHAR(1) DEFAULT 'A' NOT NULL
);

CREATE TABLE IMPRESSORA (
    COD_IMPRESSORA  INTEGER,
    DESCRICAO       VARCHAR(60),
    TIPO            VARCHAR(1),
    NOMECOMPUTADOR  VARCHAR(30),
    CAMINHO         VARCHAR(60),
    PORTA           VARCHAR(4)
);

CREATE TABLE INVENTARIO_ESTOQUE (
    COD_INVENTARIO        INTEGER NOT NULL,
    DATA_INVENTARIO       DATE NOT NULL,
    COD_EMPRESA           INTEGER NOT NULL,
    COD_USUARIO           D_CODIGO NOT NULL,
    CODIGO_LOCAL_ESTOQUE  INTEGER NOT NULL
);

CREATE TABLE ITENS_ACERTO_ESTOQUE (
    COD_ACE               INTEGER NOT NULL,
    COD_PRO               INTEGER NOT NULL,
    COD_MOT               INTEGER NOT NULL,
    COD_EMP               INTEGER NOT NULL,
    ORDEM                 INTEGER NOT NULL,
    QUANT                 NUMERIC(18,3),
    VALOR_CUSTO           NUMERIC(18,2),
    CODIGO_LOCAL_ESTOQUE  INTEGER NOT NULL,
    FRACAO                INTEGER
);

CREATE TABLE ITENS_COMPOSICAO (
    ID                INTEGER NOT NULL,
    ID_ITEM_COMPOSTO  INTEGER,
    ID_PRODUTO        INTEGER,
    QUANTIDADE        DECIMAL(12,3),
    MEDIDA            CHAR(3),
    P_UNITARIO        DECIMAL(12,2),
    C_UNITARIO        DECIMAL(12,2),
    V_UNITARIO        DECIMAL(12,2),
    PESO_TOTAL        DECIMAL(12,3),
    CUSTO_TOTAL       DECIMAL(12,2),
    VALOR_TOTAL       DECIMAL(12,2),
    DESCRICAO         VARCHAR(100)
);

CREATE TABLE ITENS_COMPOSTO (
    ID              INTEGER NOT NULL,
    ID_PRODUTO      INTEGER,
    DESCRICAO       VARCHAR(100),
    PESO_TOTAL      DECIMAL(12,3),
    CUSTO_TOTAL     DECIMAL(12,2),
    VALOR_TOTAL     DECIMAL(12,2),
    MEDIDA          CHAR(2),
    VALOR_MAO_OBRA  DECIMAL(12,2)
);

CREATE TABLE ITENS_CONTA_CLIENTE (
    CODIGO            INTEGER NOT NULL,
    ORDEM             INTEGER NOT NULL,
    COD_PRO           INTEGER NOT NULL,
    COD_VEND          INTEGER NOT NULL,
    VALOR             NUMERIC(18,2) NOT NULL,
    CONTA_ORIGEM      INTEGER,
    CANCELADO         INTEGER NOT NULL,
    COD_EMP           INTEGER NOT NULL,
    QUANT             NUMERIC(18,3) NOT NULL,
    OBSERVACAO        VARCHAR(3024) CHARACTER SET WIN1252,
    PEDIDO_NUMERO     INTEGER,
    PEDIDO_DATA_HORA  TIMESTAMP,
    PEDIDO_FECHADO    SMALLINT
);

CREATE TABLE ITENS_INVENTARIO_ESTOQUE (
    COD_INVENTARIO     INTEGER NOT NULL,
    COD_EMPRESA        INTEGER NOT NULL,
    COD_PRODUTO        INTEGER NOT NULL,
    COD_BARRAS         VARCHAR(13),
    REFERNCIA          VARCHAR(20),
    DESCRICAO_NOVA     VARCHAR(50),
    QUANTIDADE         NUMERIC(18,3),
    QUANT_FRACIONADA   NUMERIC(18,3),
    FRACAO             INTEGER,
    PRECO_CUSTO        NUMERIC(18,2),
    PRECO_VENDA        NUMERIC(18,2),
    PRECO_VENDA2       NUMERIC(18,2),
    ORDEM              INTEGER NOT NULL,
    COD_LOCAL_ESTOQUE  INTEGER,
    STATUS             BOOLEAN
);

CREATE TABLE ITENS_TRANSF_LOCAIS_ESTOQUE (
    CODIGO                INTEGER NOT NULL,
    ORDEM                 INTEGER NOT NULL,
    COD_PRO               INTEGER NOT NULL,
    QUANT                 NUMERIC(18,3) NOT NULL,
    COD_EMP               INTEGER NOT NULL,
    CODIGO_LOCAL_ORIGEM   INTEGER NOT NULL,
    CODIGO_LOCAL_DESTINO  INTEGER NOT NULL
);

CREATE TABLE L000003 (
    LINHA1        VARCHAR(100),
    LINHA2        VARCHAR(100),
    LINHA3        VARCHAR(100),
    LINHA4        VARCHAR(100),
    LINHA5        VARCHAR(100),
    LINHA6        VARCHAR(100),
    LINHA7        VARCHAR(100),
    LINHA8        VARCHAR(100),
    LINHA9        VARCHAR(100),
    LINHA10       VARCHAR(100),
    VALOR1        NUMERIC(18,2),
    VALOR2        NUMERIC(18,2),
    VALOR3        NUMERIC(18,2),
    VALOR4        NUMERIC(18,2),
    VALOR5        NUMERIC(18,2),
    VALOR6        NUMERIC(18,2),
    VALOR7        NUMERIC(18,2),
    VALOR8        NUMERIC(18,2),
    VALOR9        NUMERIC(18,2),
    VALOR10       NUMERIC(18,2),
    VALOR11       NUMERIC(18,2),
    VALOR12       NUMERIC(18,2),
    VALOR13       NUMERIC(18,2),
    VALOR14       NUMERIC(18,2),
    VALOR15       NUMERIC(18,2),
    VALOR16       NUMERIC(18,2),
    VALOR17       NUMERIC(18,2),
    VALOR18       NUMERIC(18,2),
    VALOR19       NUMERIC(18,2),
    VALOR20       NUMERIC(18,2),
    VALOR21       NUMERIC(18,2),
    VALOR22       NUMERIC(18,2),
    VALOR23       NUMERIC(18,2),
    VALOR24       NUMERIC(18,2),
    VALOR25       NUMERIC(18,2),
    VALOR26       NUMERIC(18,2),
    VALOR27       NUMERIC(18,2),
    VALOR28       NUMERIC(18,2),
    VALOR29       NUMERIC(18,2),
    VALOR30       NUMERIC(18,2),
    VALOR31       NUMERIC(18,2),
    VALOR32       NUMERIC(18,2),
    VALOR33       NUMERIC(18,2),
    VALOR34       NUMERIC(18,2),
    VALOR35       NUMERIC(18,2),
    TEXTO_GRANDE  VARCHAR(300),
    TP            INTEGER
);

CREATE TABLE LABORATORIO (
    COD_LAB   INTEGER NOT NULL,
    NOME_LAB  D_DESCRICAO NOT NULL
);

CREATE TABLE LATICINIO (
    CODIGO           D_CODIGO NOT NULL,
    CODIGO_ID        D_CODIGO NOT NULL,
    COD_EMPRESA      CODIGO,
    DATA_LANCAMENTO  D_DATA,
    COD_FORNECEDOR   CODIGO,
    NOME_FORNECEDOR  D_NOME,
    LINHA            CODIGO,
    QUANTIDADE       D_QUANT,
    VALOR_LEITE      D_VALOR,
    VALOR_TOTAL      D_VALOR,
    PRODUTO          D_DESCRICAO,
    UNIDADE          D_UF
);

CREATE TABLE LATICINIOS (
    CODIGO           D_CODIGO NOT NULL,
    COD_FORNECEDOR   CODIGO,
    NOME_FORNECEDOR  D_NOME,
    COD_EMPRESA      CODIGO,
    DATAI            D_DATA,
    DATAF            D_DATA,
    VALOR_TOTAL      D_VALOR,
    N_DOCUMENTO      D_CEP,
    MES              VARCHAR(2),
    ANO              VARCHAR(4)
);

CREATE TABLE LAVANDERIA (
    LAV_CONTROLE       INTEGER NOT NULL,
    LAV_CODENTRADA     CHAR(6) NOT NULL,
    LAV_CODPRODUTO     INTEGER NOT NULL,
    LAV_COMANDA        VARCHAR(30),
    LAV_DATA           DATE NOT NULL,
    LAV_QUANTIDADE     NUMERIC(18,2) DEFAULT 0 NOT NULL,
    LAV_VALORUNITARIO  NUMERIC(18,2) DEFAULT 0 NOT NULL,
    LAV_VALORTOTAL     COMPUTED BY (LAV_QUANTIDADE * LAV_VALORUNITARIO),
    LAV_EMPRESA        CODIGO NOT NULL,
    LAV_FRACAO         CODIGO
);

CREATE TABLE LIBERACAO_CLIENTE (
    COD_CLIENTE       CODIGO,
    SOLICITA          BOOLEAN,
    LIBERA            BOOLEAN,
    COD_VENDA         CODIGO,
    AUTO_LIBERA       BOOLEAN,
    VALOR_SOLICITADO  D_VALOR
);

CREATE TABLE LIGACAO (
    LIG_CONTROLE     INTEGER NOT NULL,
    LIG_CODENTRADA   CHAR(6) NOT NULL,
    LIG_DATALIGACAO  DATE,
    LIG_HORALIGACAO  TIME,
    LIG_NUMCHAMADO   VARCHAR(30),
    LIG_MINFALADO    NUMERIC(18,2) DEFAULT 0 NOT NULL,
    LIG_MINVALOR     NUMERIC(18,2) DEFAULT 0 NOT NULL,
    LIG_TOTAL        COMPUTED BY (LIG_MINFALADO * LIG_MINVALOR)
);

CREATE TABLE LMC (
    CODIGO            INTEGER NOT NULL,
    TANQUE            INTEGER,
    BOMBA             INTEGER,
    BICO              VARCHAR(5),
    ABERTURA          INTEGER,
    ENCERRANTE        INTEGER,
    COMBUSTIVEL       INTEGER,
    DATA              DATE,
    PRECO             NUMERIC(18,3),
    QUANTIDADE        NUMERIC(18,3),
    TOTAL             NUMERIC(18,3),
    SITUACAO          INTEGER,
    NR_NOTA           INTEGER,
    NOTAFISCAL1       VARCHAR(10),
    NOTAFISCAL2       VARCHAR(10),
    NOTAFISCAL3       VARCHAR(10),
    NOTAFISCAL4       VARCHAR(10),
    QUANTNF1          INTEGER,
    QUANTNF2          INTEGER,
    QUANTNF3          INTEGER,
    QUANTNF4          INTEGER,
    BICO1             INTEGER,
    BICO2             INTEGER,
    BICO3             INTEGER,
    BICO4             INTEGER,
    BICO5             INTEGER,
    BICO6             INTEGER,
    BICO7             INTEGER,
    BICO8             INTEGER,
    ABER_BICO1        INTEGER,
    ABER_BICO2        INTEGER,
    ABER_BICO3        INTEGER,
    ABER_BICO4        INTEGER,
    ABER_BICO5        INTEGER,
    ABER_BICO6        INTEGER,
    ABER_BICO7        INTEGER,
    ABER_BICO8        INTEGER,
    ENC_BICO1         INTEGER,
    ENC_BICO2         INTEGER,
    ENC_BICO3         INTEGER,
    ENC_BICO4         INTEGER,
    ENC_BICO5         INTEGER,
    ENC_BICO6         INTEGER,
    ENC_BICO7         INTEGER,
    ENC_BICO8         INTEGER,
    AFER_BICO1        INTEGER,
    AFER_BICO2        INTEGER,
    AFER_BICO3        INTEGER,
    AFER_BICO4        INTEGER,
    AFER_BICO5        INTEGER,
    AFER_BICO6        INTEGER,
    AFER_BICO7        INTEGER,
    AFER_BICO8        INTEGER,
    QTEVEND_1         INTEGER,
    QTEVEND_2         INTEGER,
    QTEVEND_3         INTEGER,
    QTEVEND_4         INTEGER,
    QTEVEND_5         INTEGER,
    QTEVEND_6         INTEGER,
    QTEVEND_7         INTEGER,
    QTEVEND_8         INTEGER,
    TOTALVEND_1       NUMERIC(18,3),
    TOTALVEND_2       NUMERIC(18,3),
    TOTALVEND_3       NUMERIC(18,3),
    TOTALVEND_4       NUMERIC(18,3),
    TOTALVEND_5       NUMERIC(18,3),
    TOTALVEND_6       NUMERIC(18,3),
    TOTALVEND_7       NUMERIC(18,3),
    TOTALVEND_8       NUMERIC(18,3),
    ESTOQ_ABERTURA    INTEGER,
    ESTOQ_ESCRITURAL  INTEGER,
    ESTOQ_FECHAMENTO  INTEGER,
    PERDA_SOBRA       INTEGER,
    OBSERVACAO        VARCHAR(255),
    PAGINA            INTEGER,
    ID_BICO1          VARCHAR(2),
    ID_BICO2          VARCHAR(2),
    ID_BICO3          VARCHAR(2),
    ID_BICO4          VARCHAR(2),
    ID_BICO5          VARCHAR(2),
    ID_BICO6          VARCHAR(2),
    ID_BICO7          VARCHAR(2),
    ID_BICO8          VARCHAR(2),
    VENDAS_DIA        COMPUTED BY ((qtevend_1 + qtevend_2 + qtevend_3 + qtevend_4 + qtevend_5 + qtevend_6 + qtevend_7 + qtevend_8)),
    RECEBIDO_DIA      COMPUTED BY ((QUANTNF1+QUANTNF2+QUANTNF3+QUANTNF4)),
    DISPONIVEL_DIA    COMPUTED BY ((estoq_Abertura+ quantnf1+quantnf2+quantnf3+quantnf4)),
    TOTALVENDAS_DIA   COMPUTED BY ((totalvend_1+totalvend_2+totalvend_3+totalvend_4+totalvend_5+totalvend_6+totalvend_7+totalvend_8)),
    TOTALVENDAS_ACU   NUMERIC(18,3)
);

CREATE TABLE LMC_ABERFECH (
    CODIGO            INTEGER NOT NULL,
    COD_FILIAL        VARCHAR(6),
    FILIAL            VARCHAR(50),
    ENDERECO          VARCHAR(60),
    BAIRRO            VARCHAR(30),
    CEP               VARCHAR(9),
    CIDADE            VARCHAR(30),
    UF                VARCHAR(2),
    IE                VARCHAR(14),
    CNPJ              VARCHAR(25),
    IM                VARCHAR(20),
    DISTRIBUIDORA     VARCHAR(50),
    CAPACIDADE        INTEGER,
    COD_COMBUSTIVEL   INTEGER,
    NOME_COMBUSTIVEL  VARCHAR(30),
    NUMERO            VARCHAR(10),
    NUMERO_JUNTACOM   VARCHAR(10),
    DATA_ABERTURA     DATE,
    NUMERO_ORDEM      INTEGER,
    PAGINA_ATUAL      INTEGER
);

CREATE TABLE LOCAIS_ESTOQUE (
    CODIGO     INTEGER NOT NULL,
    DESCRICAO  VARCHAR(60) CHARACTER SET WIN1252 NOT NULL
);

CREATE TABLE "LOG" (
    DATA         DATE,
    HORA         VARCHAR(10),
    CODUSUARIO   INTEGER,
    TABELA       VARCHAR(20),
    CODREGISTRO  VARCHAR(20),
    FUNCAO       VARCHAR(20),
    HISTORICO    VARCHAR(250)
);

CREATE TABLE LOTE_RENTABILIDADE (
    LOTE         VARCHAR(10) NOT NULL,
    SITUACAO     INTEGER,
    CODPRODUTO   INTEGER,
    UNIDADE      VARCHAR(2),
    DATA         DATE,
    CODIGO_NOTA  INTEGER,
    NOTAFISCAL   VARCHAR(20),
    QUANTIDADE   NUMERIC(18,2),
    VALOR        NUMERIC(18,2),
    OBSERVACAO   VARCHAR(200)
);

CREATE TABLE MARCAS (
    CODIGO        D_CODIGO,
    DESCRICAO     D_DESCRICAO,
    DATACADASTRO  D_DATA default 'today',
    USERCAD       D_USUARIO
);

CREATE TABLE MD_BAIXA_PLAQUETA (
    ID                 INTEGER NOT NULL,
    ID_TORAS_ENTRADAS  INTEGER,
    ID_SERRADO         INTEGER,
    V_SERRAGEM         DECIMAL(12,6),
    DATA               DATE,
    TOTAL              DECIMAL(12,6),
    TURNO              VARCHAR(20),
    PERCA              DECIMAL(12,6)
);

CREATE TABLE MD_ENTRADA_TORAS (
    ID             INTEGER NOT NULL,
    ID_FORNECEDOR  INTEGER,
    ID_PATIO       INTEGER,
    ID_MOTORISTA   INTEGER,
    ROMANEIO       INTEGER,
    DATA           DATE,
    VALOR_FRETE    DECIMAL(12,6),
    TOTAL_M3       DECIMAL(12,6),
    TOTAL_FRETE    DECIMAL(12,6),
    TOTAL_TORAS    INTEGER
);

CREATE TABLE MD_PATIO (
    ID    INTEGER NOT NULL,
    NOME  VARCHAR(100)
);

CREATE TABLE MD_TORAS_ENTRADAS (
    ID                INTEGER NOT NULL,
    ID_ENTRADA_TORAS  INTEGER,
    ID_ESPECIE        INTEGER,
    PLAQUETA          INTEGER,
    COMPRIMENTO       DECIMAL(12,6),
    DIAMETRO_PONTA    DECIMAL(12,6),
    DIAMETRO_PE       DECIMAL(12,6),
    M3                DECIMAL(12,6),
    VALOR_M3          DECIMAL(12,6),
    TOTAL             DECIMAL(12,6),
    STATUS            CHAR(1) DEFAULT 'N'
);

CREATE TABLE MESAS_ADICIONAIS (
    COD        INTEGER NOT NULL,
    COD_EMP    INTEGER NOT NULL,
    DESCRICAO  VARCHAR(50) CHARACTER SET WIN1252,
    JUNTA      VARCHAR(50) CHARACTER SET WIN1252
);

CREATE TABLE MOTIVO_ACERTO (
    COD_MOT     INTEGER NOT NULL,
    NOME_MOT    D_NOME NOT NULL,
    ENTSAI_MOT  BOOLEAN
);

CREATE TABLE MOTIVORETORNO (
    CODIGO     D_CODIGO,
    DESCRICAO  VARCHAR(100),
    USERCAD    D_USUARIO,
    DATACAD    D_DATA
);

CREATE TABLE MOV_ENCERANTES (
    SEQ       CODIGO NOT NULL,
    DATA      D_DATA,
    ENC_ABT   NUMERIC(18,3),
    ENC_FCT   NUMERIC(18,3),
    AFERICAO  NUMERIC(18,2) DEFAULT 0
);

CREATE TABLE MOVIMENTACAO_COMB_LMC (
    DATA                 D_DATA NOT NULL,
    COD_PRODUTO          CODIGO NOT NULL,
    N_TANQUE             CODIGO NOT NULL,
    BOMBA                CODIGO,
    BICO                 VARCHAR(2),
    ESTOQUE_ABERT        D_QUANT,
    NOTA1_RECEBIDA       VARCHAR(20),
    NOTA2_RECEBIDA       VARCHAR(20),
    NOTA3_RECEBIDA       VARCHAR(20),
    NOTA4_RECEBIDA       VARCHAR(20),
    QTDE1_RECEBIDO       D_QUANT,
    QTDE2_RECEBIDO       D_QUANT,
    QTDE3_RECEBIDO       D_QUANT,
    QTDE4_RECEBIDO       D_QUANT,
    FECHAMENTO_VENDIDO   D_QUANT,
    AFERICOES            D_QUANT,
    PERDA_SOBRAS         D_QUANT,
    ESTOQUE_ESCRITURAL   D_QUANT,
    ESTOQUE_FECHAMENTO   D_QUANT,
    QTDE_VENDIDO_DIA     D_QUANT,
    QTDE_TOTAL_RECEBIDO  D_QUANT,
    VOLUME_DISPONIVEL    COMPUTED BY (ESTOQUE_ABERT + QTDE_TOTAL_RECEBIDO),
    DATA1_RECEBIDO       D_DATA,
    DATA2_RECEBIDO       D_DATA,
    DATA3_RECEBIDO       D_DATA,
    DATA4_RECEBIDO       D_DATA,
    VALOR_VENDAS_DIA     D_VALOR,
    VALOR_VENDAS_MES     D_VALOR,
    TANQUE1_RECEBIDO     CODIGO,
    TANQUE2_RECEBIDO     CODIGO,
    TANQUE3_RECEBIDO     CODIGO,
    TANQUE4_RECEBIDO     CODIGO,
    OBSERVACOES          VARCHAR(200)
);

CREATE TABLE MOVIMENTACAO_COMBUSTIVEL (
    CODIGO             INTEGER NOT NULL,
    COD_NOTA_ENT       INTEGER,
    TAN_NUM_FIS        INTEGER NOT NULL,
    BOM_NUM_FIS        INTEGER,
    BIC_NUM_LOG        VARCHAR(5),
    ENC_ABT            NUMERIC(18,3) DEFAULT 0,
    ENC_FCT            NUMERIC(18,3) DEFAULT 0,
    COD_CLIENTE        INTEGER,
    COD_VENDEDOR       INTEGER,
    DATA               DATE,
    CODPRODUTO         INTEGER,
    UNITARIO           NUMERIC(18,2) NOT NULL,
    UNIDADE            VARCHAR(6),
    QTDE               NUMERIC(18,3) NOT NULL,
    TOTAL              NUMERIC(18,2) NOT NULL,
    ICMS_ALIQUOTA      NUMERIC(18,2),
    ICMS_BASE          NUMERIC(18,2),
    ICMS_VALOR         NUMERIC(18,2),
    CREDITO_ICMS       NUMERIC(18,3),
    IPI_ALIQUOTA       NUMERIC(18,2),
    IPI_BASE           NUMERIC(18,2),
    IPI_VALOR          NUMERIC(18,2),
    PIS_ALIQUOTA       NUMERIC(18,2),
    PIS_BASE           NUMERIC(18,2),
    PIS_VALOR          NUMERIC(18,2),
    COFINS_ALIQUOTA    NUMERIC(18,2),
    COFINS_BASE        NUMERIC(18,2),
    COFINS_VALOR       NUMERIC(18,2),
    CFOP               VARCHAR(6),
    NUMERO_VDA         INTEGER,
    DESCONTO           NUMERIC(18,2) DEFAULT 0,
    ACRESCIMO          NUMERIC(18,2) DEFAULT 0,
    MOVIMENTO          INTEGER,
    BASE_CALCULO       NUMERIC(18,2),
    SITUACAO           INTEGER,
    CUPOM_NUMERO       VARCHAR(10),
    MODELO             VARCHAR(5),
    ITEM               VARCHAR(5),
    CST                VARCHAR(3),
    MOVIMENTO_ESTOQUE  NUMERIC(18,3) NOT NULL,
    COD_USUARIO        INTEGER,
    LANCADO            INTEGER
);

CREATE TABLE MOVIMENTO_DIARIO (
    CODIGO            D_CODIGO,
    DATA              D_DATA Default 'Today',
    HISTORICO         LONGO,
    COD_USUARIO       CODIGO,
    USUARIO           CHAR(20),
    TIPO              CHAR(1),
    VALOR_ENTRADA     D_VALOR,
    VALOR_SAIDA       D_VALOR,
    CODIGO_CC         INTEGER,
    NUMERO_CC         VARCHAR(10),
    CODIGO_VENDA      CODIGO,
    ORIGEM            VARCHAR(3),
    COD_CREDIARIO     CODIGO,
    COD_COMPRA        CODIGO,
    N_CHEQUE          VARCHAR(8),
    COD_PLANO         CODIGO,
    PRE_DATADO        D_DATA,
    NOMINAL           D_NOME,
    COMPENSADO        BOOLEAN,
    COD_CHEQUE        CODIGO,
    COD_CONTAS_PAGAR  CODIGO,
    DOC_LAN           CODIGO,
    CONCILIADO        CODIGO,
    COD_DOC           CODIGO,
    DOCUMENTO_LANC    VARCHAR(20),
    COD_EMPRESA       CODIGO,
    HORA              TIME DEFAULT current_time,
    DB_CR             BOOLEAN,
    VALOR             D_VALOR NOT NULL,
    TIPO_MOV          CODIGO,
    COD_ENTRADA       CHAR(6),
    COD_APAGAR        CODIGO,
    FRETES            INTEGER,
    COD_FRETEIRO      CODIGO,
    COD_VEICULO       CODIGO,
    STATUS            INTEGER DEFAULT 0,
    COD_FECHAMENTO    CODIGO,
    SALDO_INICIAL     INTEGER,
    ID_VALE           CODIGO
);

CREATE TABLE MV_CONTRATO (
    ID              INTEGER NOT NULL,
    ID_EMPRESA      INTEGER,
    CONTRATO        VARCHAR(60),
    PLANO           VARCHAR(60),
    CARACTERISTICA  VARCHAR(60),
    SITUACAO        CHAR(1) DEFAULT 'A',
    DESCRICAO       BLOB SUB_TYPE 0 SEGMENT SIZE 80
);

CREATE TABLE MV_CT_IMOVEL_ALUGUEL (
    ID                 INTEGER NOT NULL,
    ID_CONTRATO        INTEGER,
    ID_INQUILINO       INTEGER,
    ID_PROPRIETARIO    INTEGER,
    ID_IMOVEL          INTEGER,
    ID_FIADOR          INTEGER,
    FINALIDADE         VARCHAR(100),
    PRAZO              INTEGER,
    OBS                VARCHAR(300),
    DATA_INICIO        DATE,
    DATA_TERMINO       DATE,
    PG_VENCIMENTO_DIA  INTEGER,
    DIAS_CARENCIA      INTEGER,
    MULTA_ATRASO       INTEGER,
    JUROS_MORA         INTEGER,
    DESCONTO           INTEGER,
    DESCONTO_DIAS      INTEGER,
    FIADOR             CHAR(1)
);

CREATE TABLE MV_CT_IMOVEL_COMPRA (
    ID               INTEGER NOT NULL,
    ID_CONTRATO      INTEGER,
    ID_VENDEDOR      INTEGER,
    ID_IMOVEL        INTEGER,
    ID_USUARIO       INTEGER,
    ID_CENTRO_CUSTO  INTEGER,
    TIPO             VARCHAR(20),
    PARCELAS         INTEGER,
    DATA_COMPRA      DATE,
    VALOR            DECIMAL(12,2)
);

CREATE TABLE MV_CT_IMOVEL_VENDA (
    ID                INTEGER NOT NULL,
    ID_CONTRATO       INTEGER,
    ID_VENDEDOR       INTEGER,
    ID_IMOVEL         INTEGER,
    ID_COMPRADOR      INTEGER,
    ID_USUARIO        INTEGER,
    ID_CENTRO_CUSTO   CODIGO,
    TIPO              VARCHAR(20),
    VENDA_VISTA       DECIMAL(12,2),
    INTERMEDIACAO     DECIMAL(12,2),
    VALOR_PROPOSTA    DECIMAL(12,2),
    ENTRADA           DECIMAL(12,2),
    SALDO_FINANCIAR   DECIMAL(12,2),
    JUROS             DECIMAL(12,2),
    PARCELA_ENTRADA   CHAR(1),
    PARCELAS_ENTRADA  CODIGO,
    ENTRE_MESES       CODIGO
);

CREATE TABLE MV_CT_PARCELA (
    ID             INTEGER NOT NULL,
    ID_CONTRATO    INTEGER,
    ID_CLIENTE     INTEGER,
    LANCAMENTO     DATE,
    VENCIMENTO     DATE,
    PAGAMENTO      DATE,
    SITUACAO       CHAR(1),
    VALOR          DECIMAL(18,2),
    NUMERO         INTEGER,
    BOLETO_GERADO  INTEGER DEFAULT 0
);

CREATE TABLE MV_PLANILHA_IMOVEL (
    ID               INTEGER NOT NULL,
    ID_IMOVEL        INTEGER,
    QT               CHAR(4),
    LT               CHAR(4),
    VENDA_VISTA      DECIMAL(12,2),
    INTERMEDIACAO    DECIMAL(12,2),
    VALOR_PROPOSTA   DECIMAL(12,2),
    ENTRADA          DECIMAL(12,2),
    SALDO_FINANCIAR  DECIMAL(12,2),
    PLANO_12         DECIMAL(12,2),
    PLANO_24         DECIMAL(12,2),
    PLANO_36         DECIMAL(12,2),
    PLANO_48         DECIMAL(12,2),
    PLANO_60         DECIMAL(12,2),
    PLANO_72         DECIMAL(12,2),
    PLANO_84         DECIMAL(12,2),
    PLANO_96         DECIMAL(12,2),
    PLANO_108        DECIMAL(12,2),
    PLANO_120        DECIMAL(12,2)
);

CREATE TABLE NFE_FRETE (
    COD_EMPRESA       CODIGO,
    N_SEQUENCIA       D_CODIGO NOT NULL,
    CD_TRANSPORTADOR  INTEGER,
    NR_NOTA           INTEGER,
    DT_EMISSAO        DATE,
    SERIE             VARCHAR(1),
    SUBSERIE          VARCHAR(2),
    CFOP              VARCHAR(4),
    VL_TOTAL          D_VALOR,
    VL_BASE_ICM       D_VALOR,
    VL_ICM            D_VALOR,
    VL_ISENTO_ICM     D_VALOR,
    VL_OUTRAS_ICM     D_VALOR,
    CD_CIF_FOB        INTEGER,
    FL_CANCELADO      VARCHAR(1),
    VL_BASE_ICM_ST    D_VALOR,
    VL_ICM_ST         D_VALOR,
    VL_FRETE_VOLUME   D_VALOR,
    VL_FRETE          D_VALOR,
    VL_SEC_CAT        D_VALOR,
    VL_PEDAGIO        D_VALOR,
    VL_OUTROS         D_VALOR
);

CREATE TABLE NFE_INUTILIZACAO (
    ID_GERAL               INTEGER,
    NR_NF                  INTEGER,
    SERIE_NF               VARCHAR(3),
    DT_PROCESSAMENTO_INUT  DATE,
    NR_PROTOCOLO_INUT      VARCHAR(15),
    CD_USUARIO             INTEGER,
    MOTIVO                 VARCHAR(80)
);

CREATE TABLE NFE_ITENS (
    NR_SEQUENCIA            D_CODIGO NOT NULL,
    NR_NOTA                 INTEGER NOT NULL,
    CD_CLIENTE              INTEGER,
    COD_PRODUTO             VARCHAR(15),
    COD_NCM                 VARCHAR(11),
    DESCRICAO_PRODUTO       D_DESCRICAO,
    PROD_SERV               VARCHAR(1),
    QT_PRODUTO              D_QUANT,
    VL_UNITARIO             D_UNIT,
    VL_TOTAL                D_VALOR,
    DT_LANCAMENTO           DATE,
    PESO_LIQUIDO            DOUBLE PRECISION,
    CD_ATUALIZACAO          INTEGER,
    CST                     VARCHAR(3),
    PC_RED_BASE_ICM         D_PERC,
    ALIQ_ICM                D_PERC,
    ALIQ_ICM_SUBST          D_PERC,
    ALIQ_IPI                D_PERC,
    ALIQ_ISS                D_PERC,
    VL_BASE_ICM             D_VALOR,
    VL_ICM                  D_VALOR,
    VL_ICM_SUBST            D_VALOR,
    VL_IPI                  D_VALOR,
    VL_ISS                  D_VALOR,
    DT_ALTERACAO            DATE,
    DESC_UNIDADE            VARCHAR(3),
    PERC_DESCONTO           D_PERC,
    VL_BASE_ICM_SUBST       D_VALOR,
    CD_CONTA                INTEGER,
    CFOP                    VARCHAR(10),
    VL_DESCONTO             D_VALOR,
    VL_CONTABIL             D_VALOR,
    VL_OUTROS               D_VALOR,
    VL_ISENTO               D_VALOR,
    ALIQ_PIS                D_VALOR,
    VL_BASE_PIS             D_VALOR,
    VL_PIS                  D_VALOR,
    ALIQ_COFINS             D_VALOR,
    VL_BASE_COFINS          D_VALOR,
    VL_COFINS               D_VALOR,
    VL_BASE_ISS             D_VALOR,
    VL_BASE_IPI             D_VALOR,
    ALIQ_ICM_PROPRIO_ST     D_VALOR,
    VL_BASE_ICM_PROPRIO_ST  D_VALOR,
    VL_ICM_PROPRIO_ST       D_VALOR,
    ALIQ_ICM_SUBST_REAL     D_VALOR,
    VL_BASE_ICM_SUBST_REAL  D_VALOR,
    VL_ICM_SUBST_REAL       D_VALOR,
    ITEN                    CODIGO,
    CODIGO_PROD             CODIGO,
    CST_PIS                 VARCHAR(3),
    CST_COFINS              VARCHAR(3),
    CST_IPI                 VARCHAR(2),
    CEST                    VARCHAR(7)
);

CREATE TABLE NFE_NOTA (
    N_SEQUENCIA                  D_CODIGO NOT NULL,
    CD_EMPRESA                   INTEGER NOT NULL,
    NR_NOTA                      INTEGER NOT NULL,
    COD_CLIENTE                  INTEGER,
    FL_IMPRESSO                  VARCHAR(1),
    SERIE_NF                     VARCHAR(3),
    CD_CFOP                      INTEGER,
    DT_EMISSAO                   DATE,
    DT_LANCAMENTO                DATE,
    VL_ACRESCIMOS                D_VALOR,
    VL_DESCONTOS                 D_VALOR,
    VL_MERCADORIAS               D_VALOR,
    VL_SERVICOS                  D_VALOR,
    VL_TOTAL                     D_VALOR,
    COD_PGTO                     INTEGER,
    VL_AVISTA                    D_VALOR,
    VL_PRAZO                     D_VALOR,
    PESO_TOTAL                   D_VALOR,
    QT_PECAS                     D_QUANT,
    CFOP_DESC                    VARCHAR(40),
    CD_TRANSPORTADORA            INTEGER,
    UF_ORIGEM                    VARCHAR(2),
    UF_DESTINO                   VARCHAR(2),
    PESO_LIQUIDO                 D_VALOR,
    VL_FRETE                     D_VALOR,
    VL_SEGURO                    D_VALOR,
    VL_BASE_ICM                  D_VALOR,
    VL_ICM                       D_VALOR,
    VL_BASE_ICM_SUBST            D_VALOR,
    VL_ICM_SUBST                 D_VALOR,
    VL_IPI                       D_VALOR,
    VL_ISS                       D_VALOR,
    TP_FRETE                     VARCHAR(1),
    QT_VOLUMES                   D_QUANT,
    ESPECIE_VOLUMES              VARCHAR(15),
    MARCA_VOLUMES                VARCHAR(15),
    NR_VOLUMES                   CODIGO,
    CD_TIPOCOBR                  INTEGER,
    CD_FUNCIONARIO               INTEGER,
    DT_ATZ                       DATE,
    PLACA_TRANSP                 VARCHAR(8),
    UF_PLACA_TRANSP              VARCHAR(2),
    VL_OUTROS                    D_VALOR,
    NR_PEDIDO                    INTEGER,
    VL_BASE_PIS                  D_VALOR,
    VL_PIS                       D_VALOR,
    VL_BASE_COFINS               D_VALOR,
    VL_COFINS                    D_VALOR,
    VL_BASE_IPI                  D_VALOR,
    VL_BASE_ISS                  D_VALOR,
    VL_DESCONTO_ITEM             D_VALOR,
    VL_ISENTO_ITENS              D_VALOR,
    VL_OUTROS_ITENS              D_VALOR,
    NR_PROTOCOLO_NFE             VARCHAR(15),
    DT_PROCESSAMENTO_NFE         DATE,
    STATUS                       BOOLEAN,
    NR_LOTE_NFE                  VARCHAR(15),
    NR_RECIBO_NFE                VARCHAR(15),
    NR_PROTOCOLO_CANC_NFE        VARCHAR(15),
    CHAVE_ACESSO_NFE             VARCHAR(44),
    VL_FRETE_CONHECIMENTO        D_VALOR,
    VL_ST_CONHECIMENTO           D_VALOR,
    VL_ICM_CONHECIMENTO          D_VALOR,
    BASE_ICM_PROPRIO_ST          D_VALOR,
    VL_ICM_PROPRIO_ST            D_VALOR,
    VL_BASE_ICM_SUBST_REAL       D_VALOR,
    VL_ICM_SUBST_REAL            D_VALOR,
    CNPJ_TRANSP                  D_CPF_CNPJ,
    NOME_TRANSP                  D_NOME,
    IE_TRANSP                    D_IE,
    END_TRANSPORTADOR            D_NOME,
    CIDADE_TRANSP                D_CIDADE,
    UF_TRANSP                    D_UF,
    TP                           BOOLEAN,
    N_NOTA_ENTRADA               VARCHAR(20),
    NOME_CLIENTE_FOR             D_NOME,
    CPF_CNPJ_CLIENTE_FORN        D_CPF_CNPJ,
    IE_CLIENTE_FORN              D_IE,
    ENDERECO_CLI_FORN            D_ENDERECO,
    END_NUM_CLIENTE              D_USUARIO,
    COD_IBGE                     VARCHAR(7),
    CEP_CLIENTE_FORN             D_CEP,
    BAIRRO_CLIENTE_FORN          D_BAIRRO,
    TIPO_PESSOA                  BOOLEAN,
    TELEFONE                     D_TEL,
    CIDADE_CLIENTE_FORN          D_CIDADE,
    UF_CLIENTE_FORN              D_UF,
    IE_PRODUTOR                  D_IE,
    PRODUTOR_RURAL               BOOLEAN,
    PAGAMENTO                    D_NOME,
    STATUS_INUTILIZADO           BOOLEAN,
    STATUS_CANCELADO             BOOLEAN,
    STATUS_EMAIL                 BOOLEAN,
    COD_FORNECEDOR               INTEGER,
    DEPEC                        BOOLEAN,
    CHAVE2                       D_DESCRICAO,
    STATUS_RETORNO               BOOLEAN,
    JUSTIFICATIVA_CANCEL_INUTIL  VARCHAR(255),
    MODELO                       VARCHAR(2),
    CORRECAO                     BOOLEAN,
    BXML                         BLOB SUB_TYPE 0 SEGMENT SIZE 80
);

CREATE TABLE NFECE_ITENS (
    NR_SEQUENCIA            D_CODIGO,
    NR_NOTA                 INTEGER NOT NULL,
    COD_PRODUTO             VARCHAR(15),
    COD_NCM                 VARCHAR(11),
    DESCRICAO_PRODUTO       D_DESCRICAO,
    PROD_SERV               VARCHAR(1),
    QT_PRODUTO              D_QUANT,
    VL_UNITARIO             D_UNIT,
    VL_TOTAL                D_VALOR,
    DT_LANCAMENTO           DATE,
    PESO_LIQUIDO            DOUBLE PRECISION,
    CD_ATUALIZACAO          INTEGER,
    CST                     VARCHAR(3),
    PC_RED_BASE_ICM         D_PERC,
    ALIQ_ICM                D_PERC,
    ALIQ_ICM_SUBST          D_PERC,
    ALIQ_IPI                D_PERC,
    ALIQ_ISS                D_PERC,
    VL_BASE_ICM             D_VALOR,
    VL_ICM                  D_VALOR,
    VL_ICM_SUBST            D_VALOR,
    VL_IPI                  D_VALOR,
    VL_ISS                  D_VALOR,
    DT_ALTERACAO            DATE,
    DESC_UNIDADE            VARCHAR(3),
    PERC_DESCONTO           D_PERC,
    VL_BASE_ICM_SUBST       D_VALOR,
    CD_CONTA                INTEGER,
    CFOP                    VARCHAR(10),
    VL_DESCONTO             D_VALOR,
    VL_CONTABIL             D_VALOR,
    VL_OUTROS               D_VALOR,
    VL_ISENTO               D_VALOR,
    ALIQ_PIS                D_VALOR,
    VL_BASE_PIS             D_VALOR,
    VL_PIS                  D_VALOR,
    ALIQ_COFINS             D_VALOR,
    VL_BASE_COFINS          D_VALOR,
    VL_COFINS               D_VALOR,
    VL_BASE_ISS             D_VALOR,
    VL_BASE_IPI             D_VALOR,
    ALIQ_ICM_PROPRIO_ST     D_VALOR,
    VL_BASE_ICM_PROPRIO_ST  D_VALOR,
    VL_ICM_PROPRIO_ST       D_VALOR,
    ALIQ_ICM_SUBST_REAL     D_VALOR,
    VL_BASE_ICM_SUBST_REAL  D_VALOR,
    VL_ICM_SUBST_REAL       D_VALOR,
    ITEN                    CODIGO,
    CODIGO_PROD             CODIGO,
    CST_PIS                 VARCHAR(3),
    CST_COFINS              VARCHAR(3),
    CST_IPI                 VARCHAR(2),
    COD_EMPRESA             CODIGO NOT NULL,
    CEST                    VARCHAR(7)
);

CREATE TABLE NFECE_NOTA (
    CD_EMPRESA                   INTEGER NOT NULL,
    NR_NOTA                      INTEGER NOT NULL,
    COD_CLIENTE                  INTEGER,
    FL_IMPRESSO                  VARCHAR(1),
    SERIE_NF                     VARCHAR(3),
    CD_CFOP                      INTEGER,
    DT_EMISSAO                   DATE,
    DT_LANCAMENTO                DATE,
    VL_ACRESCIMOS                D_VALOR,
    VL_DESCONTOS                 D_VALOR,
    VL_MERCADORIAS               D_VALOR,
    VL_SERVICOS                  D_VALOR,
    VL_TOTAL                     D_VALOR,
    COD_PGTO                     INTEGER,
    VL_AVISTA                    D_VALOR,
    VL_PRAZO                     D_VALOR,
    PESO_TOTAL                   D_VALOR,
    QT_PECAS                     D_QUANT,
    CFOP_DESC                    VARCHAR(40),
    CD_TRANSPORTADORA            INTEGER,
    UF_ORIGEM                    VARCHAR(2),
    UF_DESTINO                   VARCHAR(2),
    PESO_LIQUIDO                 D_VALOR,
    VL_FRETE                     D_VALOR,
    VL_SEGURO                    D_VALOR,
    VL_BASE_ICM                  D_VALOR,
    VL_ICM                       D_VALOR,
    VL_BASE_ICM_SUBST            D_VALOR,
    VL_ICM_SUBST                 D_VALOR,
    VL_IPI                       D_VALOR,
    VL_ISS                       D_VALOR,
    TP_FRETE                     VARCHAR(1),
    QT_VOLUMES                   D_QUANT,
    ESPECIE_VOLUMES              VARCHAR(15),
    MARCA_VOLUMES                VARCHAR(15),
    NR_VOLUMES                   CODIGO,
    CD_TIPOCOBR                  INTEGER,
    CD_FUNCIONARIO               INTEGER,
    DT_ATZ                       DATE,
    PLACA_TRANSP                 VARCHAR(8),
    UF_PLACA_TRANSP              VARCHAR(2),
    VL_OUTROS                    D_VALOR,
    NR_PEDIDO                    INTEGER,
    VL_BASE_PIS                  D_VALOR,
    VL_PIS                       D_VALOR,
    VL_BASE_COFINS               D_VALOR,
    VL_COFINS                    D_VALOR,
    VL_BASE_IPI                  D_VALOR,
    VL_BASE_ISS                  D_VALOR,
    VL_DESCONTO_ITEM             D_VALOR,
    VL_ISENTO_ITENS              D_VALOR,
    VL_OUTROS_ITENS              D_VALOR,
    NR_PROTOCOLO_NFE             VARCHAR(15),
    DT_PROCESSAMENTO_NFE         DATE,
    STATUS                       BOOLEAN,
    NR_LOTE_NFE                  VARCHAR(15),
    NR_RECIBO_NFE                VARCHAR(15),
    NR_PROTOCOLO_CANC_NFE        VARCHAR(15),
    CHAVE_ACESSO_NFE             VARCHAR(44),
    VL_FRETE_CONHECIMENTO        D_VALOR,
    VL_ST_CONHECIMENTO           D_VALOR,
    VL_ICM_CONHECIMENTO          D_VALOR,
    BASE_ICM_PROPRIO_ST          D_VALOR,
    VL_ICM_PROPRIO_ST            D_VALOR,
    VL_BASE_ICM_SUBST_REAL       D_VALOR,
    VL_ICM_SUBST_REAL            D_VALOR,
    CNPJ_TRANSP                  D_CPF_CNPJ,
    NOME_TRANSP                  D_NOME,
    IE_TRANSP                    D_IE,
    END_TRANSPORTADOR            D_NOME,
    CIDADE_TRANSP                D_CIDADE,
    UF_TRANSP                    D_UF,
    TP                           BOOLEAN,
    N_NOTA_ENTRADA               VARCHAR(20),
    NOME_CLIENTE_FOR             D_NOME,
    CPF_CNPJ_CLIENTE_FORN        D_CPF_CNPJ,
    IE_CLIENTE_FORN              D_IE,
    ENDERECO_CLI_FORN            D_ENDERECO,
    END_NUM_CLIENTE              D_USUARIO,
    COD_IBGE                     VARCHAR(7),
    CEP_CLIENTE_FORN             D_CEP,
    BAIRRO_CLIENTE_FORN          D_BAIRRO,
    TIPO_PESSOA                  BOOLEAN,
    TELEFONE                     D_TEL,
    CIDADE_CLIENTE_FORN          D_CIDADE,
    UF_CLIENTE_FORN              D_UF,
    IE_PRODUTOR                  D_IE,
    PRODUTOR_RURAL               BOOLEAN,
    PAGAMENTO                    D_NOME,
    STATUS_INUTILIZADO           BOOLEAN,
    STATUS_CANCELADO             BOOLEAN,
    STATUS_EMAIL                 BOOLEAN,
    COD_FORNECEDOR               INTEGER,
    DEPEC                        BOOLEAN,
    CHAVE2                       D_DESCRICAO,
    STATUS_RETORNO               BOOLEAN,
    JUSTIFICATIVA_CANCEL_INUTIL  VARCHAR(255),
    MODELO                       VARCHAR(2),
    CORRECAO                     BOOLEAN,
    VL_TROCO                     D_VALOR,
    BXML                         BLOB SUB_TYPE 0 SEGMENT SIZE 80
);

CREATE TABLE NFSE_ITENS (
    NR_SEQUENCIA            D_CODIGO,
    NR_NOTA                 INTEGER NOT NULL,
    CD_CLIENTE              INTEGER,
    COD_PRODUTO             VARCHAR(15),
    COD_NCM                 VARCHAR(11),
    DESCRICAO_PRODUTO       D_DESCRICAO,
    PROD_SERV               VARCHAR(1),
    QT_PRODUTO              D_QUANT,
    VL_UNITARIO             D_UNIT,
    VL_TOTAL                D_VALOR,
    DT_LANCAMENTO           DATE,
    PESO_LIQUIDO            DOUBLE PRECISION,
    CD_ATUALIZACAO          INTEGER,
    CST                     VARCHAR(3),
    PC_RED_BASE_ICM         D_PERC,
    ALIQ_ICM                D_PERC,
    ALIQ_ICM_SUBST          D_PERC,
    ALIQ_IPI                D_PERC,
    ALIQ_ISS                D_PERC,
    VL_BASE_ICM             D_VALOR,
    VL_ICM                  D_VALOR,
    VL_ICM_SUBST            D_VALOR,
    VL_IPI                  D_VALOR,
    VL_ISS                  D_VALOR,
    DT_ALTERACAO            DATE,
    DESC_UNIDADE            VARCHAR(3),
    PERC_DESCONTO           D_PERC,
    VL_BASE_ICM_SUBST       D_VALOR,
    CD_CONTA                INTEGER,
    CFOP                    VARCHAR(10),
    VL_DESCONTO             D_VALOR,
    VL_CONTABIL             D_VALOR,
    VL_OUTROS               D_VALOR,
    VL_ISENTO               D_VALOR,
    ALIQ_PIS                D_VALOR,
    VL_BASE_PIS             D_VALOR,
    VL_PIS                  D_VALOR,
    ALIQ_COFINS             D_VALOR,
    VL_BASE_COFINS          D_VALOR,
    VL_COFINS               D_VALOR,
    VL_BASE_ISS             D_VALOR,
    VL_BASE_IPI             D_VALOR,
    ALIQ_ICM_PROPRIO_ST     D_VALOR,
    VL_BASE_ICM_PROPRIO_ST  D_VALOR,
    VL_ICM_PROPRIO_ST       D_VALOR,
    ALIQ_ICM_SUBST_REAL     D_VALOR,
    VL_BASE_ICM_SUBST_REAL  D_VALOR,
    VL_ICM_SUBST_REAL       D_VALOR,
    ITEN                    CODIGO,
    CODIGO_PROD             CODIGO,
    CST_PIS                 VARCHAR(3),
    CST_COFINS              VARCHAR(3),
    CST_IPI                 VARCHAR(2)
);

CREATE TABLE NFSE_NOTA (
    NR_NOTA                      INTEGER NOT NULL,
    CD_EMPRESA                   INTEGER NOT NULL,
    COD_CLIENTE                  INTEGER,
    FL_IMPRESSO                  VARCHAR(1),
    SERIE_NF                     VARCHAR(3),
    CD_CFOP                      INTEGER,
    DT_EMISSAO                   DATE,
    DT_LANCAMENTO                DATE,
    VL_ACRESCIMOS                D_VALOR,
    VL_DESCONTOS                 D_VALOR,
    VL_MERCADORIAS               D_VALOR,
    VL_SERVICOS                  D_VALOR,
    VL_TOTAL                     D_VALOR,
    COD_PGTO                     INTEGER,
    VL_AVISTA                    D_VALOR,
    VL_PRAZO                     D_VALOR,
    PESO_TOTAL                   D_VALOR,
    QT_PECAS                     D_QUANT,
    CFOP_DESC                    VARCHAR(40),
    CD_TRANSPORTADORA            INTEGER,
    UF_ORIGEM                    VARCHAR(2),
    UF_DESTINO                   VARCHAR(2),
    PESO_LIQUIDO                 D_VALOR,
    VL_FRETE                     D_VALOR,
    VL_SEGURO                    D_VALOR,
    VL_BASE_ICM                  D_VALOR,
    VL_ICM                       D_VALOR,
    VL_BASE_ICM_SUBST            D_VALOR,
    VL_ICM_SUBST                 D_VALOR,
    VL_IPI                       D_VALOR,
    VL_ISS                       D_VALOR,
    TP_FRETE                     VARCHAR(1),
    QT_VOLUMES                   D_QUANT,
    ESPECIE_VOLUMES              VARCHAR(15),
    MARCA_VOLUMES                VARCHAR(15),
    NR_VOLUMES                   CODIGO,
    CD_TIPOCOBR                  INTEGER,
    CD_FUNCIONARIO               INTEGER,
    DT_ATZ                       DATE,
    PLACA_TRANSP                 VARCHAR(8),
    UF_PLACA_TRANSP              VARCHAR(2),
    VL_OUTROS                    D_VALOR,
    NR_PEDIDO                    INTEGER,
    VL_BASE_PIS                  D_VALOR,
    VL_PIS                       D_VALOR,
    VL_BASE_COFINS               D_VALOR,
    VL_COFINS                    D_VALOR,
    VL_BASE_IPI                  D_VALOR,
    VL_BASE_ISS                  D_VALOR,
    VL_DESCONTO_ITEM             D_VALOR,
    VL_ISENTO_ITENS              D_VALOR,
    VL_OUTROS_ITENS              D_VALOR,
    NR_PROTOCOLO_NFE             VARCHAR(15),
    DT_PROCESSAMENTO_NFE         DATE,
    STATUS                       BOOLEAN,
    NR_LOTE_NFE                  VARCHAR(15),
    NR_RECIBO_NFE                VARCHAR(15),
    NR_PROTOCOLO_CANC_NFE        VARCHAR(15),
    CHAVE_ACESSO_NFE             VARCHAR(44),
    VL_FRETE_CONHECIMENTO        D_VALOR,
    VL_ST_CONHECIMENTO           D_VALOR,
    VL_ICM_CONHECIMENTO          D_VALOR,
    BASE_ICM_PROPRIO_ST          D_VALOR,
    VL_ICM_PROPRIO_ST            D_VALOR,
    VL_BASE_ICM_SUBST_REAL       D_VALOR,
    VL_ICM_SUBST_REAL            D_VALOR,
    CNPJ_TRANSP                  D_CPF_CNPJ,
    NOME_TRANSP                  D_NOME,
    IE_TRANSP                    D_IE,
    END_TRANSPORTADOR            D_NOME,
    CIDADE_TRANSP                D_CIDADE,
    UF_TRANSP                    D_UF,
    TP                           BOOLEAN,
    N_NOTA_ENTRADA               VARCHAR(20),
    NOME_CLIENTE_FOR             D_NOME,
    CPF_CNPJ_CLIENTE_FORN        D_CPF_CNPJ,
    IE_CLIENTE_FORN              D_IE,
    ENDERECO_CLI_FORN            D_ENDERECO,
    END_NUM_CLIENTE              D_USUARIO,
    COD_IBGE                     VARCHAR(7),
    CEP_CLIENTE_FORN             D_CEP,
    BAIRRO_CLIENTE_FORN          D_BAIRRO,
    TIPO_PESSOA                  BOOLEAN,
    TELEFONE                     D_TEL,
    CIDADE_CLIENTE_FORN          D_CIDADE,
    UF_CLIENTE_FORN              D_UF,
    IE_PRODUTOR                  D_IE,
    PRODUTOR_RURAL               BOOLEAN,
    PAGAMENTO                    D_NOME,
    STATUS_INUTILIZADO           BOOLEAN,
    STATUS_CANCELADO             BOOLEAN,
    STATUS_EMAIL                 BOOLEAN,
    COD_FORNECEDOR               INTEGER,
    DEPEC                        BOOLEAN,
    CHAVE2                       D_DESCRICAO,
    STATUS_RETORNO               BOOLEAN,
    JUSTIFICATIVA_CANCEL_INUTIL  VARCHAR(255),
    MODELO                       VARCHAR(2),
    CORRECAO                     BOOLEAN,
    IM_CLIENT_FOR                VARCHAR(15)
);

CREATE TABLE NOTA_FISCAL_CCE (
    COD                 INTEGER NOT NULL,
    COD_NF              INTEGER,
    DATA                DATE,
    SEQ                 INTEGER,
    CHAVE               VARCHAR(100),
    STATUS_TRANSMITIDA  VARCHAR(1) DEFAULT 'N',
    PROTOCOLO           VARCHAR(100),
    DATA_AUT            DATE,
    HORA_AUT            TIME,
    CORRECAO            VARCHAR(1000),
    RETORNO             BLOB SUB_TYPE 1 SEGMENT SIZE 4096
);

CREATE TABLE NOTAS_MANIFESTACAO (
    COD           INTEGER NOT NULL,
    COD_EMP       INTEGER NOT NULL,
    CHAVE_NOTA    VARCHAR(100) CHARACTER SET WIN1252,
    DATA_ENTRADA  DATE,
    EMITENTE      VARCHAR(100) CHARACTER SET WIN1252,
    CNPJ_EMI      VARCHAR(20) CHARACTER SET WIN1252,
    IE_EMI        VARCHAR(20) CHARACTER SET WIN1252,
    VALOR_NF      NUMERIC(18,2),
    TIPO_NF       VARCHAR(50) CHARACTER SET WIN1252,
    SIT_NF        VARCHAR(50) CHARACTER SET WIN1252,
    SIT_CONF      VARCHAR(50) CHARACTER SET WIN1252 NOT NULL,
    MANIFESTACAO  INTEGER
);

CREATE TABLE NOTASFISCAIS (
    CODIGO_NOTA                D_CODIGO,
    NUM_NOTA                   VARCHAR(20) NOT NULL,
    SERIE_NF                   VARCHAR(15),
    CFOP_NOTA                  VARCHAR(5),
    DATA_EMISSAO               D_DATA,
    COD_FORNECEDOR             CODIGO,
    FORNECEDOR                 D_NOME,
    DATA_VENCIMENTO            D_DATA,
    TOTAL_NOTA                 D_VALOR,
    CNPJ                       D_CPF_CNPJ,
    IE                         D_IE,
    USUARIO_CADASTRO           D_USUARIO,
    DATA_CADASTRO              D_DATA DEFAULT 'today',
    OBSERVACOES                BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    MES                        VARCHAR(2),
    ANO                        VARCHAR(4),
    CHAVE_NFE                  D_ENDERECO,
    PROTOCOLO_NFE              D_BAIRRO,
    BASE_CALCULO_ICMS          D_VALOR,
    VALOR_ICMS                 D_VALOR,
    BASE_CALC_ICMS_SUBST       D_VALOR,
    VALOR_ICMS_SUBST           D_VALOR,
    VALOR_FRETE                D_VALOR,
    VALOR_SEGURO               D_VALOR,
    VALOR_DESCONTO             D_VALOR,
    VALOR_OUTRAS_DESPESAS      D_VALOR,
    VALOR_IPI                  D_VALOR,
    VALOR_TOTAL_PRODUTOS       D_VALOR,
    VALOR_TOTAL_ITENS_NOTA     D_VALOR,
    VLR_ICMS_GARANTIDO         D_VALOR,
    "cod_pagto"                CODIGO,
    TP                         BOOLEAN,
    ENDERECO_CLI_FORN          D_ENDERECO,
    END_NUM_CLIENTE            D_USUARIO,
    COD_IBGE                   VARCHAR(7),
    CEP_CLIENTE_FORN           D_CEP,
    BAIRRO_CLIENTE_FORN        D_BAIRRO,
    TIPO_PESSOA                BOOLEAN,
    TELEFONE                   D_TEL,
    CIDADE_CLIENTE_FORN        D_CIDADE,
    UF_CLIENTE_FORN            D_UF,
    DESC_PAGTO                 D_NOME,
    VALOR_AVISTA               D_VALOR,
    VALOR_PRAZO                D_VALOR,
    "pagamento"                D_BAIRRO,
    MODELO                     VARCHAR(2),
    EMITENTE                   BOOLEAN,
    VALOR_COFINS               D_VALOR,
    VALOR_PIS                  D_VALOR,
    VALOR_PIS_ST               D_VALOR,
    VALOR_COFIS_ST             D_VALOR,
    PERC_ICMS                  D_PERC,
    CST                        VARCHAR(3),
    SUB_SERIE                  VARCHAR(10),
    TRANSP_NOME                VARCHAR(60),
    TRANSP_PLACA               VARCHAR(10),
    TRANSP_PLACAUF             VARCHAR(2),
    TRANSP_IE                  VARCHAR(25),
    TRANSP_CNPJ                VARCHAR(25),
    TRANSP_ENDERECO            VARCHAR(40),
    TRANSP_CIDADE              VARCHAR(30),
    TRANSP_UF                  VARCHAR(2),
    TRANSP_QTDE                NUMERIC(18,3),
    TRANSP_ESPECIE             VARCHAR(20),
    TRANSP_MARCA               VARCHAR(20),
    TRANSP_NUMERO              VARCHAR(20),
    TRANSP_PESOBRUTO           NUMERIC(18,3),
    TRANSP_PESOLIQUIDO         NUMERIC(18,3),
    OBS1                       VARCHAR(60),
    OBS2                       VARCHAR(60),
    OBS3                       VARCHAR(60),
    OBS4                       VARCHAR(60),
    OBS5                       VARCHAR(60),
    OBS6                       VARCHAR(60),
    OBS7                       VARCHAR(60),
    OBS8                       VARCHAR(60),
    SITUACAO                   INTEGER,
    ITENS                      INTEGER,
    TIPO                       VARCHAR(30),
    NOTA_FISCAL                VARCHAR(6),
    ICMS_ISENTO                NUMERIC(18,2),
    ICMS_OUTRAS                NUMERIC(18,2),
    DESCONTO_INCIDENTE         INTEGER,
    ITEM_FRETE_VALOR           NUMERIC(18,2),
    ITEM_FRETE_BASE            NUMERIC(18,2),
    ITEM_FRETE_ALIQUOTA        NUMERIC(18,2),
    ITEM_FRETE_ICMS            NUMERIC(18,2),
    ITEM_SEGURO_VALOR          NUMERIC(18,2),
    ITEM_SEGURO_BASE           NUMERIC(18,2),
    ITEM_SEGURO_ALIQUOTA       NUMERIC(18,2),
    ITEM_SEGURO_ICMS           NUMERIC(18,2),
    ITEM_PIS_VALOR             NUMERIC(18,2),
    ITEM_PIS_BASE              NUMERIC(18,2),
    ITEM_PIS_ALIQUOTA          NUMERIC(18,2),
    ITEM_PIS_ICMS              NUMERIC(18,2),
    ITEM_COMPLEMENTO_VALOR     NUMERIC(18,2),
    ITEM_COMPLEMENTO_BASE      NUMERIC(18,2),
    ITEM_COMPLEMENTO_ALIQUOTA  NUMERIC(18,2),
    ITEM_COMPLEMENTO_ICMS      NUMERIC(18,2),
    ITEM_SERVICO_VALOR         NUMERIC(18,2),
    ITEM_SERVICO_BASE          NUMERIC(18,2),
    ITEM_SERVICO_ALIQUOTA      NUMERIC(18,2),
    ITEM_SERVICO_ICMS          NUMERIC(18,2),
    ITEM_OUTRAS_VALOR          NUMERIC(18,2),
    ITEM_OUTRAS_BASE           NUMERIC(18,2),
    ITEM_OUTRAS_ALIQUOTA       NUMERIC(18,2),
    ITEM_OUTRAS_ICMS           NUMERIC(18,2),
    ITEM_ESPECIAL_TOTAL        NUMERIC(18,2),
    ITEM_ESPECIAL_VALOR        NUMERIC(18,2),
    BASEICMS_PRODUTOS          INTEGER,
    CONF_ITEM_ESPECIAL         NUMERIC(18,3),
    CREDITO_ICMS               NUMERIC(18,3),
    OPERACAO                   VARCHAR(1),
    INTEGRACAO                 INTEGER,
    APROVEITA_CREDITO_ICMS     VARCHAR(1),
    COD_EMPRESA                CODIGO,
    ICMSRETIDO                 NUMERIC(18,3),
    PERC_ICMSRETIDO            NUMERIC(18,3),
    ESPECIE                    VARCHAR(5),
    CODREMETENTE               CODIGO,
    REMETENTE                  VARCHAR(50),
    VALOR_MERCADORIAS          D_VALOR,
    CONF_BASEICMS              NUMERIC(18,3),
    CONF_VALORICMS             NUMERIC(18,3),
    CONF_BASESUB               NUMERIC(18,3),
    CONF_VALORSUB              NUMERIC(18,3),
    CONF_FRETE                 NUMERIC(18,3),
    CONF_SEGURO                NUMERIC(18,3),
    CONF_OUTRAS                NUMERIC(18,3),
    CONF_IPI                   NUMERIC(18,3),
    CONF_DESCONTO              NUMERIC(18,3),
    CONF_TOTALPRODUTOS         NUMERIC(18,3),
    CONF_TOTALNOTA             NUMERIC(18,3),
    CONF_ICMSRETIDO            NUMERIC(18,3),
    CONF_ICMSREDITO_PERC       NUMERIC(18,3),
    CONFI_PIS                  D_VALOR,
    CONF_COFINS                D_VALOR,
    COD_CENTRO_CUSTO           CODIGO,
    COD_IMOVEL                 INTEGER
);

CREATE TABLE NOTASFISCAIS_ITENS (
    CODIGO_ITEM           D_CODIGO,
    CODIGO_PRODUTO        CODIGO,
    CODIGO_BARRAS         VARCHAR(13),
    CODIGO_NOTA           D_CODIGO,
    DESCRICAO             D_DESCRICAO,
    NCM_SH                VARCHAR(8),
    CST                   VARCHAR(3),
    CFOP                  VARCHAR(5),
    DESC_UNIDADE          VARCHAR(6),
    QUANTIDADE            D_QUANT,
    VALOR_UNI             D_QUANT,
    VALOR_DESC            D_VALOR,
    TOTAL_ITEM            D_VALOR,
    DATA                  DATE default 'today',
    BASE_ICMS             D_VALOR DEFAULT 0,
    VALOR_ICMS            D_VALOR DEFAULT 0,
    VALOR_IPI             D_VALOR DEFAULT 0,
    PERC_ICMS             D_PERC DEFAULT 0,
    PERC_IPI              D_PERC DEFAULT 0,
    PRECO_VENDA           D_VALOR DEFAULT 0,
    PRECO_VENDA2          D_VALOR DEFAULT 0,
    DATA_VALIDADE         D_DATA,
    DATA_FABRICACAO       D_DATA,
    FRACAO                CODIGO DEFAULT 1,
    QUANT_FRACIONADA      D_QUANT,
    LOTE_MED              VARCHAR(10),
    MARG_LUCRO            D_VALOR DEFAULT 0,
    ATIVO                 BOOLEAN DEFAULT 'A',
    BASE_ICMS_ST          D_VALOR DEFAULT 0,
    ALIC_ICMS_ST          D_VALOR DEFAULT 0,
    VALOR_ICMS_ST         D_VALOR DEFAULT 0,
    COD_EMPRESA           INTEGER DEFAULT 1,
    IMOBILZ               VARCHAR(1) DEFAULT 'N',
    BASE_PIS              D_VALOR DEFAULT '0',
    PERC_PIS              D_VALOR DEFAULT '0',
    VALOR_PIS             D_VALOR DEFAULT '0',
    BASE_COFINS           D_VALOR DEFAULT '0',
    PERC_COFINS           D_VALOR DEFAULT '0',
    VALOR_COFINS          D_VALOR DEFAULT '0',
    BASE_IPI              D_VALOR DEFAULT '0',
    UN_FRACAO             VARCHAR(5),
    ITEM                  CODIGO,
    CODFORNECEDOR         CODIGO,
    NUM_NOTA              VARCHAR(20),
    ICMS_RETIDO           VARCHAR(1),
    SUBTOTAL              NUMERIC(18,2),
    DESCONTO_P            NUMERIC(18,2),
    ICMS_REDUCAO          NUMERIC(18,2),
    ICMS_VALORRETIDO      NUMERIC(18,2),
    ICMS_ISENTO           NUMERIC(18,2),
    ICMS_NAOTRIBUTADO     NUMERIC(18,2),
    IPI_TIPO              VARCHAR(25),
    TIPO                  INTEGER,
    FRETE                 NUMERIC(18,2),
    OUTRAS                NUMERIC(18,2),
    SEGURO                NUMERIC(18,2),
    CLASSIFICACAO_FISCAL  VARCHAR(2),
    SUB_PRODUTOS          NUMERIC(18,3),
    ITEM_ESPECIAL_VALOR   NUMERIC(18,3),
    ICMS_OUTRAS           NUMERIC(18,2),
    ALTERA_ITEM           INTEGER,
    CREDITO_ICMS          NUMERIC(18,3),
    CREDITO_ICMS_BASE     NUMERIC(18,3),
    PMARGEM               FLOAT,
    PRECO_CUSTO           D_VALOR,
    CODLANCAMENTO         VARCHAR(50)
);

CREATE TABLE OD_AGENDA (
    ID           INTEGER NOT NULL,
    ID_CLIENTE   INTEGER,
    ID_USUARIO   INTEGER,
    TIPO         VARCHAR(20),
    DATA         DATE,
    HORA_INICIO  TIME,
    HORA_FINAL   TIME,
    STATUS       VARCHAR(20),
    OBS          VARCHAR(150),
    TITULO       VARCHAR(100)
);

CREATE TABLE OD_ANAMNESE (
    ID                      INTEGER NOT NULL,
    ID_CLIENTE              INTEGER,
    MOTIVO_CONSULTA         VARCHAR(150),
    GENGIVAS_SANGRAM        CHAR(3),
    DENTES_MOBILIDADE       CHAR(3),
    SATISFEITO_COR          CHAR(3),
    SENSIVEL_FRIO           CHAR(3),
    PENICILINA              CHAR(3),
    ANESTESICOS             CHAR(3),
    ASPIRINAS               CHAR(3),
    REACAO_ALERGICA         VARCHAR(150),
    REALIZOU_CIRURGIA       CHAR(3),
    CICATRIZACAO            VARCHAR(20),
    USA_MEDICAMENTO         CHAR(3),
    QUAL_MEDICAMENTO        VARCHAR(150),
    USA_ANTICOAGULANTE      CHAR(3),
    QUAL_ANTICOAGULANTE     VARCHAR(150),
    POSSUI_HABITO           CHAR(3),
    QUAL_HABITO             VARCHAR(150),
    INJERE_BEBIDA_ALCOLICA  CHAR(3),
    BEBE_FREQUENCIA         VARCHAR(20),
    FUMA_JA_FUMOU           CHAR(3),
    FUMA_FREQUENCIA         VARCHAR(20),
    FUMA_TEMPO              VARCHAR(20),
    CONSULTA_MEDICO         CHAR(3),
    MEDICO_FREQUENCIA       VARCHAR(150),
    EXAME_SANGUINEO_TEMPO   VARCHAR(40),
    INFO_RESULTADO_EXAME    BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    SOFRE_DIABETES          CHAR(3),
    SOFRE_TUBERCULOSE       CHAR(3),
    SOFRE_ARTRITE           CHAR(3),
    SOFRE_CARDIACOS         CHAR(3),
    SOFRE_ASMA              CHAR(3),
    SOFRE_HIPERTENCAO       CHAR(3),
    SOFRE_RENAIS            CHAR(3),
    SOFRE_HEPATICOS         CHAR(3),
    SOFRE_ALGO_MAIS         VARCHAR(150),
    GRAVIDA                 CHAR(3),
    MES_GRAVIDES            VARCHAR(100),
    SENSIVEL_DOCES          CHAR(3)
);

CREATE TABLE OD_EVOLUCOES (
    ID                 INTEGER NOT NULL,
    ID_R_PROCEDIMENTO  INTEGER,
    OBS                VARCHAR(150),
    DATA               DATE
);

CREATE TABLE OD_IMAGENS (
    ID          INTEGER NOT NULL,
    ID_CLIENTE  INTEGER,
    IMAGEM      BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    NOME        VARCHAR(150)
);

CREATE TABLE OD_PROCEDIMENTO (
    ID      INTEGER NOT NULL,
    NOME    VARCHAR(100),
    OBS     VARCHAR(100),
    STATUS  CHAR(3)
);

CREATE TABLE OD_R_PROCEDIMENTO (
    ID               INTEGER NOT NULL,
    ID_CLIENTE       INTEGER,
    ID_PROCEDIMENTO  INTEGER,
    DENTE            VARCHAR(150),
    OBS              VARCHAR(150),
    STATUS           VARCHAR(20),
    DATA             DATE
);

CREATE TABLE ORCAMENTOS (
    CODIGO          D_CODIGO,
    VALOR_ITENS     D_VALOR,
    VALOR_DESCONTO  D_VALOR,
    VALOR_TOTAL     D_VALOR,
    VALOR_COMISSAO  D_VALOR,
    USUARIO         D_USUARIO,
    DATA            D_DATA DEFAULT 'TODAY',
    CODIGO_CLIENTE  D_CODIGO,
    NOME_CLIENTE    D_NOME,
    PAGAMENTO       VARCHAR(35),
    ENC_FINANCEIRO  D_VALOR,
    OBSERVACOES     LONGO,
    COD_VENDEDOR    CODIGO,
    COD_EMPRESA     CODIGO,
    COD_PAGTO       CODIGO,
    ENDERECO        D_ENDERECO,
    CIDADE          D_CIDADE,
    FONE            D_FAX,
    BAIRRO          D_ENDERECO,
    CPF_CNPJ        D_CPF_CNPJ,
    RG_IE           D_IE,
    EXPORTADO       BOOLEAN,
    CEP             D_CEP,
    UF              D_UF,
    NUMERO          CODIGO,
    TIPO            BOOLEAN,
    COD_IBGE        VARCHAR(7),
    PRODUTOR        BOOLEAN,
    IE_PRODUTOR     D_IE
);

CREATE TABLE ORCAMENTOS_ITENS (
    CODIGO             D_CODIGO,
    CODIGO_ID          D_CODIGO,
    CODIGO_PROD        CODIGO,
    CODIGO_PRODUTO     VARCHAR(13),
    DESCRICAO_PRODUTO  D_DESCRICAO,
    PRECO_UNITARIO     D_VALOR,
    QUANTIDADE         D_QUANT,
    PRECO_TOTAL        D_VALOR,
    COMISSAO           D_VALOR,
    DESCONTO           D_VALOR,
    ENC_FINANCEIRO     D_VALOR,
    VENDEDOR           CODIGO,
    SIT_TRIBUTARIA     VARCHAR(6),
    UNIDADE            VARCHAR(6),
    FRACAO             CODIGO,
    COD_NCM            D_CEP,
    PROD_SERV          BOOLEAN,
    ITEN               CODIGO
);

CREATE TABLE ORCAMENTOS_PARCELAS (
    CODIGO          D_CODIGO NOT NULL,
    ID_ORCAMENTO    D_CODIGO NOT NULL,
    DESC_COND_PGTO  D_DESCRICAO,
    QUANT_PARCELAS  VARCHAR(3),
    VALOR_PARC      D_VALOR,
    PARCELA         VARCHAR(4),
    DATA_VENC       D_DATA
);

CREATE TABLE OS_AUTO (
    ID                  INTEGER NOT NULL,
    ID_CLIENTE          INTEGER,
    ID_ATENDIMENTO      INTEGER,
    ID_VEICULO          INTEGER,
    ID_TECNICO          INTEGER,
    NUMERO_OS           INTEGER,
    DATA_OS             DATE,
    TIPO                VARCHAR(20),
    SOLICITANTE_OS      VARCHAR(100),
    MODELO_CARRO        VARCHAR(60),
    PLACA_CARRO         VARCHAR(20),
    ATENDIMENTO_CARRO   VARCHAR(20),
    COMBUSTIVEL_CARRO   VARCHAR(20),
    NIVEL_CBT_CARRO     VARCHAR(20),
    RENAVA_CARRO        VARCHAR(100),
    DEFEITO_CARRO       BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    DATA_LAUDO          DATE,
    HORA_LAUDO          TIME,
    DEFEITO_LAUDO       BLOB SUB_TYPE 1 SEGMENT SIZE 4096,
    SITUACAO_LAUDO      VARCHAR(100),
    INTERVERCOES_LAUDO  BLOB SUB_TYPE 1 SEGMENT SIZE 4096,
    RETIRADO_LAUDO      VARCHAR(100),
    CONCLUSAO_LAUDO     DATE,
    ENTREGA_LAUDO       DATE,
    FATURADO            CHAR(1) DEFAULT 'N',
    KM_CARRO            INTEGER,
    MARCA_CARRO         VARCHAR(50)
);

CREATE TABLE OS_AUTO_PRODUTOS (
    ID          INTEGER NOT NULL,
    ID_OS_AUTO  INTEGER,
    ID_PRODUTO  INTEGER,
    QUANTIDADE  INTEGER,
    VALOR_UNT   DECIMAL(12,2),
    DESCONTO    DECIMAL(12,2),
    TOTAL       DECIMAL(12,2)
);

CREATE TABLE OS_BEM_COR (
    ID_OS_EQUIPAMENTO_COR  INTEGER NOT NULL,
    COR                    VARCHAR(30),
    USERCAD                VARCHAR(20),
    DATACAD                DATE
);

CREATE TABLE OS_BENS (
    ID_OS_EQUIPAMENTOS       INTEGER NOT NULL,
    ID_OS_EQUIPAMENTO_TIPO   INTEGER,
    ID_OS_EQUIPAMENTO_MARCA  INTEGER,
    MODELO                   VARCHAR(50),
    USERCAD                  D_USUARIO,
    DATACAD                  D_DATA
);

CREATE TABLE OS_BENS_LOCAL (
    ID_OS_LOCALEQUIPAMENTO  INTEGER NOT NULL,
    LOCAL                   VARCHAR(30),
    USERCAD                 VARCHAR(20),
    DATACAD                 DATE
);

CREATE TABLE OS_BENS_MARCAS (
    ID_OS_EQUIPAMENTO_MARCAS  INTEGER NOT NULL,
    MARCA                     VARCHAR(50),
    USERCAD                   D_USUARIO,
    DATACAD                   D_DATA
);

CREATE TABLE OS_BENS_TIPO (
    ID_OS_EQUIPAMENTO_TIPO     D_CODIGO NOT NULL,
    TIPO                       VARCHAR(50),
    FLAG_CHECKLIST_ACESSORIOS  VARCHAR(1),
    FLAG_CHECKLIST_DEFEITOS    VARCHAR(1),
    USERCAD                    D_USUARIO,
    DATACAD                    D_DATA
);

CREATE TABLE OS_CHECKLIST_ACESSORIOS (
    ID_OS_CHECKLIST_ACESSORIOS  INTEGER,
    ID_OS_EQUIPAMENTO_TIPO      INTEGER,
    ACESSORIO                   VARCHAR(60)
);

CREATE TABLE OS_CHECKLIST_DEFEITOS (
    ID_OS_CHECKLIST_DEFEITOS  INTEGER,
    ID_OS_EQUIPAMENTO_TIPO    INTEGER,
    DEFEITO                   VARCHAR(60)
);

CREATE TABLE OS_LAUDO (
    ID_OS_LAUDO         INTEGER NOT NULL,
    ID_OS_ORDEMSERVICO  INTEGER NOT NULL,
    ID_TECNICO          INTEGER NOT NULL,
    DATA                TIMESTAMP NOT NULL,
    LAUDO               VARCHAR(200)
);

CREATE TABLE OS_ORDEMSERVICO (
    ID_OS_ORDEMSERVICO     INTEGER NOT NULL,
    ID_EMPRESA             INTEGER,
    ID_OS_PRIORIDADE       INTEGER,
    ID_OS_TIPOATENDIMENTO  INTEGER,
    ID_OS_STATUS           INTEGER,
    ID_CLIENTE             INTEGER,
    ID_OS_EQUIPAMENTO      INTEGER,
    ID_OS_EQUIPAMENTO_COR  INTEGER,
    ID_OS_EQUIP_LOCAL      INTEGER,
    ID_TECNICORESPONSAVEL  INTEGER,
    ID_USUARIO             INTEGER,
    SITUACAO               VARCHAR(15),
    IDENTIFICADOR          VARCHAR(30),
    EQUIPAMENTO_NSERIE     VARCHAR(50),
    NUMERO_OS              INTEGER,
    NOMECONTATO            VARCHAR(50),
    FLAGEXTERNA            VARCHAR(1),
    DATA_ENTRADA           DATE,
    HORA_ENTRADA           TIME,
    DATA_SOLUCAO           DATE,
    HORA_SOLUCAO           TIME,
    CAMPO_DATAAGENDA       DATE,
    CAMPO_HORAAGENDA       TIME,
    CAMPO_DATACHEGADA      DATE,
    CAMPO_HORACHEGADA      TIME,
    CAMPO_DATASAIDA        DATE,
    CAMPO_HORASAIDA        TIME,
    CAMPO_DATARETORNO      DATE,
    CAMPO_HORARETORNO      TIME,
    CONSUMIDOR_NOME        VARCHAR(50),
    CONSUMIDOR_ENDERECO    VARCHAR(80),
    CONSUMIDOR_CPFCNPJ     VARCHAR(14),
    CONSUMIDOR_TELEFONE    VARCHAR(14),
    PRAZO_DATACONCLUSAO    DATE,
    PRAZO_HORACONCLUSAO    TIME,
    MODELO                 VARCHAR(50),
    OBS                    VARCHAR(30),
    ID_VENDA               INTEGER,
    DATA_ALTERACAO         TIMESTAMP,
    OCORRENCIA             VARCHAR(1000),
    OBSEQUIPAMENTO         VARCHAR(1000),
    SOLUCAO                VARCHAR(1000),
    REVENDEDOR             VARCHAR(100),
    MODALIDADE             VARCHAR(30),
    GARANTIA               VARCHAR(30),
    LACRE                  VARCHAR(30),
    GARANTIA_CAMPO1        VARCHAR(30),
    DATA_PROXIMAREVISAO    DATE,
    CONSUMIDOR_RGINSCR     VARCHAR(18),
    HORA_INICIO_ATEND      TIME,
    HORA_FIM_ATEND         TIME,
    USERCAD                D_USUARIO,
    DATACAD                D_DATA,
    NOTAFISCAL             VARCHAR(20),
    DATA_NOTAFISCAL        D_DATA,
    KM                     INTEGER,
    PLACA                  VARCHAR(8),
    VEICULO                D_ENDERECO
);

CREATE TABLE OS_PRIORIDADE (
    ID_OS_PRIORIDADE  INTEGER NOT NULL,
    PRIORIDADE        VARCHAR(30),
    USERCAD           D_USUARIO,
    DATACAD           D_DATA
);

CREATE TABLE OS_PRODUTOS_SERVICOS (
    ID_OS_PRODUTOS_SERVICOS  INTEGER NOT NULL,
    ID_OS_ORDEMSERVICO       INTEGER,
    ID_OS_TECNICO            INTEGER,
    COD_PRODUTO              INTEGER,
    CODIGO_BARRAS            VARCHAR(13),
    VALOR_UNITARIO           DOUBLE PRECISION,
    QUANTIDADE               DOUBLE PRECISION,
    PERC_DESCONTO            DOUBLE PRECISION,
    VLRDESCONTO              DOUBLE PRECISION,
    VALOR_TOTAL              DOUBLE PRECISION,
    DESC_UNIDADE             VARCHAR(3),
    DTFIMPROMVAREJO          DATE,
    DTINICIOPROMVAREJO       DATE,
    VALGRAMASAIDA            DOUBLE PRECISION,
    ESTAPROMOCAOVAREJO       VARCHAR(1),
    EMBALAGEMSAIDA           VARCHAR(10),
    PRECO_ATUAL_MANTIDO      DOUBLE PRECISION,
    DESCRICAO                VARCHAR(60),
    PROD_SERV                BOOLEAN,
    SIT_TRIBUTARIA           VARCHAR(5),
    FRACAO                   CODIGO,
    COD_NCM                  VARCHAR(8)
);

CREATE TABLE OS_STATUS (
    ID_OS_STATUS  INTEGER NOT NULL,
    STATUS        VARCHAR(30) NOT NULL
);

CREATE TABLE OS_STATUS_ATENDIMENTO (
    ID_OS_STATUS  INTEGER NOT NULL,
    STATUS        VARCHAR(30),
    USERCAD       D_USUARIO,
    DATACAD       D_DATA
);

CREATE TABLE OS_TIPOATENDIMENTO (
    ID_OS_TIPO       INTEGER NOT NULL,
    TIPOATENDIMENTO  VARCHAR(30),
    FLAGEXTERNA      VARCHAR(1),
    USERCAD          D_USUARIO,
    DATACAD          D_DATA
);

CREATE TABLE OTICA (
    CODIGO         D_CODIGO NOT NULL,
    COD_CLIENTE    CODIGO,
    NOME           D_NOME,
    ENDERECO       D_ENDERECO,
    CPF            D_CPF_CNPJ,
    BAIRRO         D_BAIRRO,
    COMPLEMENTO    D_BAIRRO,
    NUMERO         D_NUMERO,
    CIDADE         D_CIDADE,
    UF             D_UF,
    TELEFONE       D_FAX,
    ESFERA_D       VARCHAR(10),
    CLILINDRICO_D  VARCHAR(10),
    EIXO_D         VARCHAR(10),
    ESFERA_E       VARCHAR(10),
    CLINDRICO_E    VARCHAR(10),
    EIXO_E         VARCHAR(10),
    DP_LONGE       VARCHAR(10),
    DP_PERTO       VARCHAR(10),
    P_ADICAO       VARCHAR(10),
    DATA           D_DATA,
    OBS            LONGO,
    COD_EMPRESA    CODIGO
);

CREATE TABLE PAG_RET_PEDIDOS (
    CODIGO       D_CODIGO,
    DATA_AUT     D_DATA,
    DATA_PAG     D_DATA,
    HISTORICO    D_NOME,
    USUARIO_AUT  VARCHAR(20),
    USUARIO_PAG  VARCHAR(20),
    VALOR        D_VALOR,
    STATUS       CHAR(1),
    CLIENTE      D_NOME,
    PAGAMENTO    VARCHAR(20),
    TIPO         CHAR(1),
    CODIGO_P     INTEGER,
    PAG          VARCHAR(30),
    CODIGO_C     INTEGER,
    TP           CHAR(1)
);

CREATE TABLE PARTIDAS (
    COD_EMPRESA          CODIGO,
    CODIGO               D_CODIGO NOT NULL,
    N_PARTIDA            VARCHAR(20),
    NOTA_COMPRA          VARCHAR(15),
    DATA_ENTRADA         D_DATA,
    COD_LABORATORIO      VARCHAR(10),
    NOME_LABORATORIO     VARCHAR(50),
    DATA_FABRICACAO      D_DATA,
    DATA_VENCIMENTO      D_DATA,
    TIPO_VACINA          VARCHAR(25),
    QUANT_COMPRA         D_QUANT,
    QUANT_VENDA          D_QUANT,
    SALDO                COMPUTED BY (QUANT_COMPRA - QUANT_VENDA),
    NOME_EMPRESA_COMPRA  D_NOME,
    MUNICIPIO_COMPRA     D_CIDADE,
    DATACAD              D_DATA,
    USERCAD              D_USUARIO,
    AFTOSA               BOOLEAN
);

CREATE TABLE PEDIDOS (
    CODIGO            D_CODIGO NOT NULL,
    VALOR_ITENS       D_VALOR,
    ENC_FINANCEIRO    D_VALOR,
    VALOR_DESCONTO    D_VALOR,
    VALOR_TOTAL       D_VALOR,
    VALOR_COMISSAO    D_VALOR,
    USUARIO           D_USUARIO,
    DATA_PEDIDO       D_DATA DEFAULT 'TODAY',
    DATA_ENTREGA      D_DATA,
    CODIGO_CLIENTE    D_CODIGO,
    NOME_CLIENTE      D_NOME,
    PAGAMENTO         VARCHAR(35),
    STATUS            CHAR(1),
    SITUACAO          CHAR(1),
    USUARIO_ENTREGA   D_USUARIO,
    TP                CHAR(1),
    OBSERVACOES       VARCHAR(250),
    COD_VENDEDOR      INTEGER,
    COD_PAGTO         INTEGER,
    N_CUPOM           VARCHAR(18),
    N_ECF             VARCHAR(5),
    COD_EMPRESA       CODIGO NOT NULL,
    HORA              TIME,
    VALOR_ACRESCIMOS  CALCULADO,
    COD_ORCAMENTO     CODIGO,
    COD_PEDIDO        CODIGO,
    COD_OS            SMALLINT,
    NUM_NOTA          CODIGO,
    SERIE_NOTA        VARCHAR(3),
    ENDERECO          D_ENDERECO,
    CPF_CNPJ          D_CPF_CNPJ,
    RG_IE             D_RG,
    FONE              D_TEL,
    CIDADE            D_CIDADE,
    BAIRRO            D_BAIRRO,
    N_PARTIDA         VARCHAR(15),
    PROPRIEDADE       D_NOME,
    QUANT_VENDIDA     D_QUANT,
    SALDO_VENDIDO     D_QUANT,
    MED_VETERINARIO   D_NOME,
    DATA_VACINA       D_DATA,
    VALOR_AVISTA      D_VALOR,
    VALOR_PRAZO       D_VALOR,
    UF                D_UF,
    COD_IBGE          COD_IBGE,
    CEP               D_CEP,
    NUMERO            VARCHAR(6),
    TIPO              BOOLEAN,
    VALOR_PAGO        D_VALOR,
    VALOR_TROCO       D_VALOR,
    ENTREGADOR        D_ENDERECO,
    TIPO_PEDIDO       D_CEP,
    FECHADO           VARCHAR(5),
    MESA              VARCHAR(3),
    REFERENCIA        D_NOME,
    CELULAR           D_CELULAR,
    PROD_RURAL        BOOLEAN,
    IE_PRODUTOR       D_RG,
    VLR_PIS           D_VALOR,
    VLR_COFINS        D_VALOR,
    KM                CODIGO,
    CHAVE_FP          VARCHAR(100),
    CHAVE_FP_CANCEL   VARCHAR(30),
    CUPON_CANCELADO   BOOLEAN,
    CRZ               CODIGO,
    CHEK_BOX          BOOLEAN,
    ANO               INTEGER,
    MODELO_NF         VARCHAR(2),
    CFOP_NF           VARCHAR(4),
    COD_OS_AUTO       CODIGO
);

CREATE TABLE PEDIDOS_CHEQUES_DIN (
    COD_VENDA  CODIGO,
    COD_PAGTO  D_DESCRICAO,
    VALOR      D_VALOR,
    DATA       D_DATA,
    PARC       UF
);

CREATE TABLE PEDIDOS_FORMAS_PAGAMENTO (
    COD_VENDA   INTEGER,
    COD_FORMA   INTEGER,
    VALOR       NUMERIC(18,2),
    TIPO        BOOLEAN,
    DESC_FORMA  D_CIDADE
);

CREATE TABLE PEDIDOS_ITENS (
    CODIGO             D_CODIGO,
    CODIGO_ID          D_CODIGO,
    ITEN               CODIGO,
    CODIGO_PROD        CODIGO,
    CODIGO_PRODUTO     VARCHAR(13),
    DESCRICAO_PRODUTO  D_DESCRICAO,
    PRECO_UNITARIO     D_UNIT,
    DESCONTO           D_VALOR,
    QUANTIDADE         D_QUANT,
    PRECO_TOTAL        D_VALOR,
    COMISSAO           D_VALOR,
    DEV                CHAR(1),
    QNT_DEV            NUMERIC(18,4),
    VAL_DEV            D_VALOR,
    ENC_FINANCEIRO     D_VALOR,
    UNIDADE            VARCHAR(6),
    SIT_TRIBUTARIA     VARCHAR(5),
    VENDEDOR           CODIGO,
    FRACAO             CODIGO,
    COD_NCM            D_CEP,
    PROD_SERV          BOOLEAN,
    PERC_ISS           D_PERC,
    BASE_ISS           D_VALOR,
    VL_ISS             D_VALOR,
    PERC_ICM           D_PERC,
    BASE_ICMS          D_VALOR,
    VL_ICM             D_VALOR,
    PERC_IPI           D_PERC,
    BASE_IPI           D_VALOR,
    VL_IPI             D_VALOR,
    PERC_COFINS        D_PERC,
    BASE_COFINS        D_VALOR,
    VL_COFINS          D_VALOR,
    PERC_ICMS_SUBST    D_PERC,
    BASE_ICMS_SUBST    D_VALOR,
    VL_ICMS_SUBST      D_VALOR,
    PERC_PIS           D_PERC,
    BASE_PIS           D_VALOR,
    VL_PIS             D_VALOR,
    IMPRIME            VARCHAR(3),
    COD_EMPRESA        D_CODIGO NOT NULL,
    ID_BICO            CODIGO,
    ID_TANQUE          VARCHAR(5),
    ID_BOMBA           VARCHAR(5),
    BICO               VARCHAR(2)
);

CREATE TABLE PERDAS (
    SEQ           D_CODIGO NOT NULL,
    COD_PRODUTO   CODIGO,
    MOME_PRODUTO  D_DESCRICAO,
    LOTE          D_CPF_CNPJ,
    QUANTIDADE    CODIGO NOT NULL,
    DATA          D_DATA,
    MOTIVO        D_ENDERECO
);

CREATE TABLE PLANO_CARACT (
    ID_CARACT  CODIGO NOT NULL,
    DESCRICAO  D_DESCRICAO NOT NULL
);

CREATE TABLE PLANO_CONTRAT (
    ID_PLANO   CODIGO NOT NULL,
    DESCRICAO  D_DESCRICAO NOT NULL
);

CREATE TABLE PLANO_TIPO (
    ID_TIPO    CODIGO NOT NULL,
    DESCRICAO  D_DESCRICAO NOT NULL
);

CREATE TABLE PLANOCONTAS (
    CODIGO        D_CODIGO,
    COD_NATUREZA  VARCHAR(2),
    NIVEL_CTA     VARCHAR(5),
    COD_CTA       VARCHAR(20),
    INDICADOR     BOOLEAN,
    NOME          D_NOME,
    USERCAD       D_USUARIO,
    DATACAD       D_DATA default 'today',
    COD_COMPLETO  VARCHAR(20),
    SALDO_CTA     D_VALOR,
    DEB_CRED      BOOLEAN
);

CREATE TABLE PREVENDA (
    CODIGO            D_CODIGO,
    VALOR_ITENS       D_VALOR,
    ENC_FINANCEIRO    D_VALOR,
    VALOR_DESCONTO    D_VALOR,
    VALOR_TOTAL       D_VALOR,
    VALOR_COMISSAO    D_VALOR,
    USUARIO           D_USUARIO,
    DATA_PEDIDO       D_DATA DEFAULT 'TODAY',
    DATA_ENTREGA      D_DATA,
    CODIGO_CLIENTE    D_CODIGO,
    NOME_CLIENTE      D_NOME,
    PAGAMENTO         VARCHAR(35),
    STATUS            CHAR(1),
    SITUACAO          CHAR(1),
    USUARIO_ENTREGA   D_USUARIO,
    TP                CHAR(1),
    OBSERVACOES       VARCHAR(250),
    COD_VENDEDOR      INTEGER,
    COD_PAGTO         INTEGER,
    N_CUPOM           VARCHAR(18),
    N_ECF             VARCHAR(5),
    COD_EMPRESA       CODIGO NOT NULL,
    HORA              TIME,
    VALOR_ACRESCIMOS  CALCULADO,
    COD_ORCAMENTO     CODIGO,
    COD_PEDIDO        CODIGO,
    COD_OS            SMALLINT,
    NUM_NOTA          CODIGO,
    SERIE_NOTA        VARCHAR(3),
    ENDERECO          D_ENDERECO,
    CPF_CNPJ          D_CPF_CNPJ,
    RG_IE             D_RG,
    FONE              D_TEL,
    CIDADE            D_CIDADE,
    BAIRRO            D_BAIRRO,
    N_PARTIDA         VARCHAR(15),
    PROPRIEDADE       D_NOME,
    QUANT_VENDIDA     D_QUANT,
    SALDO_VENDIDO     D_QUANT,
    MED_VETERINARIO   D_NOME,
    DATA_VACINA       D_DATA,
    VALOR_AVISTA      D_VALOR,
    VALOR_PRAZO       D_VALOR,
    UF                D_UF,
    COD_IBGE          COD_IBGE,
    CEP               D_CEP,
    NUMERO            VARCHAR(6),
    TIPO              BOOLEAN,
    VALOR_PAGO        D_VALOR,
    VALOR_TROCO       D_VALOR,
    ENTREGADOR        D_ENDERECO,
    TIPO_PEDIDO       D_CEP,
    FECHADO           VARCHAR(5),
    MESA              VARCHAR(3),
    REFERENCIA        D_NOME,
    CELULAR           D_CELULAR,
    PROD_RURAL        BOOLEAN,
    IE_PRODUTOR       D_RG,
    VLR_PIS           D_VALOR,
    VLR_COFINS        D_VALOR,
    KM                CODIGO,
    CHAVE_FP          VARCHAR(100),
    CHAVE_FP_CANCEL   VARCHAR(30),
    CUPON_CANCELADO   BOOLEAN,
    CRZ               CODIGO,
    CHEK_BOX          BOOLEAN,
    ANO               INTEGER,
    MODELO_NF         VARCHAR(2),
    CFOP_NF           VARCHAR(4),
    COD_OS_AUTO       CODIGO
);

CREATE TABLE PREVENDA_FORMAS_PAGAMENTO (
    COD_VENDA   INTEGER,
    COD_FORMA   INTEGER,
    VALOR       NUMERIC(18,2),
    TIPO        BOOLEAN,
    DESC_FORMA  D_CIDADE
);

CREATE TABLE PREVENDA_ITENS (
    CODIGO             D_CODIGO,
    CODIGO_ID          D_CODIGO,
    ITEN               CODIGO,
    CODIGO_PROD        CODIGO,
    CODIGO_PRODUTO     VARCHAR(13),
    DESCRICAO_PRODUTO  D_DESCRICAO,
    PRECO_UNITARIO     D_UNIT,
    DESCONTO           D_VALOR,
    QUANTIDADE         D_QUANT,
    PRECO_TOTAL        D_VALOR,
    COMISSAO           D_VALOR,
    DEV                CHAR(1),
    QNT_DEV            NUMERIC(18,4),
    VAL_DEV            D_VALOR,
    ENC_FINANCEIRO     D_VALOR,
    UNIDADE            VARCHAR(6),
    SIT_TRIBUTARIA     VARCHAR(5),
    VENDEDOR           CODIGO,
    FRACAO             CODIGO,
    COD_NCM            D_CEP,
    PROD_SERV          BOOLEAN,
    PERC_ISS           D_PERC,
    BASE_ISS           D_VALOR,
    VL_ISS             D_VALOR,
    PERC_ICM           D_PERC,
    BASE_ICMS          D_VALOR,
    VL_ICM             D_VALOR,
    PERC_IPI           D_PERC,
    BASE_IPI           D_VALOR,
    VL_IPI             D_VALOR,
    PERC_COFINS        D_PERC,
    BASE_COFINS        D_VALOR,
    VL_COFINS          D_VALOR,
    PERC_ICMS_SUBST    D_PERC,
    BASE_ICMS_SUBST    D_VALOR,
    VL_ICMS_SUBST      D_VALOR,
    PERC_PIS           D_PERC,
    BASE_PIS           D_VALOR,
    VL_PIS             D_VALOR,
    IMPRIME            VARCHAR(3),
    COD_EMPRESA        D_CODIGO,
    ID_BICO            CODIGO,
    ID_TANQUE          VARCHAR(5),
    ID_BOMBA           VARCHAR(5),
    BICO               VARCHAR(2)
);

CREATE TABLE PRODUTO_COMPOSTO (
    CODIGO         D_CODIGO,
    COD_PRINCIPAL  CODIGO,
    PRODUTO        D_NOME,
    QUANTIDADE     D_VALOR
);

CREATE TABLE PRODUTO_GRADE (
    CODIGO      INTEGER,
    CODPRODUTO  INTEGER,
    CODNOTA     INTEGER,
    QTDE        NUMERIC(18,2),
    CODGRADE    INTEGER,
    CODITEM     INTEGER
);

CREATE TABLE PRODUTO_PRECOS (
    CODIGO                         INTEGER NOT NULL,
    CODPRODUTO                     INTEGER,
    CODFILIAL                      INTEGER,
    DATA_ALTERACAO                 DATE,
    CP_VPRECOCOMPRA                FLOAT,
    CP_PIPI                        FLOAT,
    CP_VIPI                        FLOAT,
    CP_PRETENCAO                   FLOAT,
    CP_VRETENCAO                   FLOAT,
    CP_PFRETE                      FLOAT,
    CP_VFRETE                      FLOAT,
    CP_PICMS                       FLOAT,
    CP_VICMS                       FLOAT,
    CP_PREDUCAO                    FLOAT,
    CP_VREDUCAO                    FLOAT,
    CP_PPIS                        FLOAT,
    CP_VPIS                        FLOAT,
    CP_PCOFINS                     FLOAT,
    CP_VCOFINS                     FLOAT,
    CP_PSEGURO                     FLOAT,
    CP_VSEGURO                     FLOAT,
    CP_POUTROS                     FLOAT,
    CP_VOUTROS                     FLOAT,
    VD_PICMS                       FLOAT,
    VD_VICMS                       FLOAT,
    VD_PREDUCAO                    FLOAT,
    VD_VREDUCAO                    FLOAT,
    VD_PSIMPLES                    FLOAT,
    VD_VSIMPLES                    FLOAT,
    VD_PPIS                        FLOAT,
    VD_VPIS                        FLOAT,
    VD_PCOFINS                     FLOAT,
    VD_VCOFINS                     FLOAT,
    VD_PIRPJ                       FLOAT,
    VD_VIRPJ                       FLOAT,
    VD_PCONTSOCIAL                 FLOAT,
    VD_VCONTSOCIAL                 FLOAT,
    VD_PDFIXA                      FLOAT,
    VD_VDFIXA                      FLOAT,
    VD_PCOMISSAO                   FLOAT,
    VD_VCOMISSAO                   FLOAT,
    VD_PDESCMAX                    FLOAT,
    VD_VDESCMAX                    FLOAT,
    PCUSTO_COMPRA                  FLOAT,
    VCUSTO_COMPRA                  FLOAT,
    PCUSTO_VENDA                   FLOAT,
    VCUSTO_VENDA                   FLOAT,
    PRECO_LIQUIDO                  FLOAT,
    PRECO_UNITARIO                 FLOAT,
    FRACAO                         FLOAT,
    PMARGEM1                       FLOAT,
    PMARGEM2                       FLOAT,
    PMARGEM3                       FLOAT,
    PMARGEM4                       FLOAT,
    PMARGEM5                       FLOAT,
    PRECOVAREJO1                   FLOAT,
    PRECOVAREJO2                   FLOAT,
    PRECOVAREJO3                   FLOAT,
    PRECOVAREJO4                   FLOAT,
    PRECOVAREJO5                   FLOAT,
    PMARGEMATACADO1                FLOAT,
    PMARGEMATACADO2                FLOAT,
    PMARGEMATACADO3                FLOAT,
    PMARGEMATACADO4                FLOAT,
    PMARGEMATACADO5                FLOAT,
    PRECOATACADO1                  FLOAT,
    PRECOATACADO2                  FLOAT,
    PRECOATACADO3                  FLOAT,
    PRECOATACADO4                  FLOAT,
    PRECOATACADO5                  FLOAT,
    TIPO_REGIME                    INTEGER,
    TIPO_CALCULO                   INTEGER,
    VCUSTO_COMPRA_ANT              FLOAT,
    PRECOVAREJO1_ANT               FLOAT,
    CUSTO_COMPRA                   NUMERIC(18,2),
    VALOR_ULTIMA_COMPRA            NUMERIC(18,2),
    FRETE_IPI_OUTRAS               NUMERIC(18,2),
    ICMS_ENTRADA                   NUMERIC(18,3),
    ICMS_SAIDA                     NUMERIC(18,3),
    CUSTO_OPERACIONAL              NUMERIC(18,3),
    OUTROS_IMPOSTOS                NUMERIC(18,3),
    COMISSAO                       NUMERIC(18,3),
    LUCRO                          NUMERIC(18,3),
    PRECO_VENDA                    NUMERIC(18,3),
    ICMS_ENTRADA_P                 NUMERIC(18,3),
    ICMS_SAIDA_P                   NUMERIC(18,3),
    CUSTO_OPERACIONAL_P            NUMERIC(18,3),
    OUTROS_IMPOSTOS_P              NUMERIC(18,3),
    COMISSAO_P                     NUMERIC(18,3),
    LUCRO_P                        NUMERIC(18,3),
    TOTAL_CUSTO                    NUMERIC(18,3),
    TOTAL_CUSTO_P                  NUMERIC(18,3),
    PRECO_AUTOMATICO               INTEGER,
    ALTERA_AUTOMATICO              INTEGER,
    NOVO_PRECO_VENDA               NUMERIC(18,3),
    NOVO_PRECO_CUSTO               NUMERIC(18,3),
    DESCONTO                       NUMERIC(18,3),
    FRETE                          NUMERIC(18,3),
    SEGURO                         NUMERIC(18,3),
    OUTRAS_DESPESAS                NUMERIC(18,3),
    IPI_P                          NUMERIC(18,3),
    IPI                            NUMERIC(18,3),
    PIS_P                          NUMERIC(18,3),
    PIS                            NUMERIC(18,3),
    COFINS_P                       NUMERIC(18,3),
    COFINS                         NUMERIC(18,3),
    CONTRIBUICAO_SOCIAL_P          NUMERIC(18,3),
    CONTRIBUICAO_SOCIAL            NUMERIC(18,3),
    PIS_ENTRADA_P                  NUMERIC(18,3),
    PIS_ENTRADA                    NUMERIC(18,3),
    COFINS_ENTRADA_P               NUMERIC(18,3),
    COFINS_ENTRADA                 NUMERIC(18,3),
    CONTRIBUICAO_SOCIAL_ENTRADA_P  NUMERIC(18,3),
    SUBSTITUICAO_TRIBUTARIA        NUMERIC(18,3)
);

CREATE TABLE PRODUTO_RENTABILIDADE (
    RENTABILIDADE  INTEGER,
    COD_PRODUTO    INTEGER NOT NULL,
    PRODUTO        VARCHAR(70),
    RENDIMENTO     NUMERIC(18,2),
    QUANTIDADE     NUMERIC(18,2),
    VALOR          NUMERIC(18,2),
    CODIGO         INTEGER NOT NULL
);

CREATE TABLE PRODUTO_SIMILAR (
    CODIGO_SEQ      INTEGER NOT NULL,
    CODIGO_PROD     D_CODIGO NOT NULL,
    CODIGO_SIMILAR  INTEGER,
    DESC_SIMILAR    VARCHAR(70),
    USERCAD         VARCHAR(20),
    DATACAD         DATE
);

CREATE TABLE PRODUTOS (
    CODIGO                 D_CODIGO,
    CODIGO_BARRAS          CHAR(13) NOT NULL,
    DESCRICAO              D_DESCRICAO,
    ABREVIADO              VARCHAR(29),
    PRECO_CUSTO            D_VALOR,
    MARGEM_LUCRO           D_VALOR,
    COMISSAO               D_VALOR,
    UNIDADE                INTEGER,
    FRETE                  D_VALOR,
    ICMS                   D_VALOR,
    IPI_IRPJ               D_VALOR,
    OUTROS_IMPOSTOS        D_VALOR,
    DESCONTOS              D_VALOR,
    CLASS_FISCAL           VARCHAR(6),
    SIT_TRIBUTARIA         VARCHAR(5),
    CUSTO_MEDIO            D_VALOR,
    PRECO_VENDA            D_UNIT,
    DESCONTO_MAXIMO        D_VALOR,
    CODIGO_GRUPO           INTEGER,
    CODIGO_SUBGRUPO        INTEGER,
    CODIGO_MARCA           INTEGER,
    NOME_GRUPO             VARCHAR(40),
    NOME_SUBGRUPO          VARCHAR(40),
    NOME_MARCA             VARCHAR(40),
    NOME_FORNECEDOR        VARCHAR(70),
    CODIGO_FORNECEDORES    INTEGER,
    FOTO                   BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    ESTOQUE_ATUAL          D_QUANT,
    ESTOQUE_VENDIDO        D_VALOR,
    ESTOQUE                D_QUANT,
    VALOR_ESTOQUE_ATUAL    COMPUTED BY (Preco_venda*Estoque_atual),
    VALOR_ESTOQUE          COMPUTED BY (Preco_venda*Estoque),
    ESTOQUE_MINIMO         D_NUMERO,
    ESTOQUE_MAXIMO         D_NUMERO,
    DATACAD                D_DATA,
    USERCAD                D_USUARIO,
    VALOR_EST_CUSTO_ATUAL  COMPUTED BY (Preco_CUSTO*Estoque_atual),
    ULTIMACOMPRA           DATE,
    VALOR_EST_CUSTO        COMPUTED BY (Preco_CUSTO*Estoque),
    SECCAO                 INTEGER,
    CATEGORIA              CODIGO,
    LOCALIZACAO            VARCHAR(50),
    APLICACAO              VARCHAR(500),
    ESP_COD_AUX            VARCHAR(50),
    GARANTIA               INTEGER,
    BALANCA                BOOLEAN,
    ETIQUETA               BOOLEAN,
    ATIVO                  VARCHAR(1),
    REFERENCIA             VARCHAR(40),
    COD_EMPRESA            INTEGER,
    DESC_UNIDADE           VARCHAR(6),
    PESOBRUTO              DECIMAL(18,3),
    PESOLIQUIDO            DECIMAL(18,3),
    FONETICO               VARCHAR(60),
    DATAULTALTERACAO       D_DATA,
    CUSTOREPOSICAO         D_VALOR,
    PRECO_ANT              D_UNIT,
    PRECO_PROMOCAO         D_UNIT,
    FLAG_PROMOCAO          VARCHAR(1),
    DT_INICIO_PROMO        D_DATA,
    DT_FIM_PROMO           D_DATA,
    COD_LABORATORIO        CODIGO,
    LABORATORIO            D_DESCRICAO,
    PRINCIPIO_ATIVO        D_DESCRICAO,
    MED_CONTROLADO         BOOLEAN,
    QTD_FRACIONADA         NUMERIC(10,2),
    QTD_CAIXA              NUMERIC(3,0),
    MED_GENERICO           VARCHAR(3),
    LOTE_MED               VARCHAR(10),
    VALIDADE               D_DATA,
    CHEK_BOX               BOOLEAN,
    PRECO_VENDA2           D_UNIT,
    MARGEM_LUCRO2          D_VALOR,
    VALIDADE_PRODUTO       VARCHAR(3),
    PROD_SERV              BOOLEAN,
    UNIDADE_ENT            CODIGO,
    DESC_UNID_ENT          VARCHAR(6),
    QUANT_SAIDA            D_QUANT,
    QUANT_ENTRADA          D_QUANT,
    ESTOQUE_FRACAO         D_QUANT,
    DATA_FABRICACAO        D_DATA,
    FRACAO                 CODIGO,
    NCM_SH                 VARCHAR(8),
    COD_MS                 VARCHAR(13),
    CONTOLAESTOQUE         VARCHAR(5),
    PRODUTOCOMPOSTO        VARCHAR(5),
    TIPO_ATIVIDADE         VARCHAR(2),
    COD_PRODUTO_ESTOQUE    INTEGER,
    CODIGO_LOCAL_ESTOQUE   CODIGO,
    LISTA_ABC              BOOLEAN,
    GRUPO_TRIBUTACAO       CODIGO,
    COMBUSTIVEL            BOOLEAN DEFAULT 'N',
    COR                    CODIGO,
    ENABLE_NUMSERIE        D_CODIGO DEFAULT 0 NOT NULL,
    ID_PRODUTOS            CODIGO,
    COD_ANP                VARCHAR(9),
    CESTA                  BOOLEAN,
    ML_QUANT_BEB           NUMERIC(18,3),
    UND_TRIB               VARCHAR(3),
    CHASSI                 D_ENDERECO,
    COR_DESC               D_BAIRRO,
    N_MOTOR                D_BAIRRO,
    ANO_FAB                VARCHAR(4),
    ANO_MOD_FAB            VARCHAR(4),
    TIPO_VEIC              VARCHAR(10),
    N_SERIE                D_BAIRRO,
    COD_MODELO             VARCHAR(30),
    ESPECIE_VEICULO        VARCHAR(10),
    COD_COR_DENATRAN       VARCHAR(10),
    TIPO_COMBUSTIVEL       VARCHAR(10),
    VEICULO                BOOLEAN,
    USA_RENTABILIDADE      INTEGER,
    USA_SERIAL             INTEGER,
    USA_GRADE              INTEGER,
    PRODUTO_PROPRIEDADE    CODIGO DEFAULT '0',
    MULTIP_FRACAO          CODIGO,
    DATA_REMARCACAO_VENDA  D_DATA,
    CODORIGINAL            VARCHAR(40),
    DATA_ULTIMA_COMPRA     D_DATA,
    ALERTA_COPA            CHAR(1) CHARACTER SET WIN1252,
    ALERTA_COZINHA         CHAR(1) CHARACTER SET WIN1252,
    ANDROID_VISUALIZA      CHAR(1) CHARACTER SET WIN1252,
    TEMPO_PREPARO          TIME,
    SABORES                INTEGER DEFAULT 0,
    COD_PACOTE             VARCHAR(20),
    CEST                   VARCHAR(7)
);

CREATE TABLE PRODUTOS_ESTOQUES_LOG (
    ID_EMPRESA            D_CODIGO,
    ID_FILIAL             D_CODIGO,
    ID_AJUSTE             D_CODIGO,
    ID_PRODUTO            D_CODIGO,
    ID_LOTE               VARCHAR(20),
    ID_PRODUTO_SERIE      VARCHAR(30),
    DATA                  DATE,
    ID_USUARIO            D_CODIGO,
    ID_MOVIMENTO          D_CODIGO,
    FRACAO                INTEGER DEFAULT 1,
    ESTOQUE_ANTERIOR      NUMERIC(18,2) DEFAULT 0 NOT NULL,
    QUANTIDADE            NUMERIC(18,3) DEFAULT 0 NOT NULL,
    ESTOQUE_POSTERIOR     NUMERIC(18,2) DEFAULT 0 NOT NULL,
    SITUACAO_ESTOQUE      INTEGER,
    OPERACAO              VARCHAR(1),
    ACAO_BD               VARCHAR(1),
    SITUACAO_ESTOQUE_OLD  INTEGER,
    COD_VENDA             CODIGO,
    COD_COMPRA            CODIGO,
    HISTORICO             VARCHAR(100),
    HORA                  TIME
);

CREATE TABLE PRODUTOS_FALTA (
    COD_EMPRESA    INTEGER NOT NULL,
    CODIGO_SEQ     D_CODIGO NOT NULL,
    COD_PRODUTO    INTEGER NOT NULL,
    DESCRICAO      D_DESCRICAO,
    COD_USUARIO    INTEGER,
    DATA_FALTA     DATE,
    FRACAO         INTEGER,
    QUANT_FRACAO   INTEGER,
    QUANT_INTEIRA  INTEGER
);

CREATE TABLE PRODUTOS_FARDO (
    CODIGO         D_CODIGO NOT NULL,
    CODIGO_BARRAS  VARCHAR(13),
    QUANT_VENDA    CODIGO,
    VALOR_VENDA    D_VALOR,
    DESCRICAO      D_DESCRICAO,
    UNID           VARCHAR(6)
);

CREATE TABLE PRODUTOS_GRADE (
    CODIGO             INTEGER NOT NULL,
    COD_PRODUTO        INTEGER NOT NULL,
    COD_BARRAS         VARCHAR(13) NOT NULL,
    PRECO_VENDA_GRADE  NUMERIC(18,3),
    DESCRICAO          D_DESCRICAO,
    DEC_UNIDADE        VARCHAR(3),
    ESTOQUE            D_VALOR,
    COR                VARCHAR(15)
);

CREATE TABLE PRODUTOS_IMOVEL (
    ID                INTEGER NOT NULL,
    ID_PRODUTOS       INTEGER,
    VALOR_ALUGUEL     DECIMAL(12,2),
    VALOR_VENDA       DECIMAL(12,2),
    COD_IPTU          VARCHAR(100),
    COD_AGUA          VARCHAR(100),
    COD_ENERGIA       VARCHAR(100),
    AGUA_ATIVO        CHAR(3),
    ENERGIA_ATIVO     CHAR(3),
    DATA_ENERGIA      DATE,
    DATA_AGUA         DATE,
    PLACA             CHAR(3),
    PLACA_NUMERO      INTEGER,
    PLACA_REFERENCIA  VARCHAR(100),
    CARTORIO          VARCHAR(100),
    MATRICULA         VARCHAR(100),
    AREA_TERRENO      INTEGER,
    LADO_ESQUERDO     INTEGER,
    LADO_DIREIRO      INTEGER,
    CIDADE            VARCHAR(50),
    CEP               VARCHAR(9),
    UF                CHAR(2),
    COD_INGE          VARCHAR(40),
    ENDERECO          VARCHAR(100),
    NUMERO            INTEGER,
    BAIRRO            VARCHAR(100),
    SITUACAO          VARCHAR(30),
    TESTADA           CODIGO,
    PROFUNDIDADE      CODIGO,
    N_LOTE            VARCHAR(5),
    QUADRA            VARCHAR(5),
    N_SUITES          CODIGO,
    N_QUARTOS         CODIGO,
    N_SALAS           CODIGO,
    N_BANHEIROS       CODIGO,
    N_GARAGENS        CODIGO,
    PERC_IMPOSTO      D_PERC
);

CREATE TABLE PRODUTOS_INFO_ADIC (
    CODIGO                INTEGER NOT NULL,
    COD_PRODUTO           INTEGER NOT NULL,
    PORCAO                VARCHAR(20),
    VALOR_CALORICO        INTEGER,
    VALOR_CALORICO_VD     VARCHAR(6),
    CARBOIDRATOS          INTEGER,
    CARBOIDRATOS_VD       INTEGER,
    PROTEINAS             INTEGER,
    PROTEINAS_VD          INTEGER,
    GORDURASTOTAIS        NUMERIC(18,2),
    GORDURASTOTAIS_VD     INTEGER,
    GORDURASSATURADAS     NUMERIC(18,2),
    GORDURASSATURADAS_VD  INTEGER,
    COLESTEROL            INTEGER,
    COLESTEROL_VD         INTEGER,
    FIBRA                 INTEGER,
    FIBRA_VD              INTEGER,
    CALCIO                NUMERIC(18,2),
    CALCIO_VD             INTEGER,
    FERRO                 NUMERIC(18,2),
    FERRO_VD              INTEGER,
    SODIO                 INTEGER,
    SODIO_VD              INTEGER,
    UNIDADE_PORCAO        BOOLEAN,
    PARTE_INTEIRA         VARCHAR(2),
    PARTE_DECIMAL         BOOLEAN,
    MEDIDA_CASEIRA        VARCHAR(2)
);

CREATE TABLE PRODUTOS_PRECOS_LOG (
    ID_EMPRESA          D_CODIGO,
    ID_FILIAL           D_CODIGO,
    ID_PRODUTO          D_CODIGO,
    ID_OCORRENCIA       INTEGER NOT NULL,
    TIPO_ALTERACAO      SMALLINT DEFAULT 1 NOT NULL,
    DATA_HORA           D_DATA,
    ID_USUARIO          D_CODIGO,
    P_COMPRA_ANT        D_VALOR,
    P_CUSTO_ANT         D_VALOR,
    P_CUSTO_MEDIO_ANT   D_VALOR,
    P_VENDA_ANT         D_VALOR,
    P_COMPRA_NOVO       D_VALOR,
    P_CUSTO_NOVO        D_VALOR,
    P_CUSTO_MEDIO_NOVO  D_VALOR,
    P_VENDA_NOVO        D_VALOR
);

CREATE TABLE PRODUTOS_RENTABILIDADE_PERDA (
    CODIGO      INTEGER,
    CODPRODUTO  VARCHAR(6),
    PRODUTO     VARCHAR(70),
    UNIDADE     VARCHAR(2),
    EMBALAGEM   NUMERIC(18,2),
    PERDA       NUMERIC(18,2)
);

CREATE TABLE PRODUTOS_SERIAL (
    CODIGO         INTEGER NOT NULL,
    CODPRODUTO     INTEGER,
    SERIAL         VARCHAR(30),
    ESTOQUE        NUMERIC(18,2),
    CODCLIENTE     INTEGER,
    PRECOCUSTO     NUMERIC(18,2),
    PRECOVENDA     NUMERIC(18,2),
    DATAVENDA      DATE,
    SITUACAO       INTEGER,
    CLIENTE        VARCHAR(70),
    CODNOTA        VARCHAR(6),
    CODITEM        VARCHAR(6),
    DATACOMPRA     DATE,
    NUMERONOTA     VARCHAR(6),
    CODFORNECEDOR  INTEGER,
    CODVENDA_ITEM  INTEGER,
    FILTRO         INTEGER,
    CODVENDA       INTEGER
);

CREATE TABLE RETORNOBANCARIO (
    CODCLIENTE                      CODIGO,
    DATALIQUIDACAO                  D_DATA,
    NOMEDOSACADO                    D_NOME,
    NOSSONUMERO                     VARCHAR(10),
    VENCIMENTO                      D_DATA,
    TARIFADECOBRANCA                CODIGO,
    VALORDOTITULO                   CALCULADO,
    ABATIMENTO                      CALCULADO,
    DESCONTOS                       CALCULADO,
    VALORRECEBIDO                   CALCULADO,
    JUROS                           CALCULADO,
    CODLIQUIDACAO                   VARCHAR(10),
    DOCUMENTO                       VARCHAR(15),
    ANOVCTO                         INTEGER,
    MESVCTO                         CODIGO,
    ANOLIQUIDACAO                   CODIGO,
    MESLIQUIDACAO                   CODIGO,
    CODIGODEOCORRENCIA              CODIGO,
    DATADEOCORRENCIA                D_DATA,
    ARQUIVO                         VARCHAR(30),
    SEQUENCIA                       CODIGO,
    BANCOCOBRADOR                   VARCHAR(3),
    AGENCIACOBRADORA                VARCHAR(5),
    CEDENTE_CONTABAN_BANCOCODIGO    VARCHAR(10),
    CEDENTE_CONTABAN_NOMEDOBANCO    VARCHAR(15),
    CEDENTE_CONTABAN_CODIGOAGENCIA  VARCHAR(15),
    CEDENTE_CONTABAN_DIGITOAGENCIA  VARCHAR(10),
    CEDENTE_CONTABAN_NUMEROCONTA    VARCHAR(15),
    MULTA                           CALCULADO,
    HISTORICO                       VARCHAR(150)
);

CREATE TABLE SECCAO (
    CODIGO     D_CODIGO NOT NULL,
    DESCRICAO  D_DESCRICAO,
    USERCAD    D_USUARIO,
    DATACAD    D_DATA
);

CREATE TABLE SINTEGRA_GNRE (
    COD_SINTEGRA_GNRE     INTEGER NOT NULL,
    UF_SUBST              VARCHAR(2),
    UF_FAVORECIDA         VARCHAR(2),
    BANCO_GNRE            VARCHAR(5),
    AGENCIA_GNRE          VARCHAR(5),
    NRO_GNRE              VARCHAR(25),
    VALOR_GNRE            NUMERIC(18,3),
    DATA_VENCIMENTO       TIMESTAMP DEFAULT 'now',
    MES_ANO_REFERENCIA    VARCHAR(10),
    NRO_CONVENIO          VARCHAR(30),
    ULTATUAL              TIMESTAMP DEFAULT 'Now',
    ULTATUALCODSETOR      INTEGER,
    BRANCOS               VARCHAR(79),
    ULTATUALCODSETORUSER  INTEGER,
    DATAHORA_GNRE         TIMESTAMP DEFAULT 'NOW',
    ENABLED               INTEGER DEFAULT 1,
    DATAHORA              TIMESTAMP DEFAULT 'NOW',
    IE_SUBST              VARCHAR(30),
    CNPJ_SUBST            VARCHAR(30)
);

CREATE TABLE SINTEGRA_INFO (
    COD_SINTEGRA_INFO      INTEGER NOT NULL,
    INSC_EST               VARCHAR(30),
    NOME_CONTRIBUINTE      VARCHAR(50),
    MUNICIPIO              VARCHAR(50),
    UF                     VARCHAR(2),
    FAX                    VARCHAR(30),
    COD_CONVENIO           INTEGER,
    COD_OPERACAO           INTEGER,
    COD_FINALIDADE         INTEGER,
    LOGRADOURO             VARCHAR(50),
    NRO                    INTEGER,
    COMPLEMENTO            VARCHAR(50),
    BAIRRO                 VARCHAR(50),
    CEP                    VARCHAR(30),
    NOME_CONTATO           VARCHAR(30),
    TELEFONE               VARCHAR(30),
    DATAHORA               TIMESTAMP DEFAULT 'Now',
    ULTATUAL               TIMESTAMP DEFAULT 'Now',
    ULTATUALCODSETORUSER   INTEGER,
    ULTATUALCODSETOR       INTEGER,
    ENABLED                INTEGER DEFAULT 1,
    CONTRIBUINTE_IPI       BOOLEAN_INT,
    SUBSTITUTO_TRIBUTARIO  BOOLEAN_INT,
    ENABLED_SINTEGRA       BOOLEAN_INT,
    CGC                    VARCHAR(30)
);

CREATE TABLE SINTEGRA_LOOKUP (
    COD_SINTEGRA_LOOKUP  INTEGER NOT NULL,
    CODIGO               VARCHAR(30),
    TIPO                 VARCHAR(30),
    REGISTRO             VARCHAR(30),
    DESCRICAO            VARCHAR(50)
);

CREATE TABLE SINTEGRA_R60 (
    COD_SINTEGRA_R60         INTEGER NOT NULL,
    NRO_SERIE_EQP            VARCHAR(20),
    NRO_ORDEM_EQP            VARCHAR(3),
    MODELO_DOC               CHAR(2),
    BRANCOS_60M              VARCHAR(37),
    R60M                     VARCHAR(256),
    DATA_EMISSAO             TIMESTAMP,
    CANCELAMENTO             NUMERIC(18,2),
    DESCONTO                 NUMERIC(18,2),
    SUBSTITUICAO_TRIBUTARIA  NUMERIC(18,2),
    ISENTO                   NUMERIC(18,2),
    NAO_INCIDENCIA           NUMERIC(18,2),
    ISSQN                    NUMERIC(18,2),
    ALIQUOTA01               NUMERIC(4,2),
    VALOR_TPARCIAL01         NUMERIC(18,2),
    BRANCOS_60A01            VARCHAR(79),
    R60A01                   VARCHAR(256),
    ALIQUOTA02               NUMERIC(4,2),
    VALOR_TPARCIAL02         NUMERIC(18,2),
    BRANCOS_60A02            VARCHAR(79),
    R60A02                   VARCHAR(256),
    ALIQUOTA03               NUMERIC(4,2),
    VALOR_TPARCIAL03         NUMERIC(18,2),
    BRANCOS_60A03            VARCHAR(79),
    R60A03                   VARCHAR(256),
    ALIQUOTA04               NUMERIC(4,2),
    VALOR_TPARCIAL04         NUMERIC(18,2),
    BRANCOS_60A04            VARCHAR(79),
    R60A04                   VARCHAR(256),
    ALIQUOTA05               NUMERIC(4,2),
    VALOR_TPARCIAL05         NUMERIC(18,2),
    BRANCOS_60A05            VARCHAR(79),
    R60A05                   VARCHAR(256),
    DATAHORA                 TIMESTAMP DEFAULT 'NOW',
    ULTATUAL                 TIMESTAMP DEFAULT 'Now',
    ULTATUALCODSETORUSER     INTEGER,
    ULTATUALCODSETOR         INTEGER,
    NRO_CONTADOR_INICIO      INTEGER,
    NRO_CONTADOR_FIM         INTEGER,
    NRO_CONTADOR_Z           INTEGER,
    CONTADOR_REINICIO        INTEGER,
    VALOR_TOTAL_GERAL        NUMERIC(18,2),
    VALOR_VENDA_BRUTA        NUMERIC(18,2),
    BRANCOS                  VARCHAR(20)
);

CREATE TABLE SPED_ECF (
    COD_MOD  VARCHAR(2),
    ECF_CX   CODIGO NOT NULL,
    ECF_MOD  VARCHAR(30),
    ECF_FAB  VARCHAR(30) NOT NULL
);

CREATE TABLE SPED_INVENTARIO (
    ID_INV  CODIGO NOT NULL,
    DT_INV  D_DATA NOT NULL,
    DT_REG  D_DATA,
    VL_INV  D_VALOR NOT NULL
);

CREATE TABLE SPED_INVENTARIO_ITENS (
    SEQUENCIA      D_CODIGO NOT NULL,
    ID_INV         CODIGO NOT NULL,
    COD_ITEM       CODIGO NOT NULL,
    UND_ITEN       VARCHAR(5),
    QTD_ITEN       NUMERIC(18,3),
    VLR_UNIT       D_VALOR,
    VL_ITEM_TOTAL  D_VALOR,
    TXT_COMPLEN    D_NOME,
    COD_CONTA      VARCHAR(20),
    COD_BARRAS     VARCHAR(13),
    DATA           DATE,
    TIPO           VARCHAR(2),
    UND            VARCHAR(6)
);

CREATE TABLE SPED_PARTICIPANTES (
    COD_SPED        CODIGO NOT NULL,
    NOME            VARCHAR(70),
    IE              VARCHAR(20),
    CNPJ_CPF        VARCHAR(20),
    COD_MUNICIPIO   VARCHAR(7),
    LOGRADOURO      VARCHAR(60),
    NUMERO          CODIGO,
    COMPLEMENTO     VARCHAR(60),
    BAIRRO          VARCHAR(60),
    SUFRAMA         VARCHAR(11),
    PAIS            VARCHAR(11),
    COD_CLIENTE     CODIGO,
    COD_FORNECEDOR  CODIGO,
    COD_EMPRESA     CODIGO,
    TIPO            BOOLEAN,
    MES             VARCHAR(2),
    ANO             VARCHAR(4)
);

CREATE TABLE SPED_PRODUTOS (
    CODIGO          D_CODIGO NOT NULL,
    COD_BARRAS      VARCHAR(13) NOT NULL,
    DESCRICAO       D_NOME,
    UNIDADE         CODIGO,
    TIPO_ATIVIDADE  VARCHAR(2),
    COD_NCM         VARCHAR(8),
    MES             VARCHAR(2) NOT NULL,
    ANO             VARCHAR(4) NOT NULL
);

CREATE TABLE SPED_REDUCAO_Z (
    ECF_CX  CODIGO NOT NULL,
    DT_COD  D_DATA NOT NULL,
    CRO     CODIGO,
    CRZ     CODIGO,
    COO     CODIGO,
    GT_FIN  D_VALOR,
    VL_BRT  D_VALOR
);

CREATE TABLE SPED_TOTAL_Z (
    ECF_CX             CODIGO NOT NULL,
    TOTALIZADOR_Z      VARCHAR(7) NOT NULL,
    DATA               D_DATA NOT NULL,
    VALOR_TOTALIZADOR  D_VALOR NOT NULL,
    N_TOTALIZADOR      VARCHAR(2),
    DESCRICAO          D_DESCRICAO,
    T_SIT_TRIB         VARCHAR(6)
);

CREATE TABLE SUBGRUPOS (
    CODIGO   D_CODIGO,
    NOME     D_DESCRICAO NOT NULL,
    GRUPO    D_DESCRICAO,
    LINK     D_CODIGO,
    USERCAD  D_USUARIO,
    DATACAD  D_DATA default 'today'
);

CREATE TABLE TAB_CEST (
    CEST       VARCHAR(7) NOT NULL,
    NCM        VARCHAR(8),
    DESCRICAO  VARCHAR(512)
);

CREATE TABLE TABELA_CFOP (
    CFOP                  VARCHAR(5) NOT NULL,
    NATUREZA              VARCHAR(200),
    TIPO                  INTEGER,
    ICMS                  NUMERIC(18,2),
    ISS                   NUMERIC(18,2),
    OBS1                  VARCHAR(80),
    OBS2                  VARCHAR(80),
    OBS3                  VARCHAR(80),
    OBS4                  VARCHAR(80),
    FILTRO                INTEGER,
    VALOR1                NUMERIC(18,2),
    VALOR2                NUMERIC(18,2),
    VALOR3                NUMERIC(18,2),
    VALOR4                NUMERIC(18,2),
    VALOR5                NUMERIC(18,2),
    VALOR6                NUMERIC(18,2),
    VALOR7                NUMERIC(18,2),
    VALOR8                NUMERIC(18,2),
    VALOR9                NUMERIC(18,2),
    VALOR10               NUMERIC(18,2),
    ST                    VARCHAR(11),
    CLASSIFICACAO_FISCAL  VARCHAR(20),
    REDUCAO_ICMS          NUMERIC(18,2),
    MARGEM_AGREGADA       NUMERIC(18,2),
    SIMPLIFICADO          VARCHAR(50),
    CAIXA                 INTEGER,
    FATURAMENTO           INTEGER
);

CREATE TABLE TABELA_IPI (
    CST_IPI        VARCHAR(2),
    IPI_DESCRICAO  VARCHAR(200)
);

CREATE TABLE TABELA_NCM (
    CODIGO_NCM    VARCHAR(8) NOT NULL,
    DESCRICAO     VARCHAR(300),
    ALICOTA       VARCHAR(6),
    ANALITICO     BOOLEAN,
    TABELA        BOOLEAN,
    ALIC_NAC      CALCULADO,
    ALIC_IMP      CALCULADO,
    ALIC_REVENDA  CALCULADO
);

CREATE TABLE TABELA_PIS_COFINS (
    COD_PIS_COFINS  VARCHAR(2) NOT NULL,
    DESCRICAO       LONGO
);

CREATE TABLE TANQUE (
    COD_TANQUE            INTEGER NOT NULL,
    ID_TANQUE             INTEGER NOT NULL,
    LITROS                NUMERIC(15,3) NOT NULL,
    ULTATUAL              TIMESTAMP,
    ULTATUALCODSETOR      INTEGER,
    ULTATUALCODSETORUSER  INTEGER,
    DATAHORA              TIMESTAMP DEFAULT 'now',
    ENABLED               INTEGER DEFAULT 1,
    OBS                   VARCHAR(255),
    COD_PRODUTOS          INTEGER,
    LITROS_ATUAL          NUMERIC(15,3),
    VLR_SAI               NUMERIC(18,3),
    VLR_ENT               NUMERIC(18,3),
    EST_INI               NUMERIC(18,3),
    EST_ATU               NUMERIC(18,3),
    DAT_ULT_ENT           D_DATA,
    NUM_NF                INTEGER,
    DAT_ULT_SAI           D_DATA,
    ESTOQUE_MEDICAO       D_QUANT
);

CREATE TABLE TEMP (
    CODPRODUTO   D_IE,
    NOMEPRODUTO  D_DESCRICAO,
    QUANTIDADE   VARCHAR(10),
    VALOR        D_VALOR
);

CREATE TABLE TIPO_DOCUMENTO (
    COD_DOC   INTEGER,
    NOME_DOC  VARCHAR(50)
);

CREATE TABLE TRANSFERENCIA_LOCAL_ESTOQUE (
    CODIGO                INTEGER NOT NULL,
    DATA                  DATE NOT NULL,
    COD_USU               INTEGER NOT NULL,
    CODIGO_LOCAL_ORIGEM   INTEGER NOT NULL,
    CODIGO_LOCAL_DESTINO  INTEGER NOT NULL,
    COD_EMP               INTEGER NOT NULL
);

CREATE TABLE TRANSPORTADOR (
    CD_EMPRESA            INTEGER,
    CD_TRANSPORTADOR      INTEGER NOT NULL,
    NOME_TRANSP           VARCHAR(80),
    NOME_FANTASIA_TRANSP  VARCHAR(80),
    INSCRICAO             VARCHAR(18),
    CNPJ                  VARCHAR(18),
    CEP                   VARCHAR(10),
    ENDERECO              VARCHAR(80),
    BAIRRO                VARCHAR(30),
    CD_CIDADE             INTEGER,
    TELE_TRANSP           VARCHAR(20),
    FAX_TRANS             VARCHAR(20),
    PESSOA_CONTATO        VARCHAR(50),
    E_MAIL                VARCHAR(70),
    CEL_TRANSP            VARCHAR(20),
    DT_ATZ                DATE,
    FL_FISICO_JURIDICO    VARCHAR(1),
    CD_FORNECEDOR         INTEGER,
    NUMERO                INTEGER,
    COMPLEMENTO           VARCHAR(20),
    CIDADE                D_CIDADE,
    UF                    D_UF,
    IBGE                  CODIGO,
    PLACA                 D_CELULAR,
    UF_PLACA              D_UF,
    ANTT                  VARCHAR(10)
);

CREATE TABLE TRIBECF (
    CODECF                INTEGER NOT NULL,
    DATAHORA              TIMESTAMP DEFAULT 'NOW',
    VALORTRIB             NUMERIC(18,3) NOT NULL,
    NOME                  VARCHAR(10) NOT NULL,
    OBS                   VARCHAR(100),
    ULTATUAL              TIMESTAMP DEFAULT 'Now',
    ULTATUALCODSETORUSER  INTEGER,
    ULTATUALCODSETOR      INTEGER,
    ENABLED               INTEGER DEFAULT 1
);

CREATE TABLE ULT_LMC (
    CODIGO        INTEGER NOT NULL,
    LMC_CODIGO    INTEGER,
    DATA          DATE,
    COD_BICO      INTEGER,
    ID_BICO       VARCHAR(2),
    ABERTURA      INTEGER,
    ENCERRAMENTO  INTEGER,
    QUANTIDADE    NUMERIC(18,2),
    AFERICAO      NUMERIC(18,2),
    PRECO         NUMERIC(18,2),
    VALOR         NUMERIC(18,2),
    COD_PRODUTO   INTEGER,
    SITUACAO      CHAR(1),
    ATUALIZADO    INTEGER
);

CREATE TABLE UNIDADES (
    CODIGO        D_CODIGO,
    DESCRICAO     D_DESCRICAO,
    USERCAD       D_USUARIO,
    ABREVIATURA   VARCHAR(6),
    DATACADASTRO  D_DATA default 'today'
);

CREATE TABLE USUARIOS (
    CODIGO              D_CODIGO,
    USUARIO             D_USUARIO,
    SENHA               CHAR(15),
    DATACADASTRO        DATE DEFAULT 'TODAY',
    NOME                D_NOME,
    FUNCAO              D_DESCRICAO,
    EXCLUIR             VARCHAR(1) DEFAULT 'N',
    EDITAR              VARCHAR(1) DEFAULT 'N',
    INSERIR             VARCHAR(1) DEFAULT 'N',
    AUTORIZA            BOOLEAN,
    S01                 VARCHAR(1) DEFAULT 'N',
    S02                 VARCHAR(1) DEFAULT 'N',
    S03                 VARCHAR(1) DEFAULT 'N',
    S04                 VARCHAR(1) DEFAULT 'N',
    S05                 VARCHAR(1) DEFAULT 'N',
    S06                 VARCHAR(1) DEFAULT 'N',
    S07                 VARCHAR(1) DEFAULT 'N',
    S08                 VARCHAR(1) DEFAULT 'N',
    S09                 VARCHAR(1) DEFAULT 'N',
    S10                 VARCHAR(1) DEFAULT 'N',
    S11                 VARCHAR(1) DEFAULT 'N',
    S12                 VARCHAR(1) DEFAULT 'N',
    S13                 VARCHAR(1) DEFAULT 'N',
    S14                 VARCHAR(1) DEFAULT 'N',
    S15                 VARCHAR(1) DEFAULT 'N',
    S16                 VARCHAR(1) DEFAULT 'N',
    S17                 VARCHAR(1) DEFAULT 'N',
    S18                 VARCHAR(1) DEFAULT 'N',
    S19                 VARCHAR(1) DEFAULT 'N',
    S20                 VARCHAR(1) DEFAULT 'N',
    S21                 VARCHAR(1) DEFAULT 'N',
    S22                 VARCHAR(1) DEFAULT 'N',
    S23                 VARCHAR(1) DEFAULT 'N',
    S24                 VARCHAR(1) DEFAULT 'N',
    S25                 VARCHAR(1) DEFAULT 'N',
    S26                 VARCHAR(1) DEFAULT 'N',
    S27                 VARCHAR(1) DEFAULT 'N',
    S28                 VARCHAR(1) DEFAULT 'N',
    S29                 VARCHAR(1) DEFAULT 'N',
    S30                 VARCHAR(1) DEFAULT 'N',
    S31                 VARCHAR(1) DEFAULT 'N',
    S32                 VARCHAR(1) DEFAULT 'N',
    S33                 VARCHAR(1) DEFAULT 'N',
    S34                 VARCHAR(1) DEFAULT 'N',
    S35                 VARCHAR(1) DEFAULT 'N',
    S36                 VARCHAR(1) DEFAULT 'N',
    S37                 VARCHAR(1) DEFAULT 'N',
    S38                 VARCHAR(1) DEFAULT 'N',
    S39                 VARCHAR(1) DEFAULT 'N',
    S40                 VARCHAR(1) DEFAULT 'N',
    S41                 VARCHAR(1) DEFAULT 'N',
    S42                 VARCHAR(1) DEFAULT 'N',
    S43                 VARCHAR(1) DEFAULT 'N',
    S44                 VARCHAR(1) DEFAULT 'N',
    S45                 VARCHAR(1) DEFAULT 'N',
    S46                 VARCHAR(1) DEFAULT 'N',
    S47                 VARCHAR(1) DEFAULT 'N',
    S48                 VARCHAR(1) DEFAULT 'N',
    S49                 VARCHAR(1) DEFAULT 'N',
    S50                 VARCHAR(1) DEFAULT 'N',
    S51                 VARCHAR(1) DEFAULT 'N',
    S52                 VARCHAR(1) DEFAULT 'N',
    S53                 VARCHAR(1) DEFAULT 'N',
    S54                 VARCHAR(1) DEFAULT 'N',
    S55                 VARCHAR(1) DEFAULT 'N',
    S56                 VARCHAR(1) DEFAULT 'N',
    S57                 VARCHAR(1) DEFAULT 'N',
    S58                 VARCHAR(1) DEFAULT 'N',
    S59                 VARCHAR(1) DEFAULT 'N',
    S60                 VARCHAR(1) DEFAULT 'N',
    S61                 VARCHAR(1) DEFAULT 'N',
    S62                 VARCHAR(1) DEFAULT 'N',
    S63                 VARCHAR(1) DEFAULT 'N',
    S64                 VARCHAR(1) DEFAULT 'N',
    S65                 VARCHAR(1) DEFAULT 'N',
    S66                 VARCHAR(1) DEFAULT 'N',
    S67                 VARCHAR(1) DEFAULT 'N',
    S68                 VARCHAR(1) DEFAULT 'N',
    S69                 VARCHAR(1) DEFAULT 'N',
    S70                 VARCHAR(1) DEFAULT 'N',
    S71                 VARCHAR(1) DEFAULT 'N',
    S72                 VARCHAR(1) DEFAULT 'N',
    S73                 VARCHAR(1) DEFAULT 'N',
    S74                 VARCHAR(1) DEFAULT 'N',
    S75                 VARCHAR(1) DEFAULT 'N',
    S76                 VARCHAR(1) DEFAULT 'N',
    S77                 VARCHAR(1) DEFAULT 'N',
    S78                 VARCHAR(1) DEFAULT 'N',
    S79                 VARCHAR(1) DEFAULT 'N',
    S80                 VARCHAR(1) DEFAULT 'N',
    S81                 VARCHAR(1) DEFAULT 'N',
    S82                 VARCHAR(1) DEFAULT 'N',
    S83                 VARCHAR(1) DEFAULT 'N',
    S84                 VARCHAR(1) DEFAULT 'N',
    S85                 VARCHAR(1) DEFAULT 'N',
    S86                 VARCHAR(1) DEFAULT 'N',
    S87                 VARCHAR(1) DEFAULT 'N',
    S88                 VARCHAR(1) DEFAULT 'N',
    S89                 VARCHAR(1) DEFAULT 'N',
    S90                 VARCHAR(1) DEFAULT 'N',
    S91                 VARCHAR(1) DEFAULT 'N',
    S92                 VARCHAR(1) DEFAULT 'N',
    S93                 VARCHAR(1) DEFAULT 'N',
    S94                 VARCHAR(1) DEFAULT 'N',
    S95                 VARCHAR(1) DEFAULT 'N',
    S96                 VARCHAR(1) DEFAULT 'N',
    S97                 VARCHAR(1) DEFAULT 'N',
    S98                 VARCHAR(1) DEFAULT 'N',
    S99                 VARCHAR(1) DEFAULT 'N',
    S100                VARCHAR(1) DEFAULT 'N',
    S101                VARCHAR(1) DEFAULT 'N',
    S102                VARCHAR(1) DEFAULT 'N',
    S103                VARCHAR(1) DEFAULT 'N',
    S104                VARCHAR(1) DEFAULT 'N',
    S105                VARCHAR(1) DEFAULT 'N',
    S106                VARCHAR(1) DEFAULT 'N',
    S107                VARCHAR(1) DEFAULT 'N',
    S108                VARCHAR(1) DEFAULT 'N',
    S109                VARCHAR(1) DEFAULT 'N',
    S110                VARCHAR(1) DEFAULT 'N',
    S111                VARCHAR(1) DEFAULT 'N',
    S112                VARCHAR(1) DEFAULT 'N',
    S113                VARCHAR(1) DEFAULT 'N',
    S114                VARCHAR(1) DEFAULT 'N',
    S115                VARCHAR(1) DEFAULT 'N',
    S116                VARCHAR(1) DEFAULT 'N',
    S117                VARCHAR(1) DEFAULT 'N',
    S118                VARCHAR(1) DEFAULT 'N',
    S119                VARCHAR(1) DEFAULT 'N',
    S120                VARCHAR(1) DEFAULT 'N',
    S121                VARCHAR(1) DEFAULT 'N',
    S122                VARCHAR(1) DEFAULT 'N',
    COBRADOR            BOOLEAN,
    VENDEDOR            BOOLEAN,
    "USER"              BOOLEAN,
    V_TOTAL_VENDAS      BOOLEAN DEFAULT 'S',
    S123                VARCHAR(1) DEFAULT 'N',
    S124                VARCHAR(1) DEFAULT 'N',
    S125                VARCHAR(1) DEFAULT 'N',
    S126                VARCHAR(1) DEFAULT 'N',
    S127                VARCHAR(1) DEFAULT 'N',
    S128                VARCHAR(1) DEFAULT 'N',
    S129                VARCHAR(1) DEFAULT 'N',
    S130                VARCHAR(1) DEFAULT 'N',
    S131                VARCHAR(1) DEFAULT 'N',
    S132                VARCHAR(1) DEFAULT 'N',
    S133                VARCHAR(1) DEFAULT 'N',
    S134                VARCHAR(1) DEFAULT 'N',
    S135                VARCHAR(1) DEFAULT 'N',
    S136                VARCHAR(1) DEFAULT 'N',
    S137                VARCHAR(1) DEFAULT 'N',
    S138                VARCHAR(1) DEFAULT 'N',
    S139                VARCHAR(1) DEFAULT 'N',
    S140                VARCHAR(1) DEFAULT 'N',
    MOSTRA_CUSTOS       BOOLEAN,
    CPF_VENDEDOR        VARCHAR(11),
    S141                BOOLEAN DEFAULT 'N',
    S142                BOOLEAN DEFAULT 'N',
    S143                BOOLEAN DEFAULT 'N',
    DATA                D_DATA,
    SALDO               D_VALOR,
    SITUACAO            BOOLEAN,
    MOSTRA_PENDENTES    BOOLEAN DEFAULT 'N',
    UTILIZA_NFCE        BOOLEAN,
    "IMP_DARUMA_NFC-E"  VARCHAR(1),
    UTILIZA_NFSE        BOOLEAN,
    UTILIZA_NFE         BOOLEAN,
    BLOQUEIA_VENDA      VARCHAR(1) DEFAULT 'N',
    OCULTA_GRID         BOOLEAN DEFAULT 'N',
    EXPORTA_VENDA       BOOLEAN
);

CREATE TABLE VALE_TROCO_PAGTO (
    COD_VALE        D_CODIGO NOT NULL,
    DATA            D_DATA NOT NULL,
    SALDO_ANTERIOR  D_VALOR,
    VALOR_PAGO      D_VALOR,
    SALDO_ATUAL     D_VALOR
);

CREATE TABLE VALETROCO (
    COD_EMPRESA      INTEGER NOT NULL,
    CODIGO           INTEGER NOT NULL,
    CUPOM            VARCHAR(48),
    DATA             DATE,
    HORA             TIME,
    COD_CLIENTE      INTEGER,
    DEBITOCREDITO    CHAR(1),
    TOTAL_VENDA      NUMERIC(18,2),
    TOTAL_PAGO       NUMERIC(18,2),
    VALOR_UTILIZADO  NUMERIC(18,2),
    VALOR_VALETROCO  NUMERIC(18,2),
    VALIDO           CHAR(1) DEFAULT 'S',
    SALDO_ATUAL      D_VALOR,
    NOME_CLIENTE     D_NOME,
    USERCAD          D_USUARIO,
    DATACAD          D_DATA,
    COD_VENDA        CODIGO,
    TIPO             BOOLEAN,
    SITUACAO         INTEGER DEFAULT 1,
    DATA_PAGTO       D_DATA,
    HISTORICO        D_DESCRICAO,
    COD_VEICULO      CODIGO
);

CREATE TABLE VEICULO (
    CODIGO       INTEGER NOT NULL,
    NOME         VARCHAR(20),
    ANO          VARCHAR(10),
    COMBUSTIVEL  VARCHAR(15),
    PLACA        VARCHAR(10),
    UFPLACA      VARCHAR(2),
    COR          VARCHAR(20),
    OBS1         VARCHAR(80),
    OBS2         VARCHAR(80),
    OBS3         VARCHAR(80),
    CIDADE       VARCHAR(50),
    COD_CLIENTE  CODIGO,
    CHASSI       VARCHAR(50),
    RENAVAM      D_BAIRRO,
    ISENTO_IPVA  BOOLEAN
);

CREATE TABLE VEICULO_ABAST (
    SEQ      D_CODIGO NOT NULL,
    COD_PRO  CODIGO,
    COD_FOR  CODIGO,
    COD_VEI  CODIGO NOT NULL,
    DATA     D_DATA,
    QUANT    D_QUANT,
    V_TOTAL  D_VALOR,
    KM_VEIC  CODIGO,
    OBS      VARCHAR(200),
    V_UNIT   COMPUTED BY ((V_TOTAL / QUANT)),
    KM_L     D_VALOR,
    KM_ROD   CODIGO
);

CREATE TABLE VERSAO (
    N_VERSAO  VARCHAR(10)
);

CREATE TABLE VERSAO_SIACE (
    NUMERO  VARCHAR(100),
    STATUS  CHAR(1) DEFAULT 'N'
);

CREATE TABLE ZONA_VENDA (
    COD_ZONA     D_CODIGO NOT NULL,
    DESCRICAO    D_CIDADE NOT NULL,
    USERCAD      D_USUARIO,
    DATACAD      D_DATA,
    COD_EMPRESA  BOOLEAN
);



/******************************************************************************/
/***                                 Views                                  ***/
/******************************************************************************/


/* View: FUNCIONARIO */
CREATE VIEW FUNCIONARIO(
    NOME_RS,
    CIDADE,
    UF,
    COD_ZONA,
    CODIGO,
    ENDERECO,
    CEP,
    TELEFONE,
    TELEFONE2,
    EMAIL,
    NASCIMENTO_IA,
    SEXO,
    FOTO_LOGOMARCA,
    BAIRRO,
    RG_IE,
    FAX,
    CELULAR,
    USERCAD,
    DATACAD,
    CPF_CNPJ,
    OBSERVACOES,
    CREDIARIO,
    ESTADOCIVIL,
    RESIDENCIA_SEDE,
    PAI,
    MAE,
    NOME_CONJUGE,
    CPF_CONJUGE,
    NASCIMENTO_CONJUGE,
    TRABALHO_CONJUGE,
    PROFISSAO_CONJUGE,
    LOCALTRABALHO,
    PROFISSAO_RA,
    TELEFONE_TRABALHO,
    FAX_TRABALHO,
    OBSERVACOES_TRABALHO,
    BANCO,
    NOME_AGENCIA,
    NUMERO_AGENCIA,
    CONTA_CORRENTE,
    NOME1_REFERENCIA,
    NOME2_REFERENCIA,
    TELEFONE1_REFERENCIA,
    TELEFONE2_REFERENCIA,
    BANCO_REFERENCIA,
    APELIDO,
    TIPO,
    OBSERVACOES_COMERCIAIS,
    OBSERVACOES_BANCO,
    PG_CREDIARIO,
    PG_CHEQUE,
    PG_FINANCEIRA,
    REMUNERACAO,
    NUMERO,
    COMPLEMENTO,
    COD_EMPRESA,
    ORGAO_EMISSOR,
    DATA_EMISSAO_RG,
    NATURALIDADE,
    NATURALIDADE_UF,
    COD_CIDADE,
    COD_BAIRRO,
    DATA_ALTERACAO,
    PONTO_REFERENCIA,
    ATIVO,
    CONTATO1,
    CONTATO2,
    CX_POSTAL,
    VALOR_ALUGUEL,
    TEMPO_RESIDENCIA,
    NUMERO_DEPENDENTES,
    ENDERECO_REFERENCIA1,
    ENDERECO_REFERENCIA2,
    DATA_ADMISSAO_REFERENCIA1,
    DATA_ADMISSAO_REFERENCIA2,
    RG_CONJUGUE,
    RENDA_CONJUGUE,
    DATA_ADMINSSAO_CONJUGUE,
    FONE_CONJUGUE,
    ENDERECO_COBRANCA,
    CEP_COBRANCA,
    COD_CIDADE_COBRANCA,
    CX_POSTAL_COBRANCA,
    LIMITE_DE_CREDITO,
    INSC_MUNICIPAL,
    PRODUTOR_RURAL,
    INSC_PRODUTOR_RURAL,
    COD_BAIRRO_COBRANCA,
    CIDADE_COBRANCA,
    BAIRRO_COBRANCA,
    UF_COBRANCA,
    CONTA_BANCARIA,
    FUNCIONARIO,
    CTPS)
AS
SELECT
  CLIENTES.NOME_RS,
  CLIENTES.CIDADE,
  CLIENTES.UF,
  CLIENTES.COD_ZONA,
  CLIENTES.CODIGO,
  CLIENTES.ENDERECO,
  CLIENTES.CEP,
  CLIENTES.TELEFONE,
  CLIENTES.TELEFONE2,
  CLIENTES.EMAIL,
  CLIENTES.NASCIMENTO_IA,
  CLIENTES.SEXO,
  CLIENTES.FOTO_LOGOMARCA,
  CLIENTES.BAIRRO,
  CLIENTES.RG_IE,
  CLIENTES.FAX,
  CLIENTES.CELULAR,
  CLIENTES.USERCAD,
  CLIENTES.DATACAD,
  CLIENTES.CPF_CNPJ,
  CLIENTES.OBSERVACOES,
  CLIENTES.CREDIARIO,
  CLIENTES.ESTADOCIVIL,
  CLIENTES.RESIDENCIA_SEDE,
  CLIENTES.PAI,
  CLIENTES.MAE,
  CLIENTES.NOME_CONJUGE,
  CLIENTES.CPF_CONJUGE,
  CLIENTES.NASCIMENTO_CONJUGE,
  CLIENTES.TRABALHO_CONJUGE,
  CLIENTES.PROFISSAO_CONJUGE,
  CLIENTES.LOCALTRABALHO,
  CLIENTES.PROFISSAO_RA,
  CLIENTES.TELEFONE_TRABALHO,
  CLIENTES.FAX_TRABALHO,
  CLIENTES.OBSERVACOES_TRABALHO,
  CLIENTES.BANCO,
  CLIENTES.NOME_AGENCIA,
  CLIENTES.NUMERO_AGENCIA,
  CLIENTES.CONTA_CORRENTE,
  CLIENTES.NOME1_REFERENCIA,
  CLIENTES.NOME2_REFERENCIA,
  CLIENTES.TELEFONE1_REFERENCIA,
  CLIENTES.TELEFONE2_REFERENCIA,
  CLIENTES.BANCO_REFERENCIA,
  CLIENTES.APELIDO,
  CLIENTES.TIPO,
  CLIENTES.OBSERVACOES_COMERCIAIS,
  CLIENTES.OBSERVACOES_BANCO,
  CLIENTES.PG_CREDIARIO,
  CLIENTES.PG_CHEQUE,
  CLIENTES.PG_FINANCEIRA,
  CLIENTES.REMUNERACAO,
  CLIENTES.NUMERO,
  CLIENTES.COMPLEMENTO,
  CLIENTES.COD_EMPRESA,
  CLIENTES.ORGAO_EMISSOR,
  CLIENTES.DATA_EMISSAO_RG,
  CLIENTES.NATURALIDADE,
  CLIENTES.NATURALIDADE_UF,
  CLIENTES.COD_CIDADE,
  CLIENTES.COD_BAIRRO,
  CLIENTES.DATA_ALTERACAO,
  CLIENTES.PONTO_REFERENCIA,
  CLIENTES.ATIVO,
  CLIENTES.CONTATO1,
  CLIENTES.CONTATO2,
  CLIENTES.CX_POSTAL,
  CLIENTES.VALOR_ALUGUEL,
  CLIENTES.TEMPO_RESIDENCIA,
  CLIENTES.NUMERO_DEPENDENTES,
  CLIENTES.ENDERECO_REFERENCIA1,
  CLIENTES.ENDERECO_REFERENCIA2,
  CLIENTES.DATA_ADMISSAO_REFERENCIA1,
  CLIENTES.DATA_ADMISSAO_REFERENCIA2,
  CLIENTES.RG_CONJUGUE,
  CLIENTES.RENDA_CONJUGUE,
  CLIENTES.DATA_ADMINSSAO_CONJUGUE,
  CLIENTES.FONE_CONJUGUE,
  CLIENTES.ENDERECO_COBRANCA,
  CLIENTES.CEP_COBRANCA,
  CLIENTES.COD_CIDADE_COBRANCA,
  CLIENTES.CX_POSTAL_COBRANCA,
  CLIENTES.LIMITE_DE_CREDITO,
  CLIENTES.INSC_MUNICIPAL,
  CLIENTES.PRODUTOR_RURAL,
  CLIENTES.INSC_PRODUTOR_RURAL,
  CLIENTES.COD_BAIRRO_COBRANCA,
  CLIENTES.CIDADE_COBRANCA,
  CLIENTES.BAIRRO_COBRANCA,
  CLIENTES.UF_COBRANCA,
  CLIENTES.CONTA_BANCARIA,
  CLIENTES.FUNCIONARIO,
  CLIENTES.CTPS
FROM
 CLIENTES
WHERE
  (funcionario = 'F')
;



/* View: G_PRODUTOS */
CREATE VIEW G_PRODUTOS(
    TOTAL,
    QUANT_TOTAL,
    DATA_PEDIDO,
    DESCRICAO)
AS
SELECT Sum(PEDIDOS_ITENS.PRECO_TOTAL) AS TOTAL,
Sum(PEDIDOS_ITENS.QUANTIDADE) AS QUANT_TOTAL,
PEDIDOS.DATA_PEDIDO,
PEDIDOS_ITENS.DESCRICAO_PRODUTO
FROM PEDIDOS INNER JOIN PEDIDOS_ITENS ON PEDIDOS.CODIGO = PEDIDOS_ITENS.CODIGO_ID
GROUP BY PEDIDOS.DATA_PEDIDO, PEDIDOS_ITENS.DESCRICAO_PRODUTO
ORDER BY TOTAL DESC
;



/* View: G_VENDAS_DATA */
CREATE VIEW G_VENDAS_DATA(
    DATA_PEDIDO,
    SOMADEVALOR_TOTAL)
AS
SELECT PEDIDOS.DATA_PEDIDO, Sum(PEDIDOS.VALOR_TOTAL) AS SomaDeVALOR_TOTAL
FROM PEDIDOS
GROUP BY PEDIDOS.DATA_PEDIDO
;



/* View: G_VENDAS_MES */
CREATE VIEW G_VENDAS_MES(
    MES,
    MES1,
    ANO,
    TOTAL,
    MES_ANO)
AS
SELECT distinct
EXTRACT(MONTH FROM PEDIDOS.DATA_PEDIDO) AS MES,
CAST(LPAD(EXTRACT(MONTH FROM PEDIDOS.DATA_PEDIDO),2,'0') AS VARCHAR(2)) MES1,
EXTRACT(year FROM PEDIDOS.DATA_PEDIDO) AS ANO,
Sum(PEDIDOS.VALOR_TOTAL) AS TOTAL,
/*EXTRACT(MONTH FROM PEDIDOS.DATA_PEDIDO) || '/' || extract(year FROM PEDIDOS.DATA_PEDIDO) AS MES_ANO*/
cast(LPAD(extract(MONTH FROM PEDIDOS.DATA_PEDIDO),2,'0') || '/' || extract(year FROM PEDIDOS.DATA_PEDIDO) as varchar (7)) mes_ano
FROM PEDIDOS
GROUP BY MES, ANO
ORDER BY ANO, MES ASC
;



/* View: G_VENDAS_MES_NFE */
CREATE VIEW G_VENDAS_MES_NFE(
    MES,
    MES1,
    ANO,
    V_TOTAL,
    MES_ANO)
AS
SELECT
EXTRACT(MONTH FROM nfe_nota.dt_emissao) AS MES,
CAST(LPAD(EXTRACT(MONTH FROM nfe_nota.dt_emissao),2,'0') AS VARCHAR(2)) MES1,
EXTRACT(year FROM nfe_nota.dt_emissao) AS ANO,
Sum(NFE_NOTA.VL_TOTAL ) AS V_TOTAL,
cast(LPAD(extract(MONTH FROM nfe_nota.dt_emissao),2,'0') || '/' || extract(year FROM nfe_nota.dt_emissao) as varchar (7)) mes_ano
FROM NFE_NOTA
WHERE
 cd_cfop='5913' and status='S' and  status_cancelado is null
GROUP BY MES, ANO
ORDER BY ANO, MES ASC
;



/* View: G_VENDAS_MES_SOMA */
CREATE VIEW G_VENDAS_MES_SOMA(
    MES,
    MES1,
    ANO,
    TOTAL,
    MES_ANO)
AS
SELECT
  G_VENDAS_MES.MES,
  G_VENDAS_MES.MES1,
  G_VENDAS_MES.ANO,
  SUM(G_VENDAS_MES.TOTAL - COALESCE((G_VENDAS_MES_NFE.V_TOTAL), 0)) AS TOTAL,
  G_VENDAS_MES.MES_ANO
FROM
 G_VENDAS_MES
 LEFT OUTER JOIN G_VENDAS_MES_NFE ON (G_VENDAS_MES.MES_ANO=G_VENDAS_MES_NFE.MES_ANO)
GROUP BY
  G_VENDAS_MES.MES,
  G_VENDAS_MES.MES1,
  G_VENDAS_MES.ANO,
  G_VENDAS_MES.MES_ANO
;



/* View: REL_PIS_COFINS */
CREATE VIEW REL_PIS_COFINS(
    DATA_PEDIDO,
    LISTA_ABC,
    PRECO_UNITARIO,
    DESCONTO1,
    QUANTIDADE,
    PRECO_TOTAL,
    PRECO_CUSTO,
    COD_EMPRESA)
AS
SELECT DISTINCT
  PEDIDOS.DATA_PEDIDO,
  PRODUTOS.LISTA_ABC,
  SUM(PEDIDOS_ITENS.PRECO_UNITARIO) AS V_UNITARIO,
  SUM(PEDIDOS_ITENS.DESCONTO) AS V_DESCONTO,
  SUM(PEDIDOS_ITENS.QUANTIDADE) AS QUANT,
  SUM(PEDIDOS_ITENS.PRECO_TOTAL) AS V_TOTAL,
  SUM(PRODUTOS.PRECO_CUSTO / produtos.fracao) AS V_CUSTO,
  PEDIDOS.COD_EMPRESA
FROM
 PEDIDOS
 INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
 INNER JOIN PRODUTOS ON (PRODUTOS.CODIGO=PEDIDOS_ITENS.CODIGO_PROD)
WHERE
  LISTA_ABC > '' and ((PEDIDOS.N_CUPOM > '') OR
  (PEDIDOS.NUM_NOTA > 0))
GROUP BY
  PEDIDOS.DATA_PEDIDO,
  PRODUTOS.LISTA_ABC,
  PEDIDOS.COD_EMPRESA
;



/* View: REL_VENDAS */
CREATE VIEW REL_VENDAS(
    CODIGO,
    VALOR_TOTAL,
    VALOR_ITENS,
    VALOR_COMISSAO,
    DATA_PEDIDO,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    VALOR_DESCONTO,
    SITUACAO,
    CODIGO_ID,
    CODIGO_PRODUTO,
    DESCRICAO_PRODUTO,
    PRECO_UNITARIO,
    DESCONTO,
    QUANTIDADE,
    PRECO_TOTAL,
    COMISSAO,
    DEV,
    QNT_DEV,
    VAL_DEV,
    ENC_FINANCEIRO,
    PAGAMENTO)
AS
SELECT 
  PEDIDOS.CODIGO,
  PEDIDOS.VALOR_TOTAL,
  PEDIDOS.VALOR_ITENS,
  PEDIDOS.VALOR_COMISSAO,
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS.CODIGO_CLIENTE,
  PEDIDOS.NOME_CLIENTE,
  PEDIDOS.VALOR_DESCONTO,
  PEDIDOS.SITUACAO,
  PEDIDOS_ITENS.CODIGO_ID,
  PEDIDOS_ITENS.CODIGO_PRODUTO,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.PRECO_UNITARIO,
  PEDIDOS_ITENS.DESCONTO,
  PEDIDOS_ITENS.QUANTIDADE,
  PEDIDOS_ITENS.PRECO_TOTAL,
  PEDIDOS_ITENS.COMISSAO,
  PEDIDOS_ITENS.DEV,
  PEDIDOS_ITENS.QNT_DEV,
  PEDIDOS_ITENS.VAL_DEV,
  PEDIDOS_ITENS.ENC_FINANCEIRO,
  PEDIDOS.PAGAMENTO
FROM
 PEDIDOS
 INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
;



/* View: V_PEDIDOS_MES */
CREATE VIEW V_PEDIDOS_MES(
    CODIGO,
    MES,
    ANO,
    DIA)
AS
SELECT distinct
codigo,
CAST(LPAD(EXTRACT(MONTH FROM PEDIDOS.DATA_PEDIDO), 2, '0') AS VARCHAR(2)) AS MES,
CAST(LPAD(EXTRACT(year FROM PEDIDOS.DATA_PEDIDO), 4, '0') AS VARCHAR(4)) AS ANO,
CAST(LPAD(EXTRACT(DAY FROM PEDIDOS.DATA_PEDIDO), 2, '0') AS VARCHAR(2)) AS DIA
FROM
pedidos
;



/* View: REL_VENDAS_PROD */
CREATE VIEW REL_VENDAS_PROD(
    CODIGO_PROD,
    CODIGO_PRODUTO,
    DESCRICAO_PRODUTO,
    UNIDADE,
    DESCONTO,
    QUANTIDADE,
    PRECO_TOTAL,
    MES,
    ANO)
AS
SELECT DISTINCT
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.CODIGO_PRODUTO,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.UNIDADE,
  sum(PEDIDOS_ITENS.DESCONTO) AS DESCONTO,
  sum(PEDIDOS_ITENS.QUANTIDADE) AS QUANTIDADE,
  sum(PEDIDOS_ITENS.PRECO_TOTAL) AS PRECO_TOTAL,
  V_PEDIDOS_MES.MES,
  V_PEDIDOS_MES.ANO
FROM
 PEDIDOS_ITENS
 INNER JOIN V_PEDIDOS_MES ON (PEDIDOS_ITENS.CODIGO_ID=V_PEDIDOS_MES.CODIGO)
GROUP BY
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.CODIGO_PRODUTO,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.UNIDADE,
  V_PEDIDOS_MES.MES,
  V_PEDIDOS_MES.ANO
;



/* View: REL_VENDAS_PROD_DIA */
CREATE VIEW REL_VENDAS_PROD_DIA(
    CODIGO_PROD,
    CODIGO_PRODUTO,
    DESCRICAO_PRODUTO,
    UNIDADE,
    DESCONTO,
    QUANTIDADE,
    PRECO_TOTAL,
    MES,
    ANO,
    DIA)
AS
SELECT DISTINCT
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.CODIGO_PRODUTO,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.UNIDADE,
  sum(PEDIDOS_ITENS.DESCONTO) AS DESCONTO,
  sum(PEDIDOS_ITENS.QUANTIDADE) AS QUANTIDADE,
  sum(PEDIDOS_ITENS.PRECO_TOTAL) AS PRECO_TOTAL,
  V_PEDIDOS_MES.MES,
  V_PEDIDOS_MES.ANO,
  V_PEDIDOS_MES.DIA
FROM
 PEDIDOS_ITENS
 INNER JOIN V_PEDIDOS_MES ON (PEDIDOS_ITENS.CODIGO_ID=V_PEDIDOS_MES.CODIGO)
GROUP BY
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.CODIGO_PRODUTO,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.UNIDADE,
  V_PEDIDOS_MES.MES,
  V_PEDIDOS_MES.ANO,
  V_PEDIDOS_MES.DIA
;



/* View: RELATORIO_VENDAS */
CREATE VIEW RELATORIO_VENDAS(
    CODIGO,
    VALOR_ITENS,
    ENC_FINANCEIRO,
    VALOR_DESCONTO,
    VALOR_TOTAL,
    VALOR_COMISSAO,
    USUARIO,
    DATA_PEDIDO,
    DATA_ENTREGA,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    PAGAMENTO,
    STATUS,
    SITUACAO,
    USUARIO_ENTREGA,
    TP,
    OBSERVACOES,
    COD_VENDEDOR,
    COD_PAGTO,
    N_CUPOM,
    N_ECF,
    COD_EMPRESA,
    HORA,
    VALOR_ACRESCIMOS,
    COD_ORCAMENTO,
    COD_PEDIDO,
    COD_OS,
    NUM_NOTA,
    SERIE_NOTA,
    ENDERECO,
    CPF_CNPJ,
    RG_IE,
    FONE,
    CIDADE,
    BAIRRO,
    N_PARTIDA,
    PROPRIEDADE,
    QUANT_VENDIDA,
    SALDO_VENDIDO,
    MED_VETERINARIO,
    DATA_VACINA,
    VALOR_AVISTA,
    VALOR_PRAZO,
    UF,
    COD_IBGE,
    CEP,
    NUMERO,
    TIPO,
    VALOR_PAGO,
    VALOR_TROCO,
    ENTREGADOR,
    TIPO_PEDIDO,
    FECHADO,
    MESA,
    REFERENCIA,
    CODIGO_ID,
    ITEN,
    CODIGO_PROD,
    CODIGO_PRODUTO,
    DESCRICAO_PRODUTO,
    PRECO_UNITARIO,
    DESCONTO,
    QUANTIDADE,
    PRECO_TOTAL,
    COMISSAO,
    DEV,
    QNT_DEV,
    VAL_DEV,
    ENC_FINANCEIRO1,
    UNIDADE,
    SIT_TRIBUTARIA,
    VENDEDOR,
    FRACAO,
    COD_NCM,
    PROD_SERV,
    PERC_ISS,
    BASE_ISS,
    VL_ISS,
    PERC_ICM,
    BASE_ICMS,
    VL_ICM,
    PERC_IPI,
    BASE_IPI,
    VL_IPI,
    PERC_COFINS,
    BASE_COFINS,
    VL_COFINS,
    PERC_ICMS_SUBST,
    BASE_ICMS_SUBST,
    VL_ICMS_SUBST,
    PERC_PIS,
    BASE_PIS,
    VL_PIS,
    PRECO_CUSTO,
    CODIGO_GRUPO,
    CODIGO_SUBGRUPO,
    CODIGO_MARCA,
    NOME_GRUPO,
    NOME_SUBGRUPO,
    NOME_MARCA,
    NOME_FORNECEDOR,
    CODIGO_FORNECEDORES,
    ESTOQUE_ATUAL,
    ESTOQUE,
    VALOR_ESTOQUE_ATUAL,
    VALOR_ESTOQUE,
    CHAVE_FP,
    CHAVE_FP_CANCEL)
AS
SELECT 
  PEDIDOS.CODIGO,
  PEDIDOS.VALOR_ITENS,
  PEDIDOS.ENC_FINANCEIRO,
  PEDIDOS.VALOR_DESCONTO,
  PEDIDOS.VALOR_TOTAL,
  PEDIDOS.VALOR_COMISSAO,
  PEDIDOS.USUARIO,
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS.DATA_ENTREGA,
  PEDIDOS.CODIGO_CLIENTE,
  PEDIDOS.NOME_CLIENTE,
  PEDIDOS.PAGAMENTO,
  PEDIDOS.STATUS,
  PEDIDOS.SITUACAO,
  PEDIDOS.USUARIO_ENTREGA,
  PEDIDOS.TP,
  PEDIDOS.OBSERVACOES,
  PEDIDOS.COD_VENDEDOR,
  PEDIDOS.COD_PAGTO,
  PEDIDOS.N_CUPOM,
  PEDIDOS.N_ECF,
  PEDIDOS.COD_EMPRESA,
  PEDIDOS.HORA,
  PEDIDOS.VALOR_ACRESCIMOS,
  PEDIDOS.COD_ORCAMENTO,
  PEDIDOS.COD_PEDIDO,
  PEDIDOS.COD_OS,
  PEDIDOS.NUM_NOTA,
  PEDIDOS.SERIE_NOTA,
  PEDIDOS.ENDERECO,
  PEDIDOS.CPF_CNPJ,
  PEDIDOS.RG_IE,
  PEDIDOS.FONE,
  PEDIDOS.CIDADE,
  PEDIDOS.BAIRRO,
  PEDIDOS.N_PARTIDA,
  PEDIDOS.PROPRIEDADE,
  PEDIDOS.QUANT_VENDIDA,
  PEDIDOS.SALDO_VENDIDO,
  PEDIDOS.MED_VETERINARIO,
  PEDIDOS.DATA_VACINA,
  PEDIDOS.VALOR_AVISTA,
  PEDIDOS.VALOR_PRAZO,
  PEDIDOS.UF,
  PEDIDOS.COD_IBGE,
  PEDIDOS.CEP,
  PEDIDOS.NUMERO,
  PEDIDOS.TIPO,
  PEDIDOS.VALOR_PAGO,
  PEDIDOS.VALOR_TROCO,
  PEDIDOS.ENTREGADOR,
  PEDIDOS.TIPO_PEDIDO,
  PEDIDOS.FECHADO,
  PEDIDOS.MESA,
  PEDIDOS.REFERENCIA,
  PEDIDOS_ITENS.CODIGO_ID,
  PEDIDOS_ITENS.ITEN,
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.CODIGO_PRODUTO,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.PRECO_UNITARIO,
  PEDIDOS_ITENS.DESCONTO,
  PEDIDOS_ITENS.QUANTIDADE,
  PEDIDOS_ITENS.PRECO_TOTAL,
  PEDIDOS_ITENS.COMISSAO,
  PEDIDOS_ITENS.DEV,
  PEDIDOS_ITENS.QNT_DEV,
  PEDIDOS_ITENS.VAL_DEV,
  PEDIDOS_ITENS.ENC_FINANCEIRO,
  PEDIDOS_ITENS.UNIDADE,
  PEDIDOS_ITENS.SIT_TRIBUTARIA,
  PEDIDOS_ITENS.VENDEDOR,
  PEDIDOS_ITENS.FRACAO,
  PEDIDOS_ITENS.COD_NCM,
  PEDIDOS_ITENS.PROD_SERV,
  PEDIDOS_ITENS.PERC_ISS,
  PEDIDOS_ITENS.BASE_ISS,
  PEDIDOS_ITENS.VL_ISS,
  PEDIDOS_ITENS.PERC_ICM,
  PEDIDOS_ITENS.BASE_ICMS,
  PEDIDOS_ITENS.VL_ICM,
  PEDIDOS_ITENS.PERC_IPI,
  PEDIDOS_ITENS.BASE_IPI,
  PEDIDOS_ITENS.VL_IPI,
  PEDIDOS_ITENS.PERC_COFINS,
  PEDIDOS_ITENS.BASE_COFINS,
  PEDIDOS_ITENS.VL_COFINS,
  PEDIDOS_ITENS.PERC_ICMS_SUBST,
  PEDIDOS_ITENS.BASE_ICMS_SUBST,
  PEDIDOS_ITENS.VL_ICMS_SUBST,
  PEDIDOS_ITENS.PERC_PIS,
  PEDIDOS_ITENS.BASE_PIS,
  PEDIDOS_ITENS.VL_PIS,
  PRODUTOS.PRECO_CUSTO,
  PRODUTOS.CODIGO_GRUPO,
  PRODUTOS.CODIGO_SUBGRUPO,
  PRODUTOS.CODIGO_MARCA,
  PRODUTOS.NOME_GRUPO,
  PRODUTOS.NOME_SUBGRUPO,
  PRODUTOS.NOME_MARCA,
  PRODUTOS.NOME_FORNECEDOR,
  PRODUTOS.CODIGO_FORNECEDORES,
  PRODUTOS.ESTOQUE_ATUAL,
  PRODUTOS.ESTOQUE,
  PRODUTOS.VALOR_ESTOQUE_ATUAL,
  PRODUTOS.VALOR_ESTOQUE,
  pedidos.chave_fp,
  pedidos.chave_fp_cancel
FROM
 PEDIDOS
 INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
 INNER JOIN PRODUTOS ON (PEDIDOS_ITENS.CODIGO_PROD=PRODUTOS.CODIGO)
;



/* View: SPED_CLIENTES */
CREATE VIEW SPED_CLIENTES(
    CODIGO,
    NOME_RS,
    ENDERECO,
    CIDADE,
    UF,
    CEP,
    TELEFONE,
    EMAIL,
    RG_IE,
    BAIRRO,
    NUMERO,
    COD_EMPRESA,
    CPF_CNPJ,
    COD_IBGE,
    TIPO,
    COMPLEMENTO,
    MES,
    ANO)
AS
select distinct
    clientes.codigo,
    clientes.nome_rs,
    clientes.endereco,
    clientes.cidade,
    clientes.uf,
    clientes.cep,
    clientes.telefone,
    clientes.email,
    clientes.rg_ie,
    clientes.bairro,
    clientes.numero,
    clientes.cod_empresa,
    clientes.cpf_cnpj,
    cidades.cod_ibge,
    clientes.tipo,
    CLIENTES.complemento,
    CAST(LPAD(EXTRACT(MONTH FROM pedidos.data_pedido),2,'0') AS VARCHAR(2)) MES,
    CAST(LPAD(EXTRACT(year FROM pedidos.data_pedido),4,'0') AS VARCHAR(4)) AS ANO
from cidades
   right outer join clientes on (cidades.cod_cidade = clientes.cod_cidade)
   right outer join pedidos on (clientes.codigo = pedidos.codigo_cliente)
   where pedidos.MODELO_NF > ''
;



/* View: SPED_CLIENTES_NFCE */
CREATE VIEW SPED_CLIENTES_NFCE(
    CODIGO,
    NOME_RS,
    ENDERECO,
    CIDADE,
    UF,
    CEP,
    TELEFONE,
    EMAIL,
    RG_IE,
    BAIRRO,
    NUMERO,
    COD_EMPRESA,
    CPF_CNPJ,
    COD_IBGE,
    TIPO,
    COMPLEMENTO,
    MES,
    ANO)
AS
select distinct
    clientes.codigo,
    clientes.nome_rs,
    clientes.endereco,
    clientes.cidade,
    clientes.uf,
    clientes.cep,
    clientes.telefone,
    clientes.email,
    clientes.rg_ie,
    clientes.bairro,
    clientes.numero,
    clientes.cod_empresa,
    clientes.cpf_cnpj,
    cidades.cod_ibge,
    clientes.tipo,
    CLIENTES.complemento,
    CAST(LPAD(EXTRACT(MONTH FROM NFECE_NOTA.dt_emissao),2,'0') AS VARCHAR(2)) MES,
    CAST(LPAD(EXTRACT(year FROM NFECE_NOTA.dt_emissao),4,'0') AS VARCHAR(4)) AS ANO
from cidades
   right outer join clientes on (cidades.cod_cidade = clientes.cod_cidade)
   right outer join NFECE_NOTA on (clientes.codigo = nfECe_nota.cod_cliente)
   where nfECe_nota.nR_nota  > 0
;



/* View: SPED_CLIENTES_NFE */
CREATE VIEW SPED_CLIENTES_NFE(
    CODIGO,
    NOME_RS,
    ENDERECO,
    CIDADE,
    UF,
    CEP,
    TELEFONE,
    EMAIL,
    RG_IE,
    BAIRRO,
    NUMERO,
    COD_EMPRESA,
    CPF_CNPJ,
    COD_IBGE,
    TIPO,
    COMPLEMENTO,
    MES,
    ANO)
AS
select distinct
    clientes.codigo,
    clientes.nome_rs,
    clientes.endereco,
    clientes.cidade,
    clientes.uf,
    clientes.cep,
    clientes.telefone,
    clientes.email,
    clientes.rg_ie,
    clientes.bairro,
    clientes.numero,
    clientes.cod_empresa,
    clientes.cpf_cnpj,
    cidades.cod_ibge,
    clientes.tipo,
    CLIENTES.complemento,
    CAST(LPAD(EXTRACT(MONTH FROM NFE_NOTA.dt_emissao),2,'0') AS VARCHAR(2)) MES,
    CAST(LPAD(EXTRACT(year FROM NFE_NOTA.dt_emissao),4,'0') AS VARCHAR(4)) AS ANO
from cidades
   right outer join clientes on (cidades.cod_cidade = clientes.cod_cidade)
   right outer join NFE_NOTA on (clientes.codigo = nfe_nota.cod_cliente)
   where nfe_nota.STATUS = 'S' AND NFE_NOTA.status_cancelado IS NULL AND NFE_NOTA.status_inutilizado IS NULL
;



/* View: SPED_FORNECEDORES */
CREATE VIEW SPED_FORNECEDORES(
    CODIGO,
    NOME,
    ENDERECO,
    TP,
    CNPJ,
    IE,
    BAIRRO,
    COD_EMPRESA,
    "codigo_ibge",
    NUMERO,
    COMPLEMENTO,
    MES,
    ANO)
AS
SELECT distinct
  FORNECEDORES.CODIGO,
  FORNECEDORES.NOME,
  FORNECEDORES.ENDERECO,
  fornecedores.TP,
  FORNECEDORES.CNPJ,
  FORNECEDORES.IE,
  FORNECEDORES.BAIRRO,
  FORNECEDORES.COD_EMPRESA,
  FORNECEDORES."codigo_ibge",
  FORNECEDORES.NUMERO,
  FORNECEDORES.COMPLEMENTO,
  CAST(LPAD(EXTRACT(MONTH FROM NOTASFISCAIS.data_cadastro),2,'0') AS VARCHAR(2)) MES,
  CAST(LPAD(EXTRACT(year FROM NOTASFISCAIS.data_cadastro),4,'0') AS VARCHAR(4)) AS ANO
FROM
 NOTASFISCAIS
 LEFT OUTER JOIN FORNECEDORES ON (NOTASFISCAIS.COD_FORNECEDOR=FORNECEDORES.CODIGO)
;



/* View: V_ABASTECIMENTOS */
CREATE VIEW V_ABASTECIMENTOS(
    NOME,
    COMBUSTIVEL,
    NOME1,
    SEQ,
    COD_PRO,
    COD_FOR,
    COD_VEI,
    DATA,
    QUANT,
    V_TOTAL,
    V_UNIT,
    KM_VEIC,
    OBS,
    KM_L,
    KM_ROD,
    PLACA)
AS
SELECT 
  VEICULO.NOME,
  VEICULO.combustivel,
  FORNECEDORES.NOME,
  VEICULO_ABAST.SEQ,
  VEICULO_ABAST.COD_PRO,
  VEICULO_ABAST.COD_FOR,
  VEICULO_ABAST.COD_VEI,
  VEICULO_ABAST.DATA,
  VEICULO_ABAST.QUANT,
  VEICULO_ABAST.V_TOTAL,
  VEICULO_ABAST.V_UNIT,
  VEICULO_ABAST.KM_VEIC,
  VEICULO_ABAST.OBS,
  VEICULO_ABAST.km_l,
  VEICULO_ABAST.km_rod,
   VEICULO.placa
  
FROM
 VEICULO_ABAST
 LEFT OUTER JOIN VEICULO ON (VEICULO_ABAST.COD_VEI=VEICULO.CODIGO)
 LEFT OUTER JOIN FORNECEDORES ON (VEICULO_ABAST.COD_FOR=FORNECEDORES.CODIGO)
;



/* View: V_CFOP */
CREATE VIEW V_CFOP(
    CODIGO_CFOP,
    DESCRICAO,
    TIPO,
    ICMS,
    ISS,
    OBS1,
    OBS2,
    OBS3,
    OBS4,
    FILTRO,
    VALOR1,
    VALOR2,
    VALOR3,
    VALOR4,
    VALOR5,
    VALOR6,
    VALOR7,
    VALOR8,
    VALOR9,
    VALOR10,
    ST,
    CLASSIFICACAO_FISCAL,
    REDUCAO_ICMS,
    MARGEM_AGREGADA,
    SIMPLIFICADO,
    CAIXA,
    FATURAMENTO)
AS
SELECT
	CFOP AS CODIGO_CFOP,
	NATUREZA AS DESCRICAO,
	TIPO,
	ICMS,
	ISS,
	OBS1,
	OBS2,
	OBS3,
	OBS4,
	FILTRO,
	VALOR1,
	VALOR2,
	VALOR3,
	VALOR4,
	VALOR5,
	VALOR6,
	VALOR7,
	VALOR8,
	VALOR9,
	VALOR10,
	ST,
	CLASSIFICACAO_FISCAL,
	REDUCAO_ICMS,
	MARGEM_AGREGADA,
	SIMPLIFICADO,
	CAIXA,
	FATURAMENTO
FROM TABELA_CFOP
;



/* View: V_CHEQUES_BAIXADOS */
CREATE VIEW V_CHEQUES_BAIXADOS(
    CODIGO,
    CODIGO_COMPRA,
    BANCO,
    AGENCIA,
    CONTA_CORRENTE,
    CONTA_DESDE,
    TITULAR,
    TIPO_CHEQUE,
    N_CHEQUE,
    QNT,
    VALOR_CHEQUE,
    CLIENTE,
    RETORNARDO,
    RETORNADO_PAGO,
    MOTIVO_RETORNO,
    DATA_CADASTRO,
    DATA_DEPOSITO,
    DATA_RETORNO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_BAIXA,
    COMPENSADO,
    CODIGO_CC,
    NUMERO_CC)
AS
SELECT    CODIGO, CODIGO_COMPRA, BANCO, AGENCIA, CONTA_CORRENTE,
CONTA_DESDE, TITULAR, TIPO_CHEQUE, N_CHEQUE, QNT, VALOR_CHEQUE,
CLIENTE, RETORNARDO, RETORNADO_PAGO, MOTIVO_RETORNO, DATA_CADASTRO,
DATA_DEPOSITO, DATA_RETORNO, DATA_BAIXA, USUARIO_CADASTRO, USUARIO_BAIXA,
COMPENSADO, CODIGO_CC, NUMERO_CC
from CHEQUES WHERE COMPENSADO = 'S'
;



/* View: V_CHEQUES_BAIXAR */
CREATE VIEW V_CHEQUES_BAIXAR(
    CODIGO,
    CODIGO_COMPRA,
    BANCO,
    AGENCIA,
    CONTA_CORRENTE,
    CONTA_DESDE,
    TITULAR,
    TIPO_CHEQUE,
    N_CHEQUE,
    QNT,
    VALOR_CHEQUE,
    CLIENTE,
    RETORNARDO,
    RETORNADO_PAGO,
    MOTIVO_RETORNO,
    DATA_CADASTRO,
    DATA_DEPOSITO,
    DATA_RETORNO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_BAIXA,
    COMPENSADO,
    CODIGO_CC,
    NUMERO_CC)
AS
SELECT    CODIGO, CODIGO_COMPRA, BANCO, AGENCIA, CONTA_CORRENTE,
CONTA_DESDE, TITULAR, TIPO_CHEQUE, N_CHEQUE, QNT, VALOR_CHEQUE,
CLIENTE, RETORNARDO, RETORNADO_PAGO, MOTIVO_RETORNO, DATA_CADASTRO,
DATA_DEPOSITO, DATA_RETORNO, DATA_BAIXA, USUARIO_CADASTRO, USUARIO_BAIXA,
COMPENSADO, CODIGO_CC, NUMERO_CC
from CHEQUES WHERE COMPENSADO = 'N'
;



/* View: V_CHEQUES_CLIENTE */
CREATE VIEW V_CHEQUES_CLIENTE(
    COD_CLIENTE,
    V_CHEQUE_COMPENSAR,
    COMPENSADO)
AS
SELECT 
  CHEQUES.COD_CLIENTE,
  Sum(CHEQUES.VALOR_CHEQUE) AS V_CHEQUE_COMPENSAR,
  CHEQUES.COMPENSADO
FROM
 CHEQUES
GROUP BY
  CHEQUES.COD_CLIENTE,
  CHEQUES.COMPENSADO
HAVING (CHEQUES.COMPENSADO='N')
;



/* View: V_CHEQUES_PAGAMENTO */
CREATE VIEW V_CHEQUES_PAGAMENTO(
    CODIGO,
    CODIGO_COMPRA,
    BANCO,
    AGENCIA,
    CONTA_CORRENTE,
    CONTA_DESDE,
    TITULAR,
    TIPO_CHEQUE,
    N_CHEQUE,
    QNT,
    VALOR_CHEQUE,
    CLIENTE,
    RETORNARDO,
    RETORNADO_PAGO,
    MOTIVO_RETORNO,
    DATA_CADASTRO,
    DATA_DEPOSITO,
    DATA_RETORNO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_BAIXA,
    COMPENSADO,
    CODIGO_CC,
    NUMERO_CC)
AS
SELECT    CODIGO, CODIGO_COMPRA, BANCO, AGENCIA, CONTA_CORRENTE,
CONTA_DESDE, TITULAR, TIPO_CHEQUE, N_CHEQUE, QNT, VALOR_CHEQUE,
CLIENTE, RETORNARDO, RETORNADO_PAGO, MOTIVO_RETORNO, DATA_CADASTRO,
DATA_DEPOSITO, DATA_RETORNO, DATA_BAIXA, USUARIO_CADASTRO, USUARIO_BAIXA,
COMPENSADO, CODIGO_CC, NUMERO_CC
from CHEQUES WHERE COMPENSADO = 'P'
;



/* View: V_CHEQUES_RETORNADOS */
CREATE VIEW V_CHEQUES_RETORNADOS(
    CODIGO,
    CODIGO_COMPRA,
    BANCO,
    AGENCIA,
    CONTA_CORRENTE,
    CONTA_DESDE,
    TITULAR,
    TIPO_CHEQUE,
    N_CHEQUE,
    QNT,
    VALOR_CHEQUE,
    CLIENTE,
    RETORNARDO,
    RETORNADO_PAGO,
    MOTIVO_RETORNO,
    DATA_CADASTRO,
    DATA_DEPOSITO,
    DATA_RETORNO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_BAIXA,
    COMPENSADO,
    CODIGO_CC,
    NUMERO_CC)
AS
SELECT    CODIGO, CODIGO_COMPRA, BANCO, AGENCIA, CONTA_CORRENTE,
CONTA_DESDE, TITULAR, TIPO_CHEQUE, N_CHEQUE, QNT, VALOR_CHEQUE,
CLIENTE, RETORNARDO, RETORNADO_PAGO, MOTIVO_RETORNO, DATA_CADASTRO,
DATA_DEPOSITO, DATA_RETORNO, DATA_BAIXA, USUARIO_CADASTRO, USUARIO_BAIXA,
COMPENSADO, CODIGO_CC, NUMERO_CC
from V_CHEQUES_BAIXADOS WHERE RETORNARDO = 'SIM'
;



/* View: V_CHEQUES_RETORNADOS_A_PAGAR */
CREATE VIEW V_CHEQUES_RETORNADOS_A_PAGAR(
    CODIGO,
    CODIGO_COMPRA,
    BANCO,
    AGENCIA,
    CONTA_CORRENTE,
    CONTA_DESDE,
    TITULAR,
    TIPO_CHEQUE,
    N_CHEQUE,
    QNT,
    VALOR_CHEQUE,
    CLIENTE,
    RETORNARDO,
    RETORNADO_PAGO,
    MOTIVO_RETORNO,
    DATA_CADASTRO,
    DATA_DEPOSITO,
    DATA_RETORNO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_BAIXA,
    COMPENSADO,
    CODIGO_CC,
    NUMERO_CC)
AS
SELECT    CODIGO, CODIGO_COMPRA, BANCO, AGENCIA, CONTA_CORRENTE,
CONTA_DESDE, TITULAR, TIPO_CHEQUE, N_CHEQUE, QNT, VALOR_CHEQUE,
CLIENTE, RETORNARDO, RETORNADO_PAGO, MOTIVO_RETORNO, DATA_CADASTRO,
DATA_DEPOSITO, DATA_RETORNO, DATA_BAIXA, USUARIO_CADASTRO, USUARIO_BAIXA,
COMPENSADO, CODIGO_CC, NUMERO_CC
from V_CHEQUES_RETORNADOS WHERE RETORNADO_PAGO = 'NAO'
;



/* View: V_CHEQUES_RETORNADOS_PAGOS */
CREATE VIEW V_CHEQUES_RETORNADOS_PAGOS(
    CODIGO,
    CODIGO_COMPRA,
    BANCO,
    AGENCIA,
    CONTA_CORRENTE,
    CONTA_DESDE,
    TITULAR,
    TIPO_CHEQUE,
    N_CHEQUE,
    QNT,
    VALOR_CHEQUE,
    CLIENTE,
    RETORNARDO,
    RETORNADO_PAGO,
    MOTIVO_RETORNO,
    DATA_CADASTRO,
    DATA_DEPOSITO,
    DATA_RETORNO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_BAIXA,
    COMPENSADO,
    CODIGO_CC,
    NUMERO_CC)
AS
SELECT    CODIGO, CODIGO_COMPRA, BANCO, AGENCIA, CONTA_CORRENTE,
CONTA_DESDE, TITULAR, TIPO_CHEQUE, N_CHEQUE, QNT, VALOR_CHEQUE,
CLIENTE, RETORNARDO, RETORNADO_PAGO, MOTIVO_RETORNO, DATA_CADASTRO,
DATA_DEPOSITO, DATA_RETORNO, DATA_BAIXA, USUARIO_CADASTRO, USUARIO_BAIXA,
COMPENSADO, CODIGO_CC, NUMERO_CC
from V_CHEQUES_RETORNADOS WHERE RETORNADO_PAGO = 'SIM'
;



/* View: V_CHEQUES_RETORNAR */
CREATE VIEW V_CHEQUES_RETORNAR(
    CODIGO,
    CODIGO_COMPRA,
    BANCO,
    AGENCIA,
    CONTA_CORRENTE,
    CONTA_DESDE,
    TITULAR,
    TIPO_CHEQUE,
    N_CHEQUE,
    QNT,
    VALOR_CHEQUE,
    CLIENTE,
    RETORNARDO,
    RETORNADO_PAGO,
    MOTIVO_RETORNO,
    DATA_CADASTRO,
    DATA_DEPOSITO,
    DATA_RETORNO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_BAIXA,
    COMPENSADO,
    CODIGO_CC,
    NUMERO_CC)
AS
SELECT    CODIGO, CODIGO_COMPRA, BANCO, AGENCIA, CONTA_CORRENTE,
CONTA_DESDE, TITULAR, TIPO_CHEQUE, N_CHEQUE, QNT, VALOR_CHEQUE,
CLIENTE, RETORNARDO, RETORNADO_PAGO, MOTIVO_RETORNO, DATA_CADASTRO,
DATA_DEPOSITO, DATA_RETORNO, DATA_BAIXA, USUARIO_CADASTRO, USUARIO_BAIXA,
COMPENSADO, CODIGO_CC, NUMERO_CC
from V_CHEQUES_BAIXADOS WHERE RETORNARDO = 'NAO'
;



/* View: V_CIDADES_BAIRROS */
CREATE VIEW V_CIDADES_BAIRROS(
    COD_CIDADE,
    COD_CIDADE1,
    COD_BAIRRO,
    DESCRICAO,
    NOME,
    CEP,
    COD_ESTADO,
    COD_EMPRESA,
    USERCAD)
AS
SELECT 
  BAIRRO.COD_CIDADE,
  CIDADES.COD_CIDADE,
  BAIRRO.COD_BAIRRO,
  BAIRRO.DESCRICAO,
  CIDADES.NOME,
  CIDADES.CEP,
  CIDADES.COD_ESTADO,
  CIDADES.COD_EMPRESA,
  CIDADES.USERCAD
FROM
 CIDADES
 inner JOIN BAIRRO ON (CIDADES.COD_CIDADE=BAIRRO.COD_CIDADE)
;



/* View: V_COBRANCA */
CREATE VIEW V_COBRANCA(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    COD_AVALISTA)
AS
SELECT 
  CREDIARIO.CODIGO,
  CREDIARIO.CODIGO_CLIENTE,
  CREDIARIO.DATA_COMPRA,
  CREDIARIO.DATA_VENCIMENTO,
  CREDIARIO.DATA_BAIXA,
  CREDIARIO.HISTORICO,
  CREDIARIO.USUARIO_VENDA,
  CREDIARIO.USUARIO_BAIXA,
  CREDIARIO.SITUACAO,
  CREDIARIO.VALOR_COMPRA,
  CREDIARIO.VALOR_JUROS,
  CREDIARIO.VALOR_ACRESCIMO,
  CREDIARIO.VALOR_DESCONTO,
  CREDIARIO.VALOR_PAGAR,
  CREDIARIO.VALOR_PAGO,
  CREDIARIO.VALOR_TOTAL,
  CREDIARIO.CODIGO_COMPRA,
  CREDIARIO.PARCELA,
  CREDIARIO.NUMBOLETO,
  CREDIARIO.BANCO_PORTADOR,
  CREDIARIO.REMESSA,
  CREDIARIO.DATACREDITO,
  CREDIARIO.ID_PORTADOR,
  CREDIARIO.ENVIADO,
  CREDIARIO.COD_EMPRESA,
  CREDIARIO.NUMBOLETO1,
  CREDIARIO.COD_AVALISTA
FROM
 CREDIARIO WHERE SITUACAO = 'A'
;



/* View: V_COMISSAO_VENDEDOR */
CREATE VIEW V_COMISSAO_VENDEDOR(
    CODIGO,
    VALOR_ITENS,
    CODIGO1,
    VALOR_TOTAL,
    DESCRICAO_PRODUTO,
    PRECO_UNITARIO,
    DESCONTO,
    PRECO_TOTAL,
    COMISSAO,
    VENDEDOR,
    USUARIO,
    COMISSAO1,
    TP,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    COD_PAGTO,
    DESCRICAO,
    TIPO_PAGAMENTO,
    DATA_PEDIDO,
    PROD_SERV)
AS
SELECT 
  PRODUTOS.CODIGO,
  PEDIDOS.VALOR_ITENS,
  PEDIDOS.CODIGO,
  PEDIDOS.VALOR_TOTAL,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.PRECO_UNITARIO,
  PEDIDOS_ITENS.DESCONTO,
  PEDIDOS_ITENS.PRECO_TOTAL,
  PEDIDOS_ITENS.COMISSAO,
  PEDIDOS_ITENS.VENDEDOR,
  USUARIOS.USUARIO,
  PRODUTOS.COMISSAO,
  PEDIDOS.TP,
  PEDIDOS.CODIGO_CLIENTE,
  PEDIDOS.NOME_CLIENTE,
  PEDIDOS.COD_PAGTO,
  CONDICAO_PAGAMENTO.DESCRICAO,
  CONDICAO_PAGAMENTO.TIPO_PAGAMENTO,
  PEDIDOS.DATA_PEDIDO,
  PRODUTOS.prod_serv
FROM
 PEDIDOS
 INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
 INNER JOIN PRODUTOS ON (PRODUTOS.CODIGO=PEDIDOS_ITENS.CODIGO_PROD)
  AND (PEDIDOS_ITENS.CODIGO_PROD=PRODUTOS.CODIGO)
 INNER JOIN USUARIOS ON (PEDIDOS_ITENS.VENDEDOR=USUARIOS.CODIGO)
 INNER JOIN CONDICAO_PAGAMENTO ON (PEDIDOS.COD_PAGTO=CONDICAO_PAGAMENTO.CODIGO)
;



/* View: V_CONFERENCIA_ESTOQUE */
CREATE VIEW V_CONFERENCIA_ESTOQUE(
    CODIGO,
    CODIGO_BARRAS,
    DESCRICAO,
    PRECO_CUSTO,
    PRECO_VENDA,
    ESTOQUE_ATUAL,
    ESTOQUE,
    VALOR_EST_CUSTO_ATUAL,
    VALOR_ESTOQUE,
    ATIVO,
    DESC_UNIDADE,
    CODIGO_GRUPO,
    CODIGO_SUBGRUPO,
    CODIGO_MARCA,
    SECCAO,
    CATEGORIA,
    REFERENCIA)
AS
SELECT
  codigo,
  CODIGO_BARRAS,
  DESCRICAO,
  PRECO_CUSTO,
  PRECO_VENDA,
  ESTOQUE_ATUAL,
  ESTOQUE,
  VALOR_EST_CUSTO_ATUAL,
  VALOR_ESTOQUE,
  ATIVO,
  DESC_UNIDADE,
  CODIGO_GRUPO,
  CODIGO_SUBGRUPO,
  CODIGO_MARCA,
  SECCAO,
  CATEGORIA,
  REFERENCIA from PRODUTOS
  WHERE ativo='A'
;



/* View: V_CONTAS_A_PAGAR */
CREATE VIEW V_CONTAS_A_PAGAR(
    CODIGO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    DATA_PAGAMENTO,
    CODCONTA,
    CODFORNECEDOR,
    VALOR,
    VALORPAGO,
    LIQUIDO,
    DESCONTO,
    ACRESCIMO,
    DOCUMENTO,
    NOTAFISCAL,
    HISTORICO,
    C,
    E,
    FILTRO,
    ESPECIE,
    SITUACAO,
    CODNOTA,
    MOVIMENTO,
    CODCAIXA,
    FORNECEDOR,
    PL_CONTAS)
AS
SELECT 
  CONTAS_APAGAR.CODIGO,
  CONTAS_APAGAR.DATA_EMISSAO,
  CONTAS_APAGAR.DATA_VENCIMENTO,
  CONTAS_APAGAR.DATA_PAGAMENTO,
  CONTAS_APAGAR.CODCONTA,
  CONTAS_APAGAR.CODFORNECEDOR,
  CONTAS_APAGAR.VALOR,
  CONTAS_APAGAR.VALORPAGO,
  CONTAS_APAGAR.LIQUIDO,
  CONTAS_APAGAR.DESCONTO,
  CONTAS_APAGAR.ACRESCIMO,
  CONTAS_APAGAR.DOCUMENTO,
  CONTAS_APAGAR.NOTAFISCAL,
  CONTAS_APAGAR.HISTORICO,
  CONTAS_APAGAR.C,
  CONTAS_APAGAR.E,
  CONTAS_APAGAR.FILTRO,
  CONTAS_APAGAR.ESPECIE,
  CONTAS_APAGAR.SITUACAO,
  CONTAS_APAGAR.CODNOTA,
  CONTAS_APAGAR.MOVIMENTO,
  CONTAS_APAGAR.CODCAIXA,
  FORNECEDORES.NOME AS FORNECEDOR,
  PLANOCONTAS.NOME AS PL_CONTAS
FROM
 CONTAS_APAGAR
 LEFT OUTER JOIN FORNECEDORES ON (CONTAS_APAGAR.CODFORNECEDOR=FORNECEDORES.CODIGO)
 LEFT OUTER JOIN PLANOCONTAS ON (CONTAS_APAGAR.CODCONTA=PLANOCONTAS.CODIGO)
;



/* View: V_CONTAS_APAGAR */
CREATE VIEW V_CONTAS_APAGAR(
    CODIGO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    DATA_PAGAMENTO,
    CODCONTA,
    CODFORNECEDOR,
    VALOR,
    VALORPAGO,
    LIQUIDO,
    DESCONTO,
    ACRESCIMO,
    DOCUMENTO,
    NOTAFISCAL,
    HISTORICO,
    C,
    E,
    FILTRO,
    ESPECIE,
    SITUACAO,
    CODNOTA,
    MOVIMENTO,
    CODCAIXA,
    FORNECEDOR,
    PL_CONTAS,
    VALOR_PAGO,
    DATA_PAGTO)
AS
SELECT
  CONTAS_APAGAR.CODIGO,
  CONTAS_APAGAR.DATA_EMISSAO,
  CONTAS_APAGAR.DATA_VENCIMENTO,
  CONTAS_APAGAR.DATA_PAGAMENTO,
  CONTAS_APAGAR.CODCONTA,
  CONTAS_APAGAR.CODFORNECEDOR,
  CONTAS_APAGAR.VALOR,
  CONTAS_APAGAR.VALORPAGO,
  CONTAS_APAGAR.LIQUIDO,
  CONTAS_APAGAR.DESCONTO,
  CONTAS_APAGAR.ACRESCIMO,
  CONTAS_APAGAR.DOCUMENTO,
  CONTAS_APAGAR.NOTAFISCAL,
  CONTAS_APAGAR.HISTORICO,
  CONTAS_APAGAR.C,
  CONTAS_APAGAR.E,
  CONTAS_APAGAR.FILTRO,
  CONTAS_APAGAR.ESPECIE,
  CONTAS_APAGAR.SITUACAO,
  CONTAS_APAGAR.CODNOTA,
  CONTAS_APAGAR.MOVIMENTO,
  CONTAS_APAGAR.CODCAIXA,
  FORNECEDORES.NOME,
  PLANOCONTAS.NOME,
  CONTAS_APAGAR_PAGO.VALOR_PAGO,
  CONTAS_APAGAR_PAGO.DATA_PAGTO
FROM
 CONTAS_APAGAR
 LEFT OUTER JOIN FORNECEDORES ON (CONTAS_APAGAR.CODFORNECEDOR=FORNECEDORES.CODIGO)
 LEFT OUTER JOIN PLANOCONTAS ON (CONTAS_APAGAR.CODCONTA=PLANOCONTAS.CODIGO)
 LEFT OUTER JOIN CONTAS_APAGAR_PAGO ON (CONTAS_APAGAR.CODIGO=CONTAS_APAGAR_PAGO.COD_PAGAR)
;



/* View: V_CONTAS_AUTORIZADA */
CREATE VIEW V_CONTAS_AUTORIZADA(
    CODIGO,
    DATA_CADASTRO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    USUARIO_CADASTRO,
    USUARIO_AUTORIZACAO,
    TIPO_DOCUMENTO,
    FORNECEDOR,
    DESCONTO,
    MULTA,
    JUROS,
    VALOR_DOCUMENTO,
    VALOR_PARCELA,
    VALOR_BAIXA,
    N_DOCUMENTO,
    PARCELA,
    SERIE,
    AUTORIZACAO)
AS
SELECT  CODIGO, DATA_CADASTRO, DATA_EMISSAO, DATA_VENCIMENTO,
USUARIO_CADASTRO, USUARIO_AUTORIZACAO,
TIPO_DOCUMENTO, FORNECEDOR, DESCONTO, MULTA,
JUROS, VALOR_DOCUMENTO, VALOR_PARCELA, VALOR_BAIXA, N_DOCUMENTO,
PARCELA, SERIE, AUTORIZACAO from CONTAS_PAGAR WHERE AUTORIZACAO = 'S'
;



/* View: V_CONTAS_AUTORIZADAS_FOR */
CREATE VIEW V_CONTAS_AUTORIZADAS_FOR(
    CODIGO,
    DATA_CADASTRO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    USUARIO_CADASTRO,
    USUARIO_AUTORIZACAO,
    TIPO_DOCUMENTO,
    FORNECEDOR,
    DESCONTO,
    MULTA,
    JUROS,
    VALOR_DOCUMENTO,
    VALOR_PARCELA,
    VALOR_BAIXA,
    N_DOCUMENTO,
    PARCELA,
    SERIE,
    AUTORIZACAO)
AS
SELECT  CODIGO, DATA_CADASTRO, DATA_EMISSAO, DATA_VENCIMENTO,
USUARIO_CADASTRO, USUARIO_AUTORIZACAO,
TIPO_DOCUMENTO, FORNECEDOR, DESCONTO, MULTA,
JUROS, VALOR_DOCUMENTO, VALOR_PARCELA, VALOR_BAIXA, N_DOCUMENTO,
PARCELA, SERIE, AUTORIZACAO from CONTAS_PAGAR WHERE AUTORIZACAO = 'S' AND TIPO = 'F'
;



/* View: V_CONTAS_AUTORIZADAS_PLC */
CREATE VIEW V_CONTAS_AUTORIZADAS_PLC(
    CODIGO,
    DATA_CADASTRO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    USUARIO_CADASTRO,
    USUARIO_AUTORIZACAO,
    TIPO_DOCUMENTO,
    FORNECEDOR,
    DESCONTO,
    MULTA,
    JUROS,
    VALOR_DOCUMENTO,
    VALOR_PARCELA,
    VALOR_BAIXA,
    N_DOCUMENTO,
    PARCELA,
    SERIE,
    AUTORIZACAO)
AS
SELECT  CODIGO, DATA_CADASTRO, DATA_EMISSAO, DATA_VENCIMENTO,
USUARIO_CADASTRO, USUARIO_AUTORIZACAO,
TIPO_DOCUMENTO, FORNECEDOR, DESCONTO, MULTA,
JUROS, VALOR_DOCUMENTO, VALOR_PARCELA, VALOR_BAIXA, N_DOCUMENTO,
PARCELA, SERIE, AUTORIZACAO from CONTAS_PAGAR WHERE AUTORIZACAO = 'S' AND TIPO = 'P'
;



/* View: V_CONTAS_PAGAR */
CREATE VIEW V_CONTAS_PAGAR(
    CODIGO_GERA,
    CODIGO,
    DATA_CADASTRO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_AUTORIZACAO,
    USUARIO_BAIXA,
    TIPO_DOCUMENTO,
    FORNECEDOR,
    DESCONTO,
    MULTA,
    JUROS,
    VALOR_DOCUMENTO,
    VALOR_PARCELA,
    VALOR_BAIXA,
    N_DOCUMENTO,
    PARCELA,
    SERIE,
    AUTORIZACAO,
    OBSERVACOES,
    TIPO,
    VALOR_ADIANTAMENTO,
    VALOR_AUTORIZADO,
    VALOR_PAGAR)
AS
SELECT
	CODIGO_GERA,
	CODIGO,
	DATA_CADASTRO,
	DATA_EMISSAO,
	DATA_VENCIMENTO,
	DATA_BAIXA,
	USUARIO_CADASTRO,
	USUARIO_AUTORIZACAO,
	USUARIO_BAIXA,
	TIPO_DOCUMENTO,
	FORNECEDOR,
	DESCONTO,
	MULTA,
	JUROS,
	VALOR_DOCUMENTO,
	VALOR_PARCELA,
	VALOR_BAIXA,
	N_DOCUMENTO,
	PARCELA,
	SERIE,
	AUTORIZACAO,
	OBSERVACOES,
	TIPO,
	VALOR_ADIANTAMENTO,
	VALOR_AUTORIZADO,
	VALOR_PAGAR
FROM CONTAS_PAGAR WHERE AUTORIZACAO = 'N'
;



/* View: V_CONTAS_PAGAR_FOR */
CREATE VIEW V_CONTAS_PAGAR_FOR(
    CODIGO,
    DATA_CADASTRO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    USUARIO_CADASTRO,
    TIPO_DOCUMENTO,
    FORNECEDOR,
    DESCONTO,
    MULTA,
    JUROS,
    VALOR_DOCUMENTO,
    VALOR_PARCELA,
    N_DOCUMENTO,
    PARCELA,
    SERIE,
    AUTORIZACAO)
AS
SELECT  CODIGO, DATA_CADASTRO, DATA_EMISSAO, DATA_VENCIMENTO,
USUARIO_CADASTRO, TIPO_DOCUMENTO, FORNECEDOR, DESCONTO, MULTA,
JUROS, VALOR_DOCUMENTO, VALOR_PARCELA, N_DOCUMENTO,
PARCELA, SERIE, AUTORIZACAO from CONTAS_PAGAR WHERE AUTORIZACAO = 'N' AND TIPO = 'F'
;



/* View: V_CONTAS_PAGAR_PLC */
CREATE VIEW V_CONTAS_PAGAR_PLC(
    CODIGO,
    DATA_CADASTRO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    USUARIO_CADASTRO,
    TIPO_DOCUMENTO,
    FORNECEDOR,
    DESCONTO,
    MULTA,
    JUROS,
    VALOR_DOCUMENTO,
    VALOR_PARCELA,
    N_DOCUMENTO,
    PARCELA,
    SERIE,
    AUTORIZACAO)
AS
SELECT  CODIGO, DATA_CADASTRO, DATA_EMISSAO, DATA_VENCIMENTO,
USUARIO_CADASTRO, TIPO_DOCUMENTO, FORNECEDOR, DESCONTO, MULTA,
JUROS, VALOR_DOCUMENTO, VALOR_PARCELA, N_DOCUMENTO,
PARCELA, SERIE, AUTORIZACAO from CONTAS_PAGAR WHERE AUTORIZACAO = 'N' AND TIPO = 'P'
;



/* View: V_CONTAS_PAGAS */
CREATE VIEW V_CONTAS_PAGAS(
    CODIGO,
    DATA_CADASTRO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_AUTORIZACAO,
    USUARIO_BAIXA,
    TIPO_DOCUMENTO,
    FORNECEDOR,
    DESCONTO,
    MULTA,
    JUROS,
    VALOR_DOCUMENTO,
    VALOR_PARCELA,
    VALOR_BAIXA,
    N_DOCUMENTO,
    PARCELA,
    SERIE,
    AUTORIZACAO)
AS
SELECT  CODIGO, DATA_CADASTRO, DATA_EMISSAO, DATA_VENCIMENTO,
DATA_BAIXA, USUARIO_CADASTRO, USUARIO_AUTORIZACAO,
USUARIO_BAIXA, TIPO_DOCUMENTO, FORNECEDOR, DESCONTO, MULTA,
JUROS, VALOR_DOCUMENTO, VALOR_PARCELA, VALOR_BAIXA, N_DOCUMENTO,
PARCELA, SERIE, AUTORIZACAO from CONTAS_PAGAR WHERE AUTORIZACAO = 'B'
;



/* View: V_CONTAS_PAGAS_FOR */
CREATE VIEW V_CONTAS_PAGAS_FOR(
    CODIGO,
    DATA_CADASTRO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_AUTORIZACAO,
    USUARIO_BAIXA,
    TIPO_DOCUMENTO,
    FORNECEDOR,
    DESCONTO,
    MULTA,
    JUROS,
    VALOR_DOCUMENTO,
    VALOR_PARCELA,
    VALOR_BAIXA,
    N_DOCUMENTO,
    PARCELA,
    SERIE,
    AUTORIZACAO)
AS
SELECT  CODIGO, DATA_CADASTRO, DATA_EMISSAO, DATA_VENCIMENTO,
DATA_BAIXA, USUARIO_CADASTRO, USUARIO_AUTORIZACAO,
USUARIO_BAIXA, TIPO_DOCUMENTO, FORNECEDOR, DESCONTO, MULTA,
JUROS, VALOR_DOCUMENTO, VALOR_PARCELA, VALOR_BAIXA, N_DOCUMENTO,
PARCELA, SERIE, AUTORIZACAO from CONTAS_PAGAR WHERE AUTORIZACAO = 'B' AND TIPO = 'F'
;



/* View: V_CONTAS_PAGAS_PLC */
CREATE VIEW V_CONTAS_PAGAS_PLC(
    CODIGO,
    DATA_CADASTRO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    USUARIO_CADASTRO,
    USUARIO_AUTORIZACAO,
    USUARIO_BAIXA,
    TIPO_DOCUMENTO,
    FORNECEDOR,
    DESCONTO,
    MULTA,
    JUROS,
    VALOR_DOCUMENTO,
    VALOR_PARCELA,
    VALOR_BAIXA,
    N_DOCUMENTO,
    PARCELA,
    SERIE,
    AUTORIZACAO)
AS
SELECT  CODIGO, DATA_CADASTRO, DATA_EMISSAO, DATA_VENCIMENTO,
DATA_BAIXA, USUARIO_CADASTRO, USUARIO_AUTORIZACAO,
USUARIO_BAIXA, TIPO_DOCUMENTO, FORNECEDOR, DESCONTO, MULTA,
JUROS, VALOR_DOCUMENTO, VALOR_PARCELA, VALOR_BAIXA, N_DOCUMENTO,
PARCELA, SERIE, AUTORIZACAO from CONTAS_PAGAR WHERE AUTORIZACAO = 'B' AND TIPO = 'P'
;



/* View: V_CREDIARIO */
CREATE VIEW V_CREDIARIO(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA)
AS
SELECT
  CREDIARIO.CODIGO,
  CREDIARIO.CODIGO_CLIENTE,
  CREDIARIO.DATA_COMPRA,
  CREDIARIO.DATA_VENCIMENTO,
  CREDIARIO.DATA_BAIXA,
  CREDIARIO.HISTORICO,
  CREDIARIO.USUARIO_VENDA,
  CREDIARIO.USUARIO_BAIXA,
  CREDIARIO.SITUACAO,
  CREDIARIO.VALOR_COMPRA,
  CREDIARIO.VALOR_JUROS,
  CREDIARIO.VALOR_ACRESCIMO,
  CREDIARIO.VALOR_DESCONTO,
  CREDIARIO.VALOR_PAGAR,
  CREDIARIO.VALOR_PAGO,
  CREDIARIO.VALOR_TOTAL,
  CREDIARIO.CODIGO_COMPRA,
  CREDIARIO.PARCELA,
  CREDIARIO.NUMBOLETO,
  CREDIARIO.BANCO_PORTADOR,
  CREDIARIO.REMESSA,
  CREDIARIO.DATACREDITO,
  CREDIARIO.ID_PORTADOR,
  CREDIARIO.ENVIADO,
  CREDIARIO.COD_EMPRESA,
  CREDIARIO.NUMBOLETO1,
  CREDIARIO.CODIGOCEDENTE,
  CREDIARIO.tipo,
  CREDIARIO.chek_box,
  CREDIARIO.NUM_NOTA,
  CREDIARIO.SERIE_NOTA
FROM
 CREDIARIO
WHERE
  (SITUACAO = 'A' AND CHEK_BOX ='X')
;



/* View: V_CREDIARIO_BOLETOS */
CREATE VIEW V_CREDIARIO_BOLETOS(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA,
    NOME_SACADO,
    ID_CONTRATO,
    COBRADOR,
    COMISSAO,
    DT_PREVISAO_PGTO,
    DIAS_VENCIDO,
    COD_ENTRADA)
AS
SELECT
  CREDIARIO.CODIGO,
  CREDIARIO.CODIGO_CLIENTE,
  CREDIARIO.DATA_COMPRA,
  CREDIARIO.DATA_VENCIMENTO,
  CREDIARIO.DATA_BAIXA,
  CREDIARIO.HISTORICO,
  CREDIARIO.USUARIO_VENDA,
  CREDIARIO.USUARIO_BAIXA,
  CREDIARIO.SITUACAO,
  CREDIARIO.VALOR_COMPRA,
  CREDIARIO.VALOR_JUROS,
  CREDIARIO.VALOR_ACRESCIMO,
  CREDIARIO.VALOR_DESCONTO,
  CREDIARIO.VALOR_PAGAR,
  CREDIARIO.VALOR_PAGO,
  CREDIARIO.VALOR_TOTAL,
  CREDIARIO.CODIGO_COMPRA,
  CREDIARIO.PARCELA,
  CREDIARIO.NUMBOLETO,
  CREDIARIO.BANCO_PORTADOR,
  CREDIARIO.REMESSA,
  CREDIARIO.DATACREDITO,
  CREDIARIO.ID_PORTADOR,
  CREDIARIO.ENVIADO,
  CREDIARIO.COD_EMPRESA,
  CREDIARIO.NUMBOLETO1,
  CREDIARIO.CODIGOCEDENTE,
  CREDIARIO.tipo, 
  CREDIARIO.chek_box,
  CREDIARIO.NUM_NOTA,
  CREDIARIO.SERIE_NOTA,
  CREDIARIO.NOME_SACADO,
  CREDIARIO.id_contrato,
  crediario.cobrador,
  CREDIARIO.comissao,
  CREDIARIO.DT_PREVISAO_PGTO,
  crediario.DIAS_VENCIDO,
  CREDIARIO.cod_entrada
  
FROM
 CREDIARIO
WHERE
  (SITUACAO = 'A')
;



/* View: V_CREDIARIO_BOLETOS_CIDADE */
CREATE VIEW V_CREDIARIO_BOLETOS_CIDADE(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA,
    NOME_SACADO,
    ANO,
    MES,
    TP_BAIXA,
    ID_CONTRATO,
    NOME_ARQ,
    COBRADOR,
    COMISSAO,
    DT_PREVISAO_PGTO,
    DIAS_VENCIDO,
    N_OS,
    VLR_GRAFICA,
    VALOR_COMISAO,
    NOME_RS,
    CIDADE,
    UF,
    COD_ZONA,
    DESCRICAO,
    ID_CONTRATO1,
    DESCRICAO1,
    ID_PLANO,
    RECEBIVEL)
AS
SELECT
  CREDIARIO.CODIGO,
  CREDIARIO.CODIGO_CLIENTE,
  CREDIARIO.DATA_COMPRA,
  CREDIARIO.DATA_VENCIMENTO,
  CREDIARIO.DATA_BAIXA,
  CREDIARIO.HISTORICO,
  CREDIARIO.USUARIO_VENDA,
  CREDIARIO.USUARIO_BAIXA,
  CREDIARIO.SITUACAO,
  CREDIARIO.VALOR_COMPRA,
  CREDIARIO.VALOR_JUROS,
  CREDIARIO.VALOR_ACRESCIMO,
  CREDIARIO.VALOR_DESCONTO,
  CREDIARIO.VALOR_PAGAR,
  CREDIARIO.VALOR_PAGO,
  CREDIARIO.VALOR_TOTAL,
  CREDIARIO.CODIGO_COMPRA,
  CREDIARIO.PARCELA,
  CREDIARIO.NUMBOLETO,
  CREDIARIO.BANCO_PORTADOR,
  CREDIARIO.REMESSA,
  CREDIARIO.DATACREDITO,
  CREDIARIO.ID_PORTADOR,
  CREDIARIO.ENVIADO,
  CREDIARIO.COD_EMPRESA,
  CREDIARIO.NUMBOLETO1,
  CREDIARIO.CODIGOCEDENTE,
  CREDIARIO.TIPO,
  CREDIARIO.CHEK_BOX,
  CREDIARIO.NUM_NOTA,
  CREDIARIO.SERIE_NOTA,
  CREDIARIO.NOME_SACADO,
  CREDIARIO.ANO,
  CREDIARIO.MES,
  CREDIARIO.TP_BAIXA,
  CREDIARIO.ID_CONTRATO,
  CREDIARIO.NOME_ARQ,
  CREDIARIO.COBRADOR,
  CREDIARIO.COMISSAO,
  CREDIARIO.DT_PREVISAO_PGTO,
  CREDIARIO.DIAS_VENCIDO,
  CREDIARIO.N_OS,
  CREDIARIO.VLR_GRAFICA,
  CREDIARIO.VALOR_COMISAO,
  CLIENTES.NOME_RS,
  CLIENTES.CIDADE,
  CLIENTES.UF,
  CLIENTES.COD_ZONA,
  ZONA_VENDA.DESCRICAO,
  CONTRATOS.ID_CONTRATO,
  PLANO_CONTRAT.DESCRICAO,
  PLANO_CONTRAT.ID_PLANO,
  CREDIARIO.RECEBIVEL
FROM
 CREDIARIO
 INNER JOIN CLIENTES ON (CREDIARIO.CODIGO_CLIENTE=CLIENTES.CODIGO)
 LEFT OUTER JOIN ZONA_VENDA ON (CLIENTES.COD_ZONA=ZONA_VENDA.COD_ZONA)
 LEFT OUTER JOIN CONTRATOS ON (CREDIARIO.ID_CONTRATO=CONTRATOS.ID_CONTRATO)
 LEFT OUTER JOIN PLANO_CONTRAT ON (CONTRATOS.PLANO_CONTRATO=PLANO_CONTRAT.ID_PLANO)
WHERE
  (SITUACAO = 'A')
;



/* View: V_CREDIARIO_BOLETOS1 */
CREATE VIEW V_CREDIARIO_BOLETOS1(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA,
    NOME_SACADO)
AS
SELECT
  CREDIARIO.CODIGO,
  CREDIARIO.CODIGO_CLIENTE,
  CREDIARIO.DATA_COMPRA,
  CREDIARIO.DATA_VENCIMENTO,
  CREDIARIO.DATA_BAIXA,
  CREDIARIO.HISTORICO,
  CREDIARIO.USUARIO_VENDA,
  CREDIARIO.USUARIO_BAIXA,
  CREDIARIO.SITUACAO,
  CREDIARIO.VALOR_COMPRA,
  CREDIARIO.VALOR_JUROS,
  CREDIARIO.VALOR_ACRESCIMO,
  CREDIARIO.VALOR_DESCONTO,
  CREDIARIO.VALOR_PAGAR,
  CREDIARIO.VALOR_PAGO,
  CREDIARIO.VALOR_TOTAL,
  CREDIARIO.CODIGO_COMPRA,
  CREDIARIO.PARCELA,
  CREDIARIO.NUMBOLETO,
  CREDIARIO.BANCO_PORTADOR,
  CREDIARIO.REMESSA,
  CREDIARIO.DATACREDITO,
  CREDIARIO.ID_PORTADOR,
  CREDIARIO.ENVIADO,
  CREDIARIO.COD_EMPRESA,
  CREDIARIO.NUMBOLETO1,
  CREDIARIO.CODIGOCEDENTE,
  CREDIARIO.tipo,
  CREDIARIO.chek_box,
  CREDIARIO.NUM_NOTA,
  CREDIARIO.SERIE_NOTA,
  CREDIARIO.NOME_SACADO
FROM
 CREDIARIO
WHERE
  (SITUACAO = 'A')
;



/* View: V_CREDIARIO_CLIENTE */
CREATE VIEW V_CREDIARIO_CLIENTE(
    CODIGO_CLIENTE,
    SITUACAO,
    V_CRED_RECEBER)
AS
SELECT CREDIARIO.CODIGO_CLIENTE, CREDIARIO.SITUACAO, Sum(CREDIARIO.VALOR_TOTAL) AS V_CRED_RECEBER
FROM CREDIARIO
GROUP BY CREDIARIO.CODIGO_CLIENTE, CREDIARIO.SITUACAO
HAVING (((CREDIARIO.SITUACAO)='A'))
;



/* View: V_CREDIARIO_RECEBER */
CREATE VIEW V_CREDIARIO_RECEBER(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA,
    NOME_SACADO,
    ANO,
    MES,
    TP_BAIXA,
    ID_CONTRATO,
    NOME_ARQ,
    COBRADOR,
    COMISSAO,
    DT_PREVISAO_PGTO,
    DIAS_VENCIDO)
AS
SELECT     CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA,
    NOME_SACADO,
    ANO,
    MES,
    TP_BAIXA,
    ID_CONTRATO,
    NOME_ARQ,
    COBRADOR,
    COMISSAO,
    DT_PREVISAO_PGTO,
    DIAS_VENCIDO from CREDIARIO
               WHERE SITUACAO ='A'
;



/* View: V_CREDIARIO_RECEBER_VENCER */
CREATE VIEW V_CREDIARIO_RECEBER_VENCER(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA,
    NOME_SACADO,
    ANO,
    MES,
    TP_BAIXA,
    ID_CONTRATO,
    NOME_ARQ,
    COBRADOR,
    COMISSAO,
    DT_PREVISAO_PGTO,
    DIAS_VENCIDO)
AS
SELECT  CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA,
    NOME_SACADO,
    ANO,
    MES,
    TP_BAIXA,
    ID_CONTRATO,
    NOME_ARQ,
    COBRADOR,
    COMISSAO,
    DT_PREVISAO_PGTO,
    DIAS_VENCIDO from V_CREDIARIO_RECEBER
               WHERE DATA_VENCIMENTO > 'TODAY'
;



/* View: V_CREDIARIO_RECEBER_VENCIDO */
CREATE VIEW V_CREDIARIO_RECEBER_VENCIDO(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA,
    NOME_SACADO,
    ANO,
    MES,
    TP_BAIXA,
    ID_CONTRATO,
    NOME_ARQ,
    COBRADOR,
    COMISSAO,
    DT_PREVISAO_PGTO,
    DIAS_VENCIDO)
AS
SELECT    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA,
    NOME_SACADO,
    ANO,
    MES,
    TP_BAIXA,
    ID_CONTRATO,
    NOME_ARQ,
    COBRADOR,
    COMISSAO,
    DT_PREVISAO_PGTO,
    DIAS_VENCIDO from V_CREDIARIO_RECEBER
               WHERE DATA_VENCIMENTO < 'TODAY'
;



/* View: V_CREDIARIO_RECEBIDO */
CREATE VIEW V_CREDIARIO_RECEBIDO(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    PARCELA,
    DIAS_VENCIDO)
AS
SELECT    CODIGO, CODIGO_CLIENTE, DATA_COMPRA, DATA_VENCIMENTO,
  DATA_BAIXA, HISTORICO, USUARIO_VENDA, USUARIO_BAIXA, SITUACAO,
  VALOR_COMPRA, VALOR_JUROS, VALOR_ACRESCIMO, VALOR_DESCONTO,
  VALOR_PAGAR, VALOR_PAGO, VALOR_TOTAL, PARCELA, dias_vencido from CREDIARIO
               WHERE SITUACAO ='F'
;



/* View: V_CREDIARIO_RECEBIDO_1 */
CREATE VIEW V_CREDIARIO_RECEBIDO_1(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    CODIGO_COMPRA,
    PARCELA,
    NUMBOLETO,
    BANCO_PORTADOR,
    REMESSA,
    DATACREDITO,
    ID_PORTADOR,
    ENVIADO,
    COD_EMPRESA,
    NUMBOLETO1,
    CODIGOCEDENTE,
    TIPO,
    CHEK_BOX,
    NUM_NOTA,
    SERIE_NOTA,
    NOME_SACADO,
    ID_CONTRATO,
    COBRADOR,
    COMISSAO,
    DT_PREVISAO_PGTO,
    DIAS_VENCIDO,
    COD_ENTRADA)
AS
SELECT
  CREDIARIO.CODIGO,
  CREDIARIO.CODIGO_CLIENTE,
  CREDIARIO.DATA_COMPRA,
  CREDIARIO.DATA_VENCIMENTO,
  CREDIARIO.DATA_BAIXA,
  CREDIARIO.HISTORICO,
  CREDIARIO.USUARIO_VENDA,
  CREDIARIO.USUARIO_BAIXA,
  CREDIARIO.SITUACAO,
  CREDIARIO.VALOR_COMPRA,
  CREDIARIO.VALOR_JUROS,
  CREDIARIO.VALOR_ACRESCIMO,
  CREDIARIO.VALOR_DESCONTO,
  CREDIARIO.VALOR_PAGAR,
  CREDIARIO.VALOR_PAGO,
  CREDIARIO.VALOR_TOTAL,
  CREDIARIO.CODIGO_COMPRA,
  CREDIARIO.PARCELA,
  CREDIARIO.NUMBOLETO,
  CREDIARIO.BANCO_PORTADOR,
  CREDIARIO.REMESSA,
  CREDIARIO.DATACREDITO,
  CREDIARIO.ID_PORTADOR,
  CREDIARIO.ENVIADO,
  CREDIARIO.COD_EMPRESA,
  CREDIARIO.NUMBOLETO1,
  CREDIARIO.CODIGOCEDENTE,
  CREDIARIO.tipo,
  CREDIARIO.chek_box,
  CREDIARIO.NUM_NOTA,
  CREDIARIO.SERIE_NOTA,
  CREDIARIO.NOME_SACADO,
  CREDIARIO.id_contrato,
  crediario.cobrador,
  CREDIARIO.comissao,
  CREDIARIO.DT_PREVISAO_PGTO,
  crediario.DIAS_VENCIDO,
  CREDIARIO.cod_entrada
FROM
 CREDIARIO
WHERE
  (SITUACAO = 'F')
;



/* View: V_CREDIARIO_RECEBIDO_ATRAZO */
CREATE VIEW V_CREDIARIO_RECEBIDO_ATRAZO(
    CODIGO,
    CODIGO_CLIENTE,
    DATA_COMPRA,
    DATA_VENCIMENTO,
    DATA_BAIXA,
    HISTORICO,
    USUARIO_VENDA,
    USUARIO_BAIXA,
    SITUACAO,
    VALOR_COMPRA,
    VALOR_JUROS,
    VALOR_ACRESCIMO,
    VALOR_DESCONTO,
    VALOR_PAGAR,
    VALOR_PAGO,
    VALOR_TOTAL,
    PARCELA,
    DIAS_VENCIDO)
AS
SELECT DISTINCT
CODIGO,
CODIGO_CLIENTE,
DATA_COMPRA,
DATA_VENCIMENTO,
DATA_BAIXA,
HISTORICO,
USUARIO_VENDA,
USUARIO_BAIXA,
SITUACAO,
VALOR_COMPRA,
VALOR_JUROS,
VALOR_ACRESCIMO,
VALOR_DESCONTO,
VALOR_PAGAR,
VALOR_PAGO,
VALOR_TOTAL,
PARCELA,
DIAS_VENCIDO
from CREDIARIO
WHERE SITUACAO ='F' and dias_vencido > '0'
;



/* View: V_CREDIARIO_VENCIDO */
CREATE VIEW V_CREDIARIO_VENCIDO(
    V_CLIENTE,
    V_CREDITO_VENCIDO)
AS
SELECT CREDIARIO.CODIGO_CLIENTE, Sum(CREDIARIO.VALOR_TOTAL) AS V_CREDITO_VENCIDO
FROM CREDIARIO
GROUP BY CREDIARIO.CODIGO_CLIENTE, CREDIARIO.DATA_VENCIMENTO, CREDIARIO.SITUACAO
HAVING (((CREDIARIO.DATA_VENCIMENTO)<'TODAY') AND ((CREDIARIO.SITUACAO)='A'))
;



/* View: V_CREDIARIO_VENCIDO_CLIENTE */
CREATE VIEW V_CREDIARIO_VENCIDO_CLIENTE(
    V_CLIENTE,
    V_CRED_VENCIDO)
AS
SELECT (v_crediario_vencido.v_cliente), Sum(v_crediario_vencido.V_CREDITO_VENCIDO) AS V_CRED_VENCIDO
FROM v_crediario_vencido
GROUP BY v_crediario_vencido.v_cliente
;



/* View: V_ENTRADA_PRODUTOS */
CREATE VIEW V_ENTRADA_PRODUTOS(
    DATA_CADASTRO,
    QTDE,
    CODIGO_PRODUTO)
AS
SELECT 
  NOTASFISCAIS.DATA_CADASTRO,
  NOTASFISCAIS_ITENS.QUANTIDADE AS QTDE,
  NOTASFISCAIS_ITENS.CODIGO_PRODUTO
FROM
 NOTASFISCAIS
 INNER JOIN NOTASFISCAIS_ITENS ON (NOTASFISCAIS.CODIGO_NOTA=NOTASFISCAIS_ITENS.CODIGO_NOTA)
;



/* View: V_ESTOQUE */
CREATE VIEW V_ESTOQUE(
    CODIGO_BARRAS,
    DESCRICAO,
    PRECO_VENDA,
    ESTOQUE,
    VALOR_ESTOQUE)
AS
select
  "CODIGO_BARRAS",
  "DESCRICAO",
  "PRECO_VENDA",
  "ESTOQUE",
  "VALOR_ESTOQUE" from PRODUTOS
;



/* View: V_ESTOQUE_ATUAL */
CREATE VIEW V_ESTOQUE_ATUAL(
    CODIGO_BARRAS,
    DESCRICAO,
    PRECO_VENDA,
    ESTOQUE_ATUAL,
    ESTOQUE,
    VALOR_ESTOQUE_ATUAL,
    ATIVO)
AS
SELECT   CODIGO_BARRAS,
  DESCRICAO,
  PRECO_VENDA,
  ESTOQUE_ATUAL,
  ESTOQUE,
  VALOR_ESTOQUE_ATUAL,
  ativo
  from PRODUTOS WHERE ESTOQUE >= 1 and ativo='A'
;



/* View: V_ESTOQUE_ATUAL_CUSTO */
CREATE VIEW V_ESTOQUE_ATUAL_CUSTO(
    CODIGO,
    CODIGO_BARRAS,
    DESCRICAO,
    PRECO_CUSTO,
    PRECO_VENDA,
    ESTOQUE_ATUAL,
    ESTOQUE,
    VALOR_EST_CUSTO_ATUAL,
    VALOR_ESTOQUE,
    ATIVO,
    DESC_UNIDADE,
    CODIGO_GRUPO,
    CODIGO_SUBGRUPO,
    CODIGO_MARCA,
    SECCAO,
    CATEGORIA,
    CUSTO_MEDIO,
    V_T_CUSTO_MEDIO,
    VALOR_EST_CUSTO,
    NCM_SH,
    TIPO_ATIVIDADE,
    PRODUTO_PROPRIEDADE,
    ESTOQUE_FRACAO,
    V_T_CUSTO_FRACAO)
AS
SELECT
 codigo,
 CODIGO_BARRAS,
  DESCRICAO,
  PRECO_CUSTO,
  PRECO_VENDA,
  ESTOQUE_ATUAL,
  ESTOQUE,
  VALOR_EST_CUSTO_ATUAL,
  VALOR_ESTOQUE,
  ATIVO,
  DESC_UNIDADE,
  CODIGO_GRUPO,
  CODIGO_SUBGRUPO,
  CODIGO_MARCA,
  SECCAO,
  CATEGORIA,
  CUSTO_MEDIO,
  (ESTOQUE * CUSTO_MEDIO) AS TOTAL_CUSTO_MEDIO,
  VALOR_EST_CUSTO,
  NCM_SH,
  TIPO_ATIVIDADE,
  PRODUTO_PROPRIEDADE,
  ESTOQUE_FRACAO,
  (ESTOQUE_FRACAO * PRECO_CUSTO) AS TOTAL_CUSTO_FRACAO
  from PRODUTOS
  WHERE ESTOQUE >= 1 and ativo='A'
;



/* View: V_ESTOQUE_ATUAL_MAXIMO */
CREATE VIEW V_ESTOQUE_ATUAL_MAXIMO(
    CODIGO_BARRAS,
    DESCRICAO,
    ESTOQUE_MAXIMO,
    ESTOQUE_ATUAL,
    PRECO_CUSTO)
AS
SELECT CODIGO_BARRAS,DESCRICAO,ESTOQUE_MAXIMO,ESTOQUE_ATUAL, PRECO_CUSTO   FROM PRODUTOS WHERE ESTOQUE_ATUAL >=ESTOQUE_MAXIMO
;



/* View: V_ESTOQUE_ATUAL_MINIMO */
CREATE VIEW V_ESTOQUE_ATUAL_MINIMO(
    CODIGO_BARRAS,
    DESCRICAO,
    ESTOQUE_MINIMO,
    ESTOQUE_ATUAL,
    PRECO_CUSTO)
AS
SELECT CODIGO_BARRAS,DESCRICAO,ESTOQUE_MINIMO,ESTOQUE_ATUAL, PRECO_CUSTO  FROM PRODUTOS WHERE ESTOQUE_ATUAL <=ESTOQUE_MINIMO
;



/* View: V_ESTOQUE_ATUAL_ZERADO */
CREATE VIEW V_ESTOQUE_ATUAL_ZERADO(
    CODIGO_BARRAS,
    DESCRICAO,
    PRECO_VENDA,
    ESTOQUE_ATUAL,
    VALOR_ESTOQUE_ATUAL,
    ATIVO,
    PRECO_CUSTO)
AS
SELECT   CODIGO_BARRAS,
  DESCRICAO,PRECO_VENDA,ESTOQUE_ATUAL,VALOR_ESTOQUE_ATUAL, ativo, PRECO_CUSTO from PRODUTOS WHERE ESTOQUE_ATUAL <= 0  and ativo='A'
;



/* View: V_ESTOQUE_CUSTO */
CREATE VIEW V_ESTOQUE_CUSTO(
    CODIGO_BARRAS,
    DESCRICAO,
    PRECO_CUSTO,
    ESTOQUE,
    VALOR_EST_CUSTO)
AS
SELECT   CODIGO_BARRAS,
  DESCRICAO,PRECO_CUSTO,ESTOQUE,VALOR_EST_CUSTO from PRODUTOS
  WHERE ESTOQUE >= 1
;



/* View: V_ESTOQUE_CUSTO_SEM_CONSUMO */
CREATE VIEW V_ESTOQUE_CUSTO_SEM_CONSUMO(
    CODIGO,
    CODIGO_BARRAS,
    DESCRICAO,
    PRECO_CUSTO,
    PRECO_VENDA,
    ESTOQUE_ATUAL,
    ESTOQUE,
    VALOR_EST_CUSTO_ATUAL,
    VALOR_ESTOQUE,
    ATIVO,
    DESC_UNIDADE,
    CODIGO_GRUPO,
    CODIGO_SUBGRUPO,
    CODIGO_MARCA,
    SECCAO,
    CATEGORIA,
    CUSTO_MEDIO,
    V_T_CUSTO_MEDIO,
    VALOR_EST_CUSTO,
    NCM_SH,
    TIPO_ATIVIDADE,
    PRODUTO_PROPRIEDADE,
    ESTOQUE_FRACAO,
    V_T_CUSTO_FRACAO,
    CFOP_EST_COMPRA,
    CFOP_INTER_COMPRA)
AS
SELECT 
  PRODUTOS.CODIGO,
  PRODUTOS.CODIGO_BARRAS,
  PRODUTOS.DESCRICAO,
  PRODUTOS.PRECO_CUSTO,
  PRODUTOS.PRECO_VENDA,
  PRODUTOS.ESTOQUE_ATUAL,
  PRODUTOS.ESTOQUE,
  PRODUTOS.VALOR_EST_CUSTO_ATUAL,
  PRODUTOS.VALOR_ESTOQUE,
  PRODUTOS.ATIVO,
  PRODUTOS.DESC_UNIDADE,
  PRODUTOS.CODIGO_GRUPO,
  PRODUTOS.CODIGO_SUBGRUPO,
  PRODUTOS.CODIGO_MARCA,
  PRODUTOS.SECCAO,
  PRODUTOS.CATEGORIA,
  PRODUTOS.CUSTO_MEDIO,
  (ESTOQUE * CUSTO_MEDIO) AS TOTAL_CUSTO_MEDIO,
  PRODUTOS.VALOR_EST_CUSTO,
  PRODUTOS.NCM_SH,
  PRODUTOS.TIPO_ATIVIDADE,
  PRODUTOS.PRODUTO_PROPRIEDADE,
  PRODUTOS.ESTOQUE_FRACAO,
  (ESTOQUE_FRACAO * PRECO_CUSTO) AS TOTAL_CUSTO_FRACAO,
  GRUPO_TRIBUTACAO.CFOP_EST_COMPRA,
  GRUPO_TRIBUTACAO.CFOP_INTER_COMPRA
FROM
 PRODUTOS
 INNER JOIN GRUPO_TRIBUTACAO ON (PRODUTOS.GRUPO_TRIBUTACAO=GRUPO_TRIBUTACAO.COD_GRUPO)
WHERE
  (ESTOQUE >= 1) AND 
  (ATIVO = 'A') and GRUPO_TRIBUTACAO.CFOP_EST_COMPRA <>'1407' and
  GRUPO_TRIBUTACAO.CFOP_INTER_COMPRA <> '2407'
;



/* View: V_ESTOQUE_MAXIMO */
CREATE VIEW V_ESTOQUE_MAXIMO(
    CODIGO_BARRAS,
    DESCRICAO,
    ESTOQUE_MAXIMO,
    ESTOQUE)
AS
SELECT CODIGO_BARRAS,DESCRICAO,ESTOQUE_MAXIMO,ESTOQUE  FROM PRODUTOS WHERE ESTOQUE >=ESTOQUE_MAXIMO
;



/* View: V_ESTOQUE_MINIMO */
CREATE VIEW V_ESTOQUE_MINIMO(
    CODIGO_BARRAS,
    DESCRICAO,
    ESTOQUE_MINIMO,
    ESTOQUE)
AS
SELECT CODIGO_BARRAS,DESCRICAO,ESTOQUE_MINIMO,ESTOQUE  FROM PRODUTOS WHERE ESTOQUE <=ESTOQUE_MINIMO
;



/* View: V_ESTOQUE_ZERADO */
CREATE VIEW V_ESTOQUE_ZERADO(
    CODIGO_BARRAS,
    DESCRICAO,
    PRECO_VENDA,
    ESTOQUE,
    VALOR_ESTOQUE)
AS
SELECT   CODIGO_BARRAS,
  DESCRICAO,PRECO_VENDA,ESTOQUE,VALOR_ESTOQUE from PRODUTOS WHERE ESTOQUE <= 0
;



/* View: V_LOTES_ENTRADA */
CREATE VIEW V_LOTES_ENTRADA(
    CODIGO_BARRAS,
    LOTE_MED,
    DATA_FABRICACAO,
    DATA_VALIDADE,
    DESCRICAO,
    NUM_NOTA,
    DATA_EMISSAO)
AS
SELECT DISTINCT 
  NOTASFISCAIS_ITENS.CODIGO_BARRAS,
  NOTASFISCAIS_ITENS.LOTE_MED,
  NOTASFISCAIS_ITENS.DATA_FABRICACAO,
  NOTASFISCAIS_ITENS.DATA_VALIDADE,
  NOTASFISCAIS_ITENS.DESCRICAO,
  NOTASFISCAIS.NUM_NOTA,
  NOTASFISCAIS.DATA_EMISSAO
FROM
 NOTASFISCAIS_ITENS
 INNER JOIN NOTASFISCAIS ON (NOTASFISCAIS_ITENS.CODIGO_NOTA=NOTASFISCAIS.CODIGO_NOTA)
;



/* View: V_MOVIMENTO_BANCO */
CREATE VIEW V_MOVIMENTO_BANCO(
    CODIGO,
    DATA,
    HISTORICO,
    USUARIO,
    TIPO,
    VALOR_ENTRADA,
    VALOR_SAIDA,
    CODIGO_CC,
    NUMERO_CC)
AS
SELECT
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  CODIGO_CC,
  NUMERO_CC from MOVIMENTO_DIARIO
  WHERE TIPO ='B'
;



/* View: V_MOVIMENTO_CAIXA */
CREATE VIEW V_MOVIMENTO_CAIXA(
    CODIGO,
    DATA,
    HISTORICO,
    USUARIO,
    TIPO,
    VALOR_ENTRADA,
    VALOR_SAIDA,
    CODIGO_VENDA,
    ORIGEM)
AS
SELECT
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  CODIGO_VENDA,
  ORIGEM from MOVIMENTO_DIARIO
  WHERE TIPO ='C'
;



/* View: V_MOVIMENTO_CAIXA_AVU */
CREATE VIEW V_MOVIMENTO_CAIXA_AVU(
    CODIGO,
    DATA,
    HISTORICO,
    USUARIO,
    TIPO,
    VALOR_ENTRADA,
    VALOR_SAIDA,
    ORIGEM)
AS
SELECT
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  ORIGEM from MOVIMENTO_DIARIO
  WHERE TIPO ='C' AND ORIGEM='AVU'
;



/* View: V_MOVIMENTO_CAIXA_CH */
CREATE VIEW V_MOVIMENTO_CAIXA_CH(
    CODIGO,
    DATA,
    HISTORICO,
    USUARIO,
    TIPO,
    VALOR_ENTRADA,
    VALOR_SAIDA,
    ORIGEM)
AS
SELECT
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  ORIGEM from MOVIMENTO_DIARIO
  WHERE TIPO ='C' AND ORIGEM='CHE'
;



/* View: V_MOVIMENTO_CAIXA_FIN */
CREATE VIEW V_MOVIMENTO_CAIXA_FIN(
    CODIGO,
    DATA,
    HISTORICO,
    USUARIO,
    TIPO,
    VALOR_ENTRADA,
    VALOR_SAIDA,
    ORIGEM)
AS
SELECT
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  ORIGEM from MOVIMENTO_DIARIO
  WHERE TIPO ='C' AND ORIGEM='VAL'
;



/* View: V_MOVIMENTO_CAIXA_REC */
CREATE VIEW V_MOVIMENTO_CAIXA_REC(
    CODIGO,
    DATA,
    HISTORICO,
    USUARIO,
    TIPO,
    VALOR_ENTRADA,
    VALOR_SAIDA,
    ORIGEM)
AS
SELECT
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  ORIGEM from MOVIMENTO_DIARIO
  WHERE TIPO ='C' AND ORIGEM='REC'
;



/* View: V_MOVIMENTO_CAIXA_VEN */
CREATE VIEW V_MOVIMENTO_CAIXA_VEN(
    CODIGO,
    DATA,
    HISTORICO,
    USUARIO,
    TIPO,
    VALOR_ENTRADA,
    VALOR_SAIDA,
    ORIGEM)
AS
SELECT
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  ORIGEM from MOVIMENTO_DIARIO
  WHERE TIPO ='C' AND ORIGEM in ('VEN', 'PAG')
;



/* View: V_MOVIMENTO_DIARIO */
CREATE VIEW V_MOVIMENTO_DIARIO(
    CODIGO,
    DATA,
    HISTORICO,
    COD_USUARIO,
    USUARIO,
    TIPO,
    VALOR_ENTRADA,
    VALOR_SAIDA,
    CODIGO_CC,
    NUMERO_CC,
    CODIGO_VENDA,
    ORIGEM,
    COD_CREDIARIO,
    COD_COMPRA,
    N_CHEQUE,
    COD_PLANO,
    PRE_DATADO,
    NOMINAL,
    COMPENSADO,
    COD_CHEQUE,
    COD_CONTAS_PAGAR,
    DOC_LAN,
    CONCILIADO,
    COD_DOC,
    DOCUMENTO_LANC,
    COD_EMPRESA,
    HORA,
    DB_CR,
    VALOR,
    TIPO_MOV,
    STATUS,
    COD_FECHAMENTO)
AS
SELECT
	CODIGO,
	DATA,
	HISTORICO,
	COD_USUARIO,
	USUARIO,
	TIPO,
	VALOR_ENTRADA,
	VALOR_SAIDA,
	CODIGO_CC,
	NUMERO_CC,
	CODIGO_VENDA,
	ORIGEM,
	COD_CREDIARIO,
	COD_COMPRA,
	N_CHEQUE,
	COD_PLANO,
	PRE_DATADO,
	NOMINAL,
	COMPENSADO,
	COD_CHEQUE,
	COD_CONTAS_PAGAR,
	DOC_LAN,
	CONCILIADO,
	COD_DOC,
	DOCUMENTO_LANC,
	COD_EMPRESA,
	HORA,
	DB_CR,
	VALOR,
	TIPO_MOV,
	STATUS,
	COD_FECHAMENTO
FROM MOVIMENTO_DIARIO WHERE TIPO NOT IN('B')
;



/* View: V_NFCE_ITENS_SPED_C190 */
CREATE VIEW V_NFCE_ITENS_SPED_C190(
    NR_NOTA,
    CST,
    CFOP,
    VL_TOTAL,
    VL_BASE_ICM,
    VL_ICM,
    VL_IPI,
    ALIQ_ICM,
    ALIQ_IPI,
    VL_BASE_ICM_SUBST,
    ALIC_ICM_SUBST,
    VALOR_ICM_SUBST)
AS
SELECT DISTINCT
  nfece_itens.NR_NOTA,
  nfece_itens.CST,
  nfece_itens.CFOP,
  Sum(nfece_itens.VL_TOTAL) AS TOTAL_NOTA,
  Sum(nfece_itens.VL_BASE_ICM) AS  BASE_ICM,
  Sum(nfece_itens.VL_ICM) AS VALOR_ICM,
  Sum(nfece_itens.VL_IPI) AS VALOR_IPI,
  nfece_itens.aliq_icm,
  nfece_itens.ALIQ_IPI,
  Sum(nfece_itens.vL_BASE_ICM_SUBST) AS BASE_ICM_SUBST,
  nfece_itens.aliq_icm_subst,
  Sum(nfece_itens.VL_ICM_SUBST) AS VALOR_ICM_SUBST
FROM
 nfece_itens
GROUP BY
  nfece_itens.NR_NOTA,
  nfece_itens.CST,
  nfece_itens.CFOP,
  nfece_itens.ALIQ_ICM,
  nfece_itens.ALIQ_IPI,
  nfece_itens.ALIQ_ICM_SUBST
;



/* View: V_NFE_ITENS_SPED_C190 */
CREATE VIEW V_NFE_ITENS_SPED_C190(
    NR_NOTA,
    CST,
    CFOP,
    VL_TOTAL,
    VL_BASE_ICM,
    VL_ICM,
    VL_IPI,
    ALIQ_ICM,
    ALIQ_IPI,
    VL_BASE_ICM_SUBST,
    ALIC_ICM_SUBST,
    VALOR_ICM_SUBST,
    VL_DESCONTO)
AS
SELECT DISTINCT
  nfe_itens.NR_NOTA,
  nfe_itens.CST,
  nfe_itens.CFOP,
  Sum(nfe_itens.VL_TOTAL) AS TOTAL_NOTA,
  Sum(nfe_itens.VL_BASE_ICM) AS  BASE_ICM,
  Sum(nfe_itens.VL_ICM) AS VALOR_ICM,
  Sum(nfe_itens.VL_IPI) AS VALOR_IPI,
  nfe_itens.aliq_icm,
  nfe_itens.ALIQ_IPI,
  Sum(nfe_itens.vL_BASE_ICM_SUBST) AS BASE_ICM_SUBST,
  nfe_itens.aliq_icm_subst,
  Sum(nfe_itens.VL_ICM_SUBST) AS VALOR_ICM_SUBST,
  Sum(nfe_itens.VL_DESCONTO) AS VL_DESONTO
FROM
 nfe_itens
GROUP BY
  nfe_itens.NR_NOTA,
  nfe_itens.CST,
  nfe_itens.CFOP,
  nfe_itens.ALIQ_ICM,
  nfe_itens.ALIQ_IPI,
  nfe_itens.ALIQ_ICM_SUBST
;



/* View: V_NOTAFISCAIS_ITENS_SPED */
CREATE VIEW V_NOTAFISCAIS_ITENS_SPED(
    CODIGO_ITEM,
    CODIGO_PRODUTO,
    CODIGO_BARRAS,
    CODIGO_NOTA,
    DESCRICAO,
    NCM_SH,
    CST,
    CFOP,
    DESC_UNIDADE,
    QUANTIDADE,
    VALOR_UNI,
    VALOR_DESC,
    TOTAL_ITEM,
    DATA,
    BASE_ICMS,
    VALOR_ICMS,
    VALOR_IPI,
    PERC_ICMS,
    PERC_IPI,
    PRECO_VENDA,
    PRECO_VENDA2,
    DATA_VALIDADE,
    DATA_FABRICACAO,
    FRACAO,
    QUANT_FRACIONADA,
    LOTE_MED,
    MARG_LUCRO,
    ATIVO,
    BASE_ICMS_ST,
    ALIC_ICMS_ST,
    VALOR_ICMS_ST,
    COD_EMPRESA,
    CFOP_EST_COMPRA,
    CST_COMPRA,
    IMOBILZ,
    BASE_PIS,
    PERC_PIS,
    VALOR_PIS,
    BASE_COFINS,
    PERC_COFINS,
    VALOR_COFINS,
    BASE_IPI,
    SIT_PIS_COMPRA,
    SIT_COFINS_COMPRA,
    CST_IPI_ENTRADA,
    CFOP_INTER_COMPRA,
    CST_COMPRA_INTER,
    SUBTOTAL)
AS
SELECT 
  NOTASFISCAIS_ITENS.CODIGO_ITEM,
  NOTASFISCAIS_ITENS.CODIGO_PRODUTO,
  NOTASFISCAIS_ITENS.CODIGO_BARRAS,
  NOTASFISCAIS_ITENS.CODIGO_NOTA,
  NOTASFISCAIS_ITENS.DESCRICAO,
  NOTASFISCAIS_ITENS.NCM_SH,
  NOTASFISCAIS_ITENS.CST,
  NOTASFISCAIS_ITENS.CFOP,
  NOTASFISCAIS_ITENS.DESC_UNIDADE,
  NOTASFISCAIS_ITENS.QUANTIDADE,
  NOTASFISCAIS_ITENS.VALOR_UNI,
  NOTASFISCAIS_ITENS.VALOR_DESC,
  NOTASFISCAIS_ITENS.TOTAL_ITEM,
  NOTASFISCAIS_ITENS.DATA,
  NOTASFISCAIS_ITENS.BASE_ICMS,
  NOTASFISCAIS_ITENS.VALOR_ICMS,
  NOTASFISCAIS_ITENS.VALOR_IPI,
  NOTASFISCAIS_ITENS.PERC_ICMS,
  NOTASFISCAIS_ITENS.PERC_IPI,
  NOTASFISCAIS_ITENS.PRECO_VENDA,
  NOTASFISCAIS_ITENS.PRECO_VENDA2,
  NOTASFISCAIS_ITENS.DATA_VALIDADE,
  NOTASFISCAIS_ITENS.DATA_FABRICACAO,
  NOTASFISCAIS_ITENS.FRACAO,
  NOTASFISCAIS_ITENS.QUANT_FRACIONADA,
  NOTASFISCAIS_ITENS.LOTE_MED,
  NOTASFISCAIS_ITENS.MARG_LUCRO,
  NOTASFISCAIS_ITENS.ATIVO,
  NOTASFISCAIS_ITENS.BASE_ICMS_ST,
  NOTASFISCAIS_ITENS.ALIC_ICMS_ST,
  NOTASFISCAIS_ITENS.VALOR_ICMS_ST,
  NOTASFISCAIS_ITENS.COD_EMPRESA,
  GRUPO_TRIBUTACAO.CFOP_EST_COMPRA,
  GRUPO_TRIBUTACAO.CST_COMPRA,
  NOTASFISCAIS_ITENS.IMOBILZ,
  NOTASFISCAIS_ITENS.BASE_PIS,
  NOTASFISCAIS_ITENS.PERC_PIS,
  NOTASFISCAIS_ITENS.VALOR_PIS,
  NOTASFISCAIS_ITENS.BASE_COFINS,
  NOTASFISCAIS_ITENS.PERC_COFINS,
  NOTASFISCAIS_ITENS.VALOR_COFINS,
  NOTASFISCAIS_ITENS.BASE_IPI,
  GRUPO_TRIBUTACAO.SIT_PIS_COMPRA,
  GRUPO_TRIBUTACAO.SIT_COFINS_COMPRA,
  GRUPO_TRIBUTACAO.cst_ipi_entrada,
  GRUPO_TRIBUTACAO.cfop_inter_compra,
  grupo_tributacao.cst_compra_inter,
 NOTASFISCAIS_ITENS.subtotal
 
FROM
 PRODUTOS
 INNER JOIN GRUPO_TRIBUTACAO ON (PRODUTOS.GRUPO_TRIBUTACAO=GRUPO_TRIBUTACAO.COD_GRUPO)
 INNER JOIN NOTASFISCAIS_ITENS ON (NOTASFISCAIS_ITENS.CODIGO_PRODUTO=PRODUTOS.CODIGO)
;



/* View: V_NOTAS_ITENS_SPED_C190 */
CREATE VIEW V_NOTAS_ITENS_SPED_C190(
    CODIGO_NOTA,
    TOTAL_NOTA,
    BASE_ICMS,
    VALOR_ICMS,
    VALOR_IPI,
    PERC_ICMS,
    PERC_IPI,
    BASE_ICMS_ST,
    ALIC_ICMS_ST,
    VALOR_ICMS_ST,
    VALOR_DESCONTO,
    CFOP,
    CST,
    SUBTOTAL,
    VALOR_OUTRAS)
AS
SELECT DISTINCT
  NOTASFISCAIS_ITENS.CODIGO_NOTA,
  Sum(NOTASFISCAIS_ITENS.TOTAL_ITEM) AS TOTAL_NOTA,
  Sum(NOTASFISCAIS_ITENS.BASE_ICMS) AS BASE_ICMS,
  Sum(NOTASFISCAIS_ITENS.VALOR_ICMS) AS VALOR_ICMS,
  Sum(NOTASFISCAIS_ITENS.VALOR_IPI) AS VALOR_IPI,
  NOTASFISCAIS_ITENS.PERC_ICMS,
  NOTASFISCAIS_ITENS.PERC_IPI,
  Sum(NOTASFISCAIS_ITENS.BASE_ICMS_ST) AS BASE_ICMS_ST,
  NOTASFISCAIS_ITENS.ALIC_ICMS_ST,
  Sum(NOTASFISCAIS_ITENS.VALOR_ICMS_ST) AS VALOR_ICMS_ST,
  Sum(NOTASFISCAIS_ITENS.VALOR_DESC) AS VALOR_DESCONTO,
  NOTASFISCAIS_ITENS.CFOP as CFOP,
  NOTASFISCAIS_ITENS.CST as CST,
  Sum(NOTASFISCAIS_ITENS.subtotal) AS SUBTOTAL,
  Sum(NOTASFISCAIS_ITENS.outras) AS valor_outras

FROM
 NOTASFISCAIS_ITENS
GROUP BY
  NOTASFISCAIS_ITENS.CODIGO_NOTA,
  NOTASFISCAIS_ITENS.PERC_ICMS,
  NOTASFISCAIS_ITENS.PERC_IPI,
  NOTASFISCAIS_ITENS.ALIC_ICMS_ST,
  NOTASFISCAIS_ITENS.CFOP,
  NOTASFISCAIS_ITENS.CST
;



/* View: V_ORDEM_SERVICO */
CREATE VIEW V_ORDEM_SERVICO(
    ID_OS_ORDEMSERVICO,
    ID_EMPRESA,
    ID_OS_PRIORIDADE,
    ID_OS_TIPOATENDIMENTO,
    ID_OS_STATUS,
    ID_CLIENTE,
    ID_OS_EQUIPAMENTO,
    ID_OS_EQUIPAMENTO_COR,
    ID_OS_EQUIP_LOCAL,
    ID_TECNICORESPONSAVEL,
    ID_USUARIO,
    SITUACAO,
    IDENTIFICADOR,
    EQUIPAMENTO_NSERIE,
    NUMERO_OS,
    NOMECONTATO,
    FLAGEXTERNA,
    DATA_ENTRADA,
    HORA_ENTRADA,
    DATA_SOLUCAO,
    HORA_SOLUCAO,
    CAMPO_DATAAGENDA,
    CAMPO_HORAAGENDA,
    CAMPO_DATACHEGADA,
    CAMPO_HORACHEGADA,
    CAMPO_DATASAIDA,
    CAMPO_HORASAIDA,
    CAMPO_DATARETORNO,
    CAMPO_HORARETORNO,
    CONSUMIDOR_NOME,
    CONSUMIDOR_ENDERECO,
    CONSUMIDOR_CPFCNPJ,
    CONSUMIDOR_TELEFONE,
    PRAZO_DATACONCLUSAO,
    PRAZO_HORACONCLUSAO,
    MODELO,
    OBS,
    ID_VENDA,
    DATA_ALTERACAO,
    OCORRENCIA,
    OBSEQUIPAMENTO,
    SOLUCAO,
    REVENDEDOR,
    MODALIDADE,
    GARANTIA,
    LACRE,
    GARANTIA_CAMPO1,
    DATA_PROXIMAREVISAO,
    CONSUMIDOR_RGINSCR,
    HORA_INICIO_ATEND,
    HORA_FIM_ATEND,
    USERCAD,
    DATACAD,
    USUARIO,
    MARCA,
    LOCAL,
    COR,
    MODELO1,
    STATUS,
    TIPO,
    PRIORIDADE,
    ID_OS_PRIORIDADE1,
    USERCAD1,
    DATACAD1,
    TIPOATENDIMENTO,
    KM,
    PLACA,
    VEICULO,
    BAIRRO,
    UF,
    CIDADE,
    CELULAR)
AS
SELECT 
  OS_ORDEMSERVICO.ID_OS_ORDEMSERVICO,
  OS_ORDEMSERVICO.ID_EMPRESA,
  OS_ORDEMSERVICO.ID_OS_PRIORIDADE,
  OS_ORDEMSERVICO.ID_OS_TIPOATENDIMENTO,
  OS_ORDEMSERVICO.ID_OS_STATUS,
  OS_ORDEMSERVICO.ID_CLIENTE,
  OS_ORDEMSERVICO.ID_OS_EQUIPAMENTO,
  OS_ORDEMSERVICO.ID_OS_EQUIPAMENTO_COR,
  OS_ORDEMSERVICO.ID_OS_EQUIP_LOCAL,
  OS_ORDEMSERVICO.ID_TECNICORESPONSAVEL,
  OS_ORDEMSERVICO.ID_USUARIO,
  OS_ORDEMSERVICO.SITUACAO,
  OS_ORDEMSERVICO.IDENTIFICADOR,
  OS_ORDEMSERVICO.EQUIPAMENTO_NSERIE,
  OS_ORDEMSERVICO.NUMERO_OS,
  OS_ORDEMSERVICO.NOMECONTATO,
  OS_ORDEMSERVICO.FLAGEXTERNA,
  OS_ORDEMSERVICO.DATA_ENTRADA,
  OS_ORDEMSERVICO.HORA_ENTRADA,
  OS_ORDEMSERVICO.DATA_SOLUCAO,
  OS_ORDEMSERVICO.HORA_SOLUCAO,
  OS_ORDEMSERVICO.CAMPO_DATAAGENDA,
  OS_ORDEMSERVICO.CAMPO_HORAAGENDA,
  OS_ORDEMSERVICO.CAMPO_DATACHEGADA,
  OS_ORDEMSERVICO.CAMPO_HORACHEGADA,
  OS_ORDEMSERVICO.CAMPO_DATASAIDA,
  OS_ORDEMSERVICO.CAMPO_HORASAIDA,
  OS_ORDEMSERVICO.CAMPO_DATARETORNO,
  OS_ORDEMSERVICO.CAMPO_HORARETORNO,
  OS_ORDEMSERVICO.CONSUMIDOR_NOME,
  OS_ORDEMSERVICO.CONSUMIDOR_ENDERECO,
  OS_ORDEMSERVICO.CONSUMIDOR_CPFCNPJ,
  OS_ORDEMSERVICO.CONSUMIDOR_TELEFONE,
  OS_ORDEMSERVICO.PRAZO_DATACONCLUSAO,
  OS_ORDEMSERVICO.PRAZO_HORACONCLUSAO,
  OS_ORDEMSERVICO.MODELO,
  OS_ORDEMSERVICO.OBS,
  OS_ORDEMSERVICO.ID_VENDA,
  OS_ORDEMSERVICO.DATA_ALTERACAO,
  OS_ORDEMSERVICO.OCORRENCIA,
  OS_ORDEMSERVICO.OBSEQUIPAMENTO,
  OS_ORDEMSERVICO.SOLUCAO,
  OS_ORDEMSERVICO.REVENDEDOR,
  OS_ORDEMSERVICO.MODALIDADE,
  OS_ORDEMSERVICO.GARANTIA,
  OS_ORDEMSERVICO.LACRE,
  OS_ORDEMSERVICO.GARANTIA_CAMPO1,
  OS_ORDEMSERVICO.DATA_PROXIMAREVISAO,
  OS_ORDEMSERVICO.CONSUMIDOR_RGINSCR,
  OS_ORDEMSERVICO.HORA_INICIO_ATEND,
  OS_ORDEMSERVICO.HORA_FIM_ATEND,
  OS_ORDEMSERVICO.USERCAD,
  OS_ORDEMSERVICO.DATACAD,
  USUARIOS.USUARIO,
  OS_BENS_MARCAS.MARCA,
  OS_BENS_LOCAL.LOCAL,
  OS_BEM_COR.COR,
  OS_BENS.MODELO,
  OS_STATUS_ATENDIMENTO.STATUS,
  OS_BENS_TIPO.TIPO,
  OS_PRIORIDADE.PRIORIDADE,
  OS_PRIORIDADE.ID_OS_PRIORIDADE,
  OS_PRIORIDADE.USERCAD,
  OS_PRIORIDADE.DATACAD,
  OS_TIPOATENDIMENTO.TIPOATENDIMENTO,
  OS_ORDEMSERVICO.KM,
  OS_ORDEMSERVICO.PLACA,
  OS_ORDEMSERVICO.VEICULO,
  CLIENTES.bairro,
  CLIENTES.uf,
  CLIENTES.cidade,
  CLIENTES.celular
FROM
 OS_ORDEMSERVICO
 INNER JOIN OS_BENS_LOCAL ON (OS_ORDEMSERVICO.ID_OS_EQUIP_LOCAL=OS_BENS_LOCAL.ID_OS_LOCALEQUIPAMENTO)
 INNER JOIN OS_BENS ON (OS_ORDEMSERVICO.ID_OS_EQUIPAMENTO=OS_BENS.ID_OS_EQUIPAMENTOS)
 INNER JOIN OS_STATUS_ATENDIMENTO ON (OS_ORDEMSERVICO.ID_OS_STATUS=OS_STATUS_ATENDIMENTO.ID_OS_STATUS)
 INNER JOIN OS_BEM_COR ON (OS_ORDEMSERVICO.ID_OS_EQUIPAMENTO_COR=OS_BEM_COR.ID_OS_EQUIPAMENTO_COR)
 INNER JOIN USUARIOS ON (OS_ORDEMSERVICO.ID_TECNICORESPONSAVEL=USUARIOS.CODIGO)
 INNER JOIN OS_BENS_TIPO ON (OS_BENS.ID_OS_EQUIPAMENTO_TIPO=OS_BENS_TIPO.ID_OS_EQUIPAMENTO_TIPO)
 INNER JOIN OS_BENS_MARCAS ON (OS_BENS.ID_OS_EQUIPAMENTO_MARCA=OS_BENS_MARCAS.ID_OS_EQUIPAMENTO_MARCAS)
 INNER JOIN OS_PRIORIDADE ON (OS_ORDEMSERVICO.ID_OS_PRIORIDADE=OS_PRIORIDADE.ID_OS_PRIORIDADE)
 INNER JOIN OS_TIPOATENDIMENTO ON (OS_ORDEMSERVICO.ID_OS_TIPOATENDIMENTO=OS_TIPOATENDIMENTO.ID_OS_TIPO)
 INNER JOIN CLIENTES ON (OS_ORDEMSERVICO.ID_CLIENTE=CLIENTES.CODIGO)
;



/* View: V_OS_EQUIPAMENTOS */
CREATE VIEW V_OS_EQUIPAMENTOS(
    ID_OS_EQUIPAMENTOS,
    ID_OS_EQUIPAMENTO_TIPO,
    ID_OS_EQUIPAMENTO_MARCA,
    MODELO,
    ID_OS_EQUIPAMENTOS_STR,
    TIPO,
    MARCA)
AS
SELECT
   E.ID_OS_EQUIPAMENTOS, E.ID_OS_EQUIPAMENTO_TIPO,E.ID_OS_EQUIPAMENTO_MARCA,
   E.MODELO,
   CAST(E.ID_OS_EQUIPAMENTOS AS VARCHAR(15)) AS ID_OS_EQUIPAMENTOS_STR, T.TIPO, M.MARCA
FROM
   OS_bens E, OS_bens_TIPO T, OS_bens_MARCAS M
WHERE
   T.ID_OS_EQUIPAMENTO_TIPO =  E.ID_OS_EQUIPAMENTO_TIPO AND
   ID_OS_EQUIPAMENTO_MARCAS = E.ID_OS_EQUIPAMENTO_MARCA
;



/* View: V_PEDIDO_ITENS */
CREATE VIEW V_PEDIDO_ITENS(
    CODIGO,
    CODIGO_ID,
    ITEN,
    CODIGO_PROD,
    CODIGO_PRODUTO,
    DESCRICAO_PRODUTO,
    PRECO_UNITARIO,
    DESCONTO,
    QUANTIDADE,
    PRECO_TOTAL,
    COMISSAO,
    DEV,
    QNT_DEV,
    VAL_DEV,
    ENC_FINANCEIRO,
    UNIDADE,
    SIT_TRIBUTARIA,
    VENDEDOR,
    FRACAO,
    COD_NCM,
    PROD_SERV,
    PERC_ISS,
    BASE_ISS,
    VL_ISS,
    PERC_ICM,
    BASE_ICMS,
    VL_ICM,
    PERC_IPI,
    BASE_IPI,
    VL_IPI,
    PERC_COFINS,
    BASE_COFINS,
    VL_COFINS,
    PERC_ICMS_SUBST,
    BASE_ICMS_SUBST,
    VL_ICMS_SUBST,
    PERC_PIS,
    BASE_PIS,
    VL_PIS,
    IMPRIME,
    COD_EMPRESA,
    ID_BICO,
    ID_TANQUE,
    ID_BOMBA,
    BICO,
    APLICACAO,
    REFERENCIA,
    NOME_MARCA)
AS
SELECT
  PEDIDOS_ITENS.CODIGO,
  PEDIDOS_ITENS.CODIGO_ID,
  PEDIDOS_ITENS.ITEN,
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.CODIGO_PRODUTO,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.PRECO_UNITARIO,
  PEDIDOS_ITENS.DESCONTO,
  PEDIDOS_ITENS.QUANTIDADE,
  PEDIDOS_ITENS.PRECO_TOTAL,
  PEDIDOS_ITENS.COMISSAO,
  PEDIDOS_ITENS.DEV,
  PEDIDOS_ITENS.QNT_DEV,
  PEDIDOS_ITENS.VAL_DEV,
  PEDIDOS_ITENS.ENC_FINANCEIRO,
  PEDIDOS_ITENS.UNIDADE,
  PEDIDOS_ITENS.SIT_TRIBUTARIA,
  PEDIDOS_ITENS.VENDEDOR,
  PEDIDOS_ITENS.FRACAO,
  PEDIDOS_ITENS.COD_NCM,
  PEDIDOS_ITENS.PROD_SERV,
  PEDIDOS_ITENS.PERC_ISS,
  PEDIDOS_ITENS.BASE_ISS,
  PEDIDOS_ITENS.VL_ISS,
  PEDIDOS_ITENS.PERC_ICM,
  PEDIDOS_ITENS.BASE_ICMS,
  PEDIDOS_ITENS.VL_ICM,
  PEDIDOS_ITENS.PERC_IPI,
  PEDIDOS_ITENS.BASE_IPI,
  PEDIDOS_ITENS.VL_IPI,
  PEDIDOS_ITENS.PERC_COFINS,
  PEDIDOS_ITENS.BASE_COFINS,
  PEDIDOS_ITENS.VL_COFINS,
  PEDIDOS_ITENS.PERC_ICMS_SUBST,
  PEDIDOS_ITENS.BASE_ICMS_SUBST,
  PEDIDOS_ITENS.VL_ICMS_SUBST,
  PEDIDOS_ITENS.PERC_PIS,
  PEDIDOS_ITENS.BASE_PIS,
  PEDIDOS_ITENS.VL_PIS,
  PEDIDOS_ITENS.IMPRIME,
  PEDIDOS_ITENS.COD_EMPRESA,
  PEDIDOS_ITENS.ID_BICO,
  PEDIDOS_ITENS.ID_TANQUE,
  PEDIDOS_ITENS.ID_BOMBA,
  PEDIDOS_ITENS.BICO,
  PRODUTOS.APLICACAO,
  PRODUTOS.REFERENCIA,
  PRODUTOS.nome_marca
FROM
 PEDIDOS_ITENS
 INNER JOIN PRODUTOS ON (PEDIDOS_ITENS.CODIGO_PROD=PRODUTOS.CODIGO)
;



/* View: V_PEDIDOS */
CREATE VIEW V_PEDIDOS(
    CODIGO,
    VALOR_ITENS,
    VALOR_DESCONTO,
    VALOR_TOTAL,
    VALOR_COMISSAO,
    USUARIO,
    DATA_PEDIDO,
    DATA_ENTREGA,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    PAGAMENTO,
    STATUS,
    SITUACAO,
    USUARIO_ENTREGA,
    ENC_FINANCEIRO,
    TP,
    OBSERVACOES,
    COD_VENDEDOR,
    COD_PAGTO,
    N_CUPOM,
    N_ECF,
    COD_EMPRESA,
    HORA,
    VALOR_ACRESCIMOS,
    COD_ORCAMENTO,
    COD_PEDIDO,
    COD_OS,
    NUM_NOTA,
    SERIE_NOTA)
AS
SELECT 
  PEDIDOS.CODIGO,
  PEDIDOS.VALOR_ITENS,
  PEDIDOS.VALOR_DESCONTO,
  PEDIDOS.VALOR_TOTAL,
  PEDIDOS.VALOR_COMISSAO,
  PEDIDOS.USUARIO,
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS.DATA_ENTREGA,
  PEDIDOS.CODIGO_CLIENTE,
  PEDIDOS.NOME_CLIENTE,
  PEDIDOS.PAGAMENTO,
  PEDIDOS.STATUS,
  PEDIDOS.SITUACAO,
  PEDIDOS.USUARIO_ENTREGA,
  PEDIDOS.ENC_FINANCEIRO,
  PEDIDOS.TP,
  PEDIDOS.OBSERVACOES,
  PEDIDOS.COD_VENDEDOR,
  PEDIDOS.COD_PAGTO,
  PEDIDOS.N_CUPOM,
  PEDIDOS.N_ECF,
  PEDIDOS.COD_EMPRESA,
  PEDIDOS.HORA,
  PEDIDOS.VALOR_ACRESCIMOS,
  PEDIDOS.COD_ORCAMENTO,
  PEDIDOS.COD_PEDIDO,
  PEDIDOS.COD_OS,
  PEDIDOS.NUM_NOTA,
  PEDIDOS.SERIE_NOTA
FROM
 PEDIDOS
ORDER BY
  PEDIDOS.CODIGO,
  PEDIDOS.VALOR_ITENS,
  PEDIDOS.VALOR_DESCONTO,
  PEDIDOS.VALOR_TOTAL,
  PEDIDOS.VALOR_COMISSAO,
  PEDIDOS.USUARIO,
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS.DATA_ENTREGA,
  PEDIDOS.CODIGO_CLIENTE,
  PEDIDOS.NOME_CLIENTE,
  PEDIDOS.PAGAMENTO,
  PEDIDOS.STATUS,
  PEDIDOS.SITUACAO,
  PEDIDOS.USUARIO_ENTREGA,
  PEDIDOS.ENC_FINANCEIRO,
  PEDIDOS.TP,
  PEDIDOS.OBSERVACOES,
  PEDIDOS.COD_VENDEDOR,
  PEDIDOS.COD_PAGTO,
  PEDIDOS.N_CUPOM,
  PEDIDOS.N_ECF,
  PEDIDOS.COD_EMPRESA,
  PEDIDOS.HORA,
  PEDIDOS.VALOR_ACRESCIMOS,
  PEDIDOS.COD_ORCAMENTO,
  PEDIDOS.COD_PEDIDO,
  PEDIDOS.COD_OS,
  PEDIDOS.NUM_NOTA,
  PEDIDOS.SERIE_NOTA
;



/* View: V_PEDIDOS_N */
CREATE VIEW V_PEDIDOS_N(
    CODIGO,
    VALOR_ITENS,
    VALOR_DESCONTO,
    VALOR_TOTAL,
    VALOR_COMISSAO,
    USUARIO,
    USUARIO_ENTREGA,
    DATA_PEDIDO,
    DATA_ENTREGA,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    STATUS,
    PAGAMENTO,
    OBSERVACOES,
    ENC_FINANCEIRO,
    TP)
AS
SELECT
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  USUARIO_ENTREGA,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  OBSERVACOES,
  ENC_FINANCEIRO,
  TP from PEDIDOS WHERE  SITUACAO = 'N'
;



/* View: V_PEDIDOS_ALMOXARIFADO */
CREATE VIEW V_PEDIDOS_ALMOXARIFADO(
    CODIGO,
    VALOR_ITENS,
    VALOR_DESCONTO,
    VALOR_TOTAL,
    VALOR_COMISSAO,
    ENC_FINANCEIRO,
    USUARIO,
    USUARIO_ENTREGA,
    DATA_PEDIDO,
    DATA_ENTREGA,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    PAGAMENTO,
    STATUS,
    TP,
    OBSERVACOES)
AS
SELECT
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  ENC_FINANCEIRO,
  USUARIO,
  USUARIO_ENTREGA,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO,
  STATUS,
  TP,
  OBSERVACOES from V_PEDIDOS_N WHERE  STATUS = 'A'
;



/* View: V_PEDIDOS_C */
CREATE VIEW V_PEDIDOS_C(
    CODIGO,
    VALOR_ITENS,
    VALOR_DESCONTO,
    VALOR_TOTAL,
    VALOR_COMISSAO,
    USUARIO,
    DATA_PEDIDO,
    DATA_ENTREGA,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    STATUS,
    PAGAMENTO,
    OBSERVACOES)
AS
SELECT
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  OBSERVACOES from PEDIDOS WHERE  SITUACAO = 'C'
;



/* View: V_PEDIDOS_CAIXA */
CREATE VIEW V_PEDIDOS_CAIXA(
    CODIGO,
    VALOR_ITENS,
    VALOR_DESCONTO,
    VALOR_TOTAL,
    VALOR_COMISSAO,
    ENC_FINANCEIRO,
    USUARIO,
    DATA_PEDIDO,
    DATA_ENTREGA,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    PAGAMENTO,
    STATUS,
    TP,
    OBSERVACOES,
    VALOR_AVISTA,
    VALOR_PRAZO)
AS
SELECT
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  ENC_FINANCEIRO,
  USUARIO,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO,
  STATUS,
  TP,
  OBSERVACOES,
  VALOR_AVISTA,
  VALOR_PRAZO from PEDIDOS WHERE SITUACAO='N' AND STATUS = 'C'
;



/* View: V_PEDIDOS_CANCELAR */
CREATE VIEW V_PEDIDOS_CANCELAR(
    CODIGO,
    VALOR_ITENS,
    VALOR_DESCONTO,
    VALOR_TOTAL,
    VALOR_COMISSAO,
    ENC_FINANCEIRO,
    USUARIO,
    USUARIO_ENTREGA,
    DATA_PEDIDO,
    DATA_ENTREGA,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    PAGAMENTO,
    TP,
    OBSERVACOES,
    SITUACAO)
AS
SELECT
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  ENC_FINANCEIRO,
  USUARIO,
  USUARIO_ENTREGA,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO,
  TP,
  OBSERVACOES,
  SITUACAO from PEDIDOS WHERE  SITUACAO = 'N'
;



/* View: V_PEDIDOS_CREDIARIO */
CREATE VIEW V_PEDIDOS_CREDIARIO(
    CODIGO,
    VALOR_ITENS,
    VALOR_DESCONTO,
    VALOR_TOTAL,
    VALOR_COMISSAO,
    ENC_FINANCEIRO,
    USUARIO,
    USUARIO_ENTREGA,
    DATA_PEDIDO,
    DATA_ENTREGA,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    PAGAMENTO,
    STATUS,
    TP,
    OBSERVACOES)
AS
SELECT
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  ENC_FINANCEIRO,
  USUARIO,
  USUARIO_ENTREGA,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO,
  STATUS,
  TP,
  OBSERVACOES from V_PEDIDOS_N WHERE  TP = 'C'
;



/* View: V_PEDIDOS_DESC */
CREATE VIEW V_PEDIDOS_DESC(
    VALOR_DESCONTO,
    CODIGO,
    VALOR_ITENS,
    ENC_FINANCEIRO,
    VALOR_TOTAL,
    VALOR_COMISSAO,
    USUARIO,
    DATA_PEDIDO,
    DATA_ENTREGA,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    PAGAMENTO,
    STATUS,
    SITUACAO,
    USUARIO_ENTREGA,
    TP,
    OBSERVACOES,
    COD_VENDEDOR,
    COD_PAGTO,
    N_CUPOM,
    N_ECF,
    COD_EMPRESA,
    HORA,
    VALOR_ACRESCIMOS,
    COD_ORCAMENTO,
    COD_PEDIDO,
    COD_OS,
    NUM_NOTA,
    SERIE_NOTA,
    ENDERECO,
    CPF_CNPJ,
    RG_IE,
    FONE,
    CIDADE,
    BAIRRO,
    N_PARTIDA,
    PROPRIEDADE,
    QUANT_VENDIDA,
    SALDO_VENDIDO,
    MED_VETERINARIO,
    DATA_VACINA,
    VALOR_AVISTA,
    VALOR_PRAZO,
    UF,
    COD_IBGE,
    CEP,
    NUMERO,
    TIPO,
    VALOR_PAGO,
    VALOR_TROCO,
    ENTREGADOR,
    TIPO_PEDIDO,
    FECHADO,
    MESA,
    REFERENCIA,
    CELULAR,
    PROD_RURAL,
    IE_PRODUTOR,
    VLR_PIS,
    VLR_COFINS,
    KM,
    CHAVE_FP,
    CHAVE_FP_CANCEL)
AS
SELECT DISTINCT 
  PEDIDOS.VALOR_DESCONTO,
  PEDIDOS.CODIGO,
  PEDIDOS.VALOR_ITENS,
  PEDIDOS.ENC_FINANCEIRO,
  PEDIDOS.VALOR_TOTAL,
  PEDIDOS.VALOR_COMISSAO,
  PEDIDOS.USUARIO,
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS.DATA_ENTREGA,
  PEDIDOS.CODIGO_CLIENTE,
  PEDIDOS.NOME_CLIENTE,
  PEDIDOS.PAGAMENTO,
  PEDIDOS.STATUS,
  PEDIDOS.SITUACAO,
  PEDIDOS.USUARIO_ENTREGA,
  PEDIDOS.TP,
  PEDIDOS.OBSERVACOES,
  PEDIDOS.COD_VENDEDOR,
  PEDIDOS.COD_PAGTO,
  PEDIDOS.N_CUPOM,
  PEDIDOS.N_ECF,
  PEDIDOS.COD_EMPRESA,
  PEDIDOS.HORA,
  PEDIDOS.VALOR_ACRESCIMOS,
  PEDIDOS.COD_ORCAMENTO,
  PEDIDOS.COD_PEDIDO,
  PEDIDOS.COD_OS,
  PEDIDOS.NUM_NOTA,
  PEDIDOS.SERIE_NOTA,
  PEDIDOS.ENDERECO,
  PEDIDOS.CPF_CNPJ,
  PEDIDOS.RG_IE,
  PEDIDOS.FONE,
  PEDIDOS.CIDADE,
  PEDIDOS.BAIRRO,
  PEDIDOS.N_PARTIDA,
  PEDIDOS.PROPRIEDADE,
  PEDIDOS.QUANT_VENDIDA,
  PEDIDOS.SALDO_VENDIDO,
  PEDIDOS.MED_VETERINARIO,
  PEDIDOS.DATA_VACINA,
  PEDIDOS.VALOR_AVISTA,
  PEDIDOS.VALOR_PRAZO,
  PEDIDOS.UF,
  PEDIDOS.COD_IBGE,
  PEDIDOS.CEP,
  PEDIDOS.NUMERO,
  PEDIDOS.TIPO,
  PEDIDOS.VALOR_PAGO,
  PEDIDOS.VALOR_TROCO,
  PEDIDOS.ENTREGADOR,
  PEDIDOS.TIPO_PEDIDO,
  PEDIDOS.FECHADO,
  PEDIDOS.MESA,
  PEDIDOS.REFERENCIA,
  PEDIDOS.CELULAR,
  PEDIDOS.PROD_RURAL,
  PEDIDOS.IE_PRODUTOR,
  PEDIDOS.VLR_PIS,
  PEDIDOS.VLR_COFINS,
  PEDIDOS.KM,
  PEDIDOS.CHAVE_FP,
  PEDIDOS.CHAVE_FP_CANCEL
FROM
 PEDIDOS
 WHERE VALOR_DESCONTO >'0'
;



/* View: V_PLANO_ANALITICO */
CREATE VIEW V_PLANO_ANALITICO(
    CODIGO,
    NOME,
    COD_COMPLETO,
    ENTRADA,
    SAIDA,
    DATA,
    VALOR)
AS
SELECT 
  PLANOCONTAS.CODIGO,
  PLANOCONTAS.NOME,
  PLANOCONTAS.COD_COMPLETO,
  sum( MOVIMENTO_DIARIO.VALOR_ENTRADA) as ENTRADA,
  SUM(MOVIMENTO_DIARIO.VALOR_SAIDA) AS SAIDA,
  MOVIMENTO_DIARIO.DATA,
  SUM (MOVIMENTO_DIARIO.VALOR) AS VALOR
FROM
 PLANOCONTAS
 INNER JOIN MOVIMENTO_DIARIO ON (PLANOCONTAS.CODIGO=MOVIMENTO_DIARIO.COD_PLANO)
 GROUP BY
  PLANOCONTAS.CODIGO,
  PLANOCONTAS.NOME,
  PLANOCONTAS.COD_COMPLETO,
  MOVIMENTO_DIARIO.DATA
;



/* View: V_PREVENDA_FORMAS_PAGAMENTO */
CREATE VIEW V_PREVENDA_FORMAS_PAGAMENTO(
    COD_VENDA,
    COD_FORMA,
    VALOR,
    TIPO,
    DESC_FORMA)
AS
SELECT
	COD_VENDA,
	COD_FORMA,
	VALOR,
	TIPO,
	DESC_FORMA
FROM PREVENDA_FORMAS_PAGAMENTO
whEre VALOR > 0
;



/* View: V_PRODENT */
CREATE VIEW V_PRODENT(
    CODIGO,
    NOME_FORNECEDOR,
    PRECO_CUSTO,
    ESTOQUE,
    UNIDADE,
    ICMS,
    MARGEM_LUCRO,
    PRECO_VENDA)
AS
SELECT DISTINCT CODIGO,NOME_FORNECEDOR,PRECO_CUSTO,ESTOQUE,UNIDADE,
              ICMS,MARGEM_LUCRO,PRECO_VENDA FROM PRODUTOS
;



/* View: V_PRODUTO_PDV */
CREATE VIEW V_PRODUTO_PDV(
    CODIGO,
    CODIGO_BARRAS,
    DESCRICAO,
    ABREVIADO,
    PRECO_VENDA,
    COMISSAO,
    DESCONTO_MAXIMO,
    ESTOQUE_ATUAL,
    ESTOQUE_VENDIDO,
    ESTOQUE,
    SIT_TRIBUTARIA,
    FOTO,
    DESC_UNIDADE,
    REFERENCIA,
    PRECO_VENDA2,
    FRACAO,
    NCM_SH,
    PROD_SERV)
AS
SELECT DISTINCT
  CODIGO,
  CODIGO_BARRAS,
  DESCRICAO,
  ABREVIADO,
  PRECO_VENDA,
  COMISSAO,
  DESCONTO_MAXIMO,
  ESTOQUE_ATUAL,
  ESTOQUE_VENDIDO,
  ESTOQUE,
  SIT_TRIBUTARIA,
  FOTO,
  DESC_UNIDADE,
  REFERENCIA,
  PRECO_VENDA2,
  fracao,
  ncm_sh,
  prod_serv

  FROM PRODUTOS
;



/* View: V_PRODUTOS_FARDO */
CREATE VIEW V_PRODUTOS_FARDO(
    CODIGO,
    CODIGO_BARRAS,
    QUANT_VENDA,
    VALOR_VENDA,
    DESCRICAO,
    UNID,
    ABREVIADO,
    PRECO_CUSTO,
    MARGEM_LUCRO,
    COMISSAO,
    UNIDADE,
    FRETE,
    ICMS,
    IPI_IRPJ,
    OUTROS_IMPOSTOS,
    DESCONTOS,
    CLASS_FISCAL,
    SIT_TRIBUTARIA,
    CUSTO_MEDIO,
    PRECO_VENDA,
    DESCONTO_MAXIMO,
    CODIGO_GRUPO,
    CODIGO_SUBGRUPO,
    CODIGO_MARCA,
    NOME_GRUPO,
    NOME_SUBGRUPO,
    NOME_MARCA,
    NOME_FORNECEDOR,
    CODIGO_FORNECEDORES,
    FOTO,
    ESTOQUE,
    ESTOQUE_MINIMO,
    ESTOQUE_MAXIMO,
    DATACAD,
    USERCAD,
    VALOR_EST_CUSTO_ATUAL,
    ULTIMACOMPRA,
    VALOR_EST_CUSTO,
    SECCAO,
    CATEGORIA,
    LOCALIZACAO,
    APLICACAO,
    ESP_COD_AUX,
    GARANTIA,
    BALANCA,
    ETIQUETA,
    ATIVO,
    REFERENCIA,
    COD_EMPRESA,
    DESC_UNIDADE,
    PESOBRUTO,
    PESOLIQUIDO,
    FONETICO,
    DATAULTALTERACAO,
    CUSTOREPOSICAO,
    PRECO_ANT,
    PRECO_PROMOCAO,
    FLAG_PROMOCAO,
    DT_INICIO_PROMO,
    DT_FIM_PROMO,
    COD_LABORATORIO,
    LABORATORIO,
    PRINCIPIO_ATIVO,
    MED_CONTROLADO,
    QTD_FRACIONADA,
    QTD_CAIXA,
    MED_GENERICO,
    LOTE_MED,
    VALIDADE,
    CHEK_BOX,
    PRECO_VENDA2,
    MARGEM_LUCRO2,
    VALIDADE_PRODUTO,
    PROD_SERV,
    UNIDADE_ENT,
    DESC_UNID_ENT,
    QUANT_SAIDA,
    QUANT_ENTRADA,
    ESTOQUE_FRACAO,
    DATA_FABRICACAO,
    FRACAO,
    NCM_SH,
    COD_MS,
    CONTOLAESTOQUE,
    PRODUTOCOMPOSTO,
    TIPO_ATIVIDADE,
    COD_PRODUTO_ESTOQUE,
    CODIGO_LOCAL_ESTOQUE,
    LISTA_ABC,
    GRUPO_TRIBUTACAO,
    COMBUSTIVEL,
    COR,
    ENABLE_NUMSERIE,
    ID_PRODUTOS,
    COD_ANP,
    CESTA,
    ML_QUANT_BEB,
    UND_TRIB,
    CHASSI,
    COR_DESC,
    N_MOTOR,
    ANO_FAB,
    ANO_MOD_FAB,
    TIPO_VEIC,
    N_SERIE,
    COD_MODELO,
    ESPECIE_VEICULO,
    COD_COR_DENATRAN,
    TIPO_COMBUSTIVEL,
    VEICULO,
    USA_RENTABILIDADE,
    USA_SERIAL,
    USA_GRADE,
    PRODUTO_PROPRIEDADE,
    MULTIP_FRACAO,
    DATA_REMARCACAO_VENDA,
    CODORIGINAL,
    DATA_ULTIMA_COMPRA,
    ALERTA_COPA,
    ALERTA_COZINHA,
    ANDROID_VISUALIZA,
    TEMPO_PREPARO,
    SABORES,
    COD_PACOTE)
AS
SELECT 
  PRODUTOS_FARDO.CODIGO,
  PRODUTOS_FARDO.CODIGO_BARRAS,
  PRODUTOS_FARDO.QUANT_VENDA,
  PRODUTOS_FARDO.VALOR_VENDA,
  PRODUTOS_FARDO.DESCRICAO,
  PRODUTOS_FARDO.UNID,
  PRODUTOS.ABREVIADO,
  PRODUTOS.PRECO_CUSTO,
  PRODUTOS.MARGEM_LUCRO,
  PRODUTOS.COMISSAO,
  PRODUTOS.UNIDADE,
  PRODUTOS.FRETE,
  PRODUTOS.ICMS,
  PRODUTOS.IPI_IRPJ,
  PRODUTOS.OUTROS_IMPOSTOS,
  PRODUTOS.DESCONTOS,
  PRODUTOS.CLASS_FISCAL,
  PRODUTOS.SIT_TRIBUTARIA,
  PRODUTOS.CUSTO_MEDIO,
  PRODUTOS.PRECO_VENDA,
  PRODUTOS.DESCONTO_MAXIMO,
  PRODUTOS.CODIGO_GRUPO,
  PRODUTOS.CODIGO_SUBGRUPO,
  PRODUTOS.CODIGO_MARCA,
  PRODUTOS.NOME_GRUPO,
  PRODUTOS.NOME_SUBGRUPO,
  PRODUTOS.NOME_MARCA,
  PRODUTOS.NOME_FORNECEDOR,
  PRODUTOS.CODIGO_FORNECEDORES,
  PRODUTOS.FOTO,
  PRODUTOS.ESTOQUE,
  PRODUTOS.ESTOQUE_MINIMO,
  PRODUTOS.ESTOQUE_MAXIMO,
  PRODUTOS.DATACAD,
  PRODUTOS.USERCAD,
  PRODUTOS.VALOR_EST_CUSTO_ATUAL,
  PRODUTOS.ULTIMACOMPRA,
  PRODUTOS.VALOR_EST_CUSTO,
  PRODUTOS.SECCAO,
  PRODUTOS.CATEGORIA,
  PRODUTOS.LOCALIZACAO,
  PRODUTOS.APLICACAO,
  PRODUTOS.ESP_COD_AUX,
  PRODUTOS.GARANTIA,
  PRODUTOS.BALANCA,
  PRODUTOS.ETIQUETA,
  PRODUTOS.ATIVO,
  PRODUTOS.REFERENCIA,
  PRODUTOS.COD_EMPRESA,
  PRODUTOS.DESC_UNIDADE,
  PRODUTOS.PESOBRUTO,
  PRODUTOS.PESOLIQUIDO,
  PRODUTOS.FONETICO,
  PRODUTOS.DATAULTALTERACAO,
  PRODUTOS.CUSTOREPOSICAO,
  PRODUTOS.PRECO_ANT,
  PRODUTOS.PRECO_PROMOCAO,
  PRODUTOS.FLAG_PROMOCAO,
  PRODUTOS.DT_INICIO_PROMO,
  PRODUTOS.DT_FIM_PROMO,
  PRODUTOS.COD_LABORATORIO,
  PRODUTOS.LABORATORIO,
  PRODUTOS.PRINCIPIO_ATIVO,
  PRODUTOS.MED_CONTROLADO,
  PRODUTOS.QTD_FRACIONADA,
  PRODUTOS.QTD_CAIXA,
  PRODUTOS.MED_GENERICO,
  PRODUTOS.LOTE_MED,
  PRODUTOS.VALIDADE,
  PRODUTOS.CHEK_BOX,
  PRODUTOS.PRECO_VENDA2,
  PRODUTOS.MARGEM_LUCRO2,
  PRODUTOS.VALIDADE_PRODUTO,
  PRODUTOS.PROD_SERV,
  PRODUTOS.UNIDADE_ENT,
  PRODUTOS.DESC_UNID_ENT,
  PRODUTOS.QUANT_SAIDA,
  PRODUTOS.QUANT_ENTRADA,
  PRODUTOS.ESTOQUE_FRACAO,
  PRODUTOS.DATA_FABRICACAO,
  PRODUTOS.FRACAO,
  PRODUTOS.NCM_SH,
  PRODUTOS.COD_MS,
  PRODUTOS.CONTOLAESTOQUE,
  PRODUTOS.PRODUTOCOMPOSTO,
  PRODUTOS.TIPO_ATIVIDADE,
  PRODUTOS.COD_PRODUTO_ESTOQUE,
  PRODUTOS.CODIGO_LOCAL_ESTOQUE,
  PRODUTOS.LISTA_ABC,
  PRODUTOS.GRUPO_TRIBUTACAO,
  PRODUTOS.COMBUSTIVEL,
  PRODUTOS.COR,
  PRODUTOS.ENABLE_NUMSERIE,
  PRODUTOS.ID_PRODUTOS,
  PRODUTOS.COD_ANP,
  PRODUTOS.CESTA,
  PRODUTOS.ML_QUANT_BEB,
  PRODUTOS.UND_TRIB,
  PRODUTOS.CHASSI,
  PRODUTOS.COR_DESC,
  PRODUTOS.N_MOTOR,
  PRODUTOS.ANO_FAB,
  PRODUTOS.ANO_MOD_FAB,
  PRODUTOS.TIPO_VEIC,
  PRODUTOS.N_SERIE,
  PRODUTOS.COD_MODELO,
  PRODUTOS.ESPECIE_VEICULO,
  PRODUTOS.COD_COR_DENATRAN,
  PRODUTOS.TIPO_COMBUSTIVEL,
  PRODUTOS.VEICULO,
  PRODUTOS.USA_RENTABILIDADE,
  PRODUTOS.USA_SERIAL,
  PRODUTOS.USA_GRADE,
  PRODUTOS.PRODUTO_PROPRIEDADE,
  PRODUTOS.MULTIP_FRACAO,
  PRODUTOS.DATA_REMARCACAO_VENDA,
  PRODUTOS.CODORIGINAL,
  PRODUTOS.DATA_ULTIMA_COMPRA,
  PRODUTOS.ALERTA_COPA,
  PRODUTOS.ALERTA_COZINHA,
  PRODUTOS.ANDROID_VISUALIZA,
  PRODUTOS.TEMPO_PREPARO,
  PRODUTOS.SABORES,
  PRODUTOS.COD_PACOTE
FROM
 PRODUTOS_FARDO
 INNER JOIN PRODUTOS ON (PRODUTOS_FARDO.CODIGO=PRODUTOS.CODIGO)
;



/* View: V_PRODUTOS_IMOVEL */
CREATE VIEW V_PRODUTOS_IMOVEL(
    ID,
    ID_PRODUTOS,
    VALOR_ALUGUEL,
    VALOR_VENDA,
    COD_IPTU,
    COD_AGUA,
    COD_ENERGIA,
    AGUA_ATIVO,
    ENERGIA_ATIVO,
    DATA_ENERGIA,
    DATA_AGUA,
    PLACA,
    PLACA_NUMERO,
    PLACA_REFERENCIA,
    CARTORIO,
    MATRICULA,
    AREA_TERRENO,
    LADO_ESQUERDO,
    LADO_DIREIRO,
    CIDADE,
    CEP,
    UF,
    COD_INGE,
    ENDERECO,
    NUMERO,
    BAIRRO,
    SITUACAO,
    DESCRICAO,
    PRECO_VENDA,
    CUSTO_MEDIO,
    PRECO_CUSTO,
    DATACAD,
    USERCAD,
    DATAULTALTERACAO,
    TESTADA,
    PROFUNDIDADE,
    N_LOTE,
    QUADRA,
    N_SUITES,
    N_QUARTOS,
    N_SALAS,
    N_BANHEIROS,
    N_GARAGENS,
    DESC_UNIDADE,
    ABREVIADO)
AS
SELECT 
  PRODUTOS_IMOVEL.ID,
  PRODUTOS_IMOVEL.ID_PRODUTOS,
  PRODUTOS_IMOVEL.VALOR_ALUGUEL,
  PRODUTOS_IMOVEL.VALOR_VENDA,
  PRODUTOS_IMOVEL.COD_IPTU,
  PRODUTOS_IMOVEL.COD_AGUA,
  PRODUTOS_IMOVEL.COD_ENERGIA,
  PRODUTOS_IMOVEL.AGUA_ATIVO,
  PRODUTOS_IMOVEL.ENERGIA_ATIVO,
  PRODUTOS_IMOVEL.DATA_ENERGIA,
  PRODUTOS_IMOVEL.DATA_AGUA,
  PRODUTOS_IMOVEL.PLACA,
  PRODUTOS_IMOVEL.PLACA_NUMERO,
  PRODUTOS_IMOVEL.PLACA_REFERENCIA,
  PRODUTOS_IMOVEL.CARTORIO,
  PRODUTOS_IMOVEL.MATRICULA,
  PRODUTOS_IMOVEL.AREA_TERRENO,
  PRODUTOS_IMOVEL.LADO_ESQUERDO,
  PRODUTOS_IMOVEL.LADO_DIREIRO,
  PRODUTOS_IMOVEL.CIDADE,
  PRODUTOS_IMOVEL.CEP,
  PRODUTOS_IMOVEL.UF,
  PRODUTOS_IMOVEL.COD_INGE,
  PRODUTOS_IMOVEL.ENDERECO,
  PRODUTOS_IMOVEL.NUMERO,
  PRODUTOS_IMOVEL.BAIRRO,
  PRODUTOS_IMOVEL.SITUACAO,
  PRODUTOS.DESCRICAO,
  PRODUTOS.PRECO_VENDA,
  PRODUTOS.CUSTO_MEDIO,
  PRODUTOS.PRECO_CUSTO,
  PRODUTOS.DATACAD,
  PRODUTOS.USERCAD,
  PRODUTOS.DATAULTALTERACAO,
  PRODUTOS_IMOVEL.TESTADA,
  PRODUTOS_IMOVEL.PROFUNDIDADE,
  PRODUTOS_IMOVEL.N_LOTE,
  PRODUTOS_IMOVEL.QUADRA,
  PRODUTOS_IMOVEL.N_SUITES,
  PRODUTOS_IMOVEL.N_QUARTOS,
  PRODUTOS_IMOVEL.N_SALAS,
  PRODUTOS_IMOVEL.N_BANHEIROS,
  PRODUTOS_IMOVEL.N_GARAGENS,
  PRODUTOS.DESC_UNIDADE,
  PRODUTOS.ABREVIADO
FROM
 PRODUTOS_IMOVEL
 INNER JOIN PRODUTOS ON (PRODUTOS_IMOVEL.ID_PRODUTOS=PRODUTOS.CODIGO)
;



/* View: V_PRODUTOS_LAT_BAIXAS */
CREATE VIEW V_PRODUTOS_LAT_BAIXAS(
    FORNECEDOR,
    CODIGO_FORNECEDOR,
    AUTORIZACAO,
    SOMADEVALOR_BAIXA,
    MES,
    ANO)
AS
SELECT 
  CONTASPAGAR.FORNECEDOR,
  CONTASPAGAR.CODIGO_FORNECEDOR,
  CONTAS_PAGAR.AUTORIZACAO,
  Sum(CONTAS_PAGAR.VALOR_BAIXA) AS SOMADEVALOR_BAIXA,
  CONTASPAGAR.MES,
  CONTASPAGAR.ANO
FROM
 CONTASPAGAR
 INNER JOIN CONTAS_PAGAR ON (CONTASPAGAR.CODIGO=CONTAS_PAGAR.CODIGO)
GROUP BY
  CONTASPAGAR.FORNECEDOR,
  CONTASPAGAR.CODIGO_FORNECEDOR,
  CONTAS_PAGAR.AUTORIZACAO,
  CONTASPAGAR.MES,
  CONTASPAGAR.ANO
having
  (((Sum(CONTAS_PAGAR.VALOR_BAIXA))>0))
;



/* View: V_PRODUTOS_LAT_FORNECEDOR */
CREATE VIEW V_PRODUTOS_LAT_FORNECEDOR(
    COD_FORNECEDOR,
    QUANTIDADE,
    VALOR_LEITE,
    VALOR_TOTAL,
    NOME,
    MES,
    ANO,
    COD_LINHA)
AS
SELECT 
  laticinios.cod_fornecedor,
  laticinio.QUANTIDADE,
  laticinio.valor_leite,
  laticinio.valor_total,
  FORNECEDORES.NOME,
  LATICINIOS.MES,
  laticinios.ANO,
  FORNECEDORES.cod_linha
FROM
 LATICINIOS
 INNER JOIN LATICINIO ON (LATICINIOS.CODIGO=laticinio.codigo_id)
 INNER JOIN FORNECEDORES ON (laticinios.COD_FORNECEDOR=FORNECEDORES.CODIGO)
;



/* View: V_PRODUTOS_LAT_FORN_SUM */
CREATE VIEW V_PRODUTOS_LAT_FORN_SUM(
    COD_FORNECEDOR,
    SOMAQUANTIDADE,
    SOMAVALOR_LEITE,
    SOMAVALOR_TOTAL,
    NOME,
    MES,
    ANO,
    COD_LINHA)
AS
SELECT V_PRODUTOS_LAT_FORNECEDOR.COD_FORNECEDOR,
Sum(V_PRODUTOS_LAT_FORNECEDOR.QUANTIDADE) AS SOMAQUANTIDADE,
Sum(V_PRODUTOS_LAT_FORNECEDOR.VALOR_LEITE)  AS SOMAVALOR_LEITE,
Sum(V_PRODUTOS_LAT_FORNECEDOR.VALOR_TOTAL) AS SOMAVALOR_TOTAL,
V_PRODUTOS_LAT_FORNECEDOR.NOME,
V_PRODUTOS_LAT_FORNECEDOR.MES,
V_PRODUTOS_LAT_FORNECEDOR.ANO,
V_PRODUTOS_LAT_FORNECEDOR.cod_linha
FROM V_PRODUTOS_LAT_FORNECEDOR
GROUP BY V_PRODUTOS_LAT_FORNECEDOR.COD_FORNECEDOR,
 V_PRODUTOS_LAT_FORNECEDOR.NOME,
 V_PRODUTOS_LAT_FORNECEDOR.MES,
 V_PRODUTOS_LAT_FORNECEDOR.ANO,
 V_PRODUTOS_LAT_FORNECEDOR.cod_linha
;



/* View: V_PRODUTOS_LATICINIO */
CREATE VIEW V_PRODUTOS_LATICINIO(
    CODIGO,
    COD_FORNECEDOR,
    NOME_FORNECEDOR,
    COD_EMPRESA,
    DATAI,
    DATAF,
    VALOR_TOTAL,
    N_DOCUMENTO,
    CODIGO_ID,
    DATA_LANCAMENTO,
    COD_FORNECEDOR1,
    NOME_FORNECEDOR1,
    LINHA,
    QUANTIDADE,
    VALOR_LEITE,
    VALOR_TOTAL1,
    PRODUTO,
    UNIDADE,
    CODIGO1,
    NOME,
    ENDERECO,
    CIDADE,
    ESTADO,
    CEP,
    TELEFONE,
    FAX,
    EMAIL,
    HOMEPAGE,
    TIPO,
    CNPJ,
    IE,
    BAIRRO,
    REPRESCELULAR,
    USERCAD,
    DATACADASTRO,
    OBSERVACOES,
    REPRESNOME,
    REPRESFONEFAX,
    REPRESEMAIL,
    REPRESOBSERVACOES,
    PRODUTOR_RURAL,
    INSC_PRODUTOR,
    COD_LINHA,
    LINHA1,
    COD_EMPRESA1,
    VALOR_LEITE1,
    ANO,
    MES)
AS
SELECT 
  LATICINIOS.CODIGO,
  LATICINIOS.COD_FORNECEDOR,
  LATICINIOS.NOME_FORNECEDOR,
  LATICINIOS.COD_EMPRESA,
  LATICINIOS.DATAI,
  LATICINIOS.DATAF,
  LATICINIOS.VALOR_TOTAL,
  LATICINIOS.N_DOCUMENTO,
  LATICINIO.CODIGO_ID,
  LATICINIO.DATA_LANCAMENTO,
  LATICINIO.COD_FORNECEDOR,
  LATICINIO.NOME_FORNECEDOR,
  LATICINIO.LINHA,
  LATICINIO.QUANTIDADE,
  LATICINIO.VALOR_LEITE,
  LATICINIO.VALOR_TOTAL,
  LATICINIO.PRODUTO,
  LATICINIO.UNIDADE,
  FORNECEDORES.CODIGO,
  FORNECEDORES.NOME,
  FORNECEDORES.ENDERECO,
  FORNECEDORES.CIDADE,
  FORNECEDORES.ESTADO,
  FORNECEDORES.CEP,
  FORNECEDORES.TELEFONE,
  FORNECEDORES.FAX,
  FORNECEDORES.EMAIL,
  FORNECEDORES.HOMEPAGE,
  FORNECEDORES.TIPO,
  FORNECEDORES.CNPJ,
  FORNECEDORES.IE,
  FORNECEDORES.BAIRRO,
  FORNECEDORES.REPRESCELULAR,
  FORNECEDORES.USERCAD,
  FORNECEDORES.DATACADASTRO,
  FORNECEDORES.OBSERVACOES,
  FORNECEDORES.REPRESNOME,
  FORNECEDORES.REPRESFONEFAX,
  FORNECEDORES.REPRESEMAIL,
  FORNECEDORES.REPRESOBSERVACOES,
  FORNECEDORES.PRODUTOR_RURAL,
  FORNECEDORES.INSC_PRODUTOR,
  FORNECEDORES.COD_LINHA,
  FORNECEDORES.LINHA,
  FORNECEDORES.COD_EMPRESA,
  FORNECEDORES.VALOR_LEITE,
  LATICINIOS.ANO,
  LATICINIOS.MES
FROM
 LATICINIOS
 INNER JOIN LATICINIO ON (LATICINIOS.CODIGO=LATICINIO.CODIGO_ID)
 INNER JOIN FORNECEDORES ON (LATICINIOS.COD_FORNECEDOR=FORNECEDORES.CODIGO)
 WHERE
  (FORNECEDORES.PRODUTOR_RURAL = 'S')
;



/* View: V_PRODUTOS_LATICINIOS_BAIXAS */
CREATE VIEW V_PRODUTOS_LATICINIOS_BAIXAS(
    DATA_CADASTRO,
    DATA_EMISSAO,
    DATA_VENCIMENTO,
    N_DOCUMENTO,
    CODIGO_FORNECEDOR,
    FORNECEDOR,
    VALOR_PARCELA,
    VALOR_BAIXA,
    DATA_BAIXA,
    AUTORIZACAO,
    TIPO_DOCUMENTO,
    CODIGO,
    PARCELA)
AS
SELECT 
  CONTASPAGAR.DATA_CADASTRO,
  CONTASPAGAR.DATA_EMISSAO,
  CONTASPAGAR.DATA_VENCIMENTO,
  CONTASPAGAR.N_DOCUMENTO,
  CONTASPAGAR.CODIGO_FORNECEDOR,
  CONTASPAGAR.FORNECEDOR,
  CONTAS_PAGAR.VALOR_PARCELA,
  CONTAS_PAGAR.VALOR_BAIXA,
  CONTAS_PAGAR.DATA_BAIXA,
  CONTAS_PAGAR.AUTORIZACAO,
  CONTAS_PAGAR.TIPO_DOCUMENTO,
  CONTASPAGAR.CODIGO,
  CONTAS_PAGAR.PARCELA
FROM
 CONTASPAGAR
 INNER JOIN CONTAS_PAGAR ON (CONTASPAGAR.CODIGO=CONTAS_PAGAR.CODIGO)
WHERE
  (CONTAS_PAGAR.AUTORIZACAO = 'B')
;



/* View: V_PRODUTOS_P_COMPRA */
CREATE VIEW V_PRODUTOS_P_COMPRA(
    COD_EMPRESA,
    CODIGO_SEQ,
    COD_PRODUTO,
    COD_USUARIO,
    DATA_FALTA,
    FRACAO,
    QUANT_FRACAO,
    QUANT_INTEIRA,
    DESCRICAO,
    PRECO_CUSTO,
    PRECO_VENDA,
    PRECO_VENDA2,
    MED_GENERICO,
    QTD_FRACIONADA,
    QTD_CAIXA,
    MED_CONTROLADO,
    PRINCIPIO_ATIVO,
    LABORATORIO,
    COD_LABORATORIO,
    CODIGO_MARCA,
    NOME_GRUPO,
    NOME_SUBGRUPO,
    NOME_MARCA,
    CODIGO_SUBGRUPO,
    CODIGO_GRUPO,
    CATEGORIA,
    DESCRICAO1,
    VALOR_TOTAL)
AS
SELECT 
  PRODUTOS_FALTA.COD_EMPRESA,
  PRODUTOS_FALTA.CODIGO_SEQ,
  PRODUTOS_FALTA.COD_PRODUTO,
  PRODUTOS_FALTA.COD_USUARIO,
  PRODUTOS_FALTA.DATA_FALTA,
  PRODUTOS_FALTA.FRACAO,
  PRODUTOS_FALTA.QUANT_FRACAO,
  PRODUTOS_FALTA.QUANT_INTEIRA,
  PRODUTOS.DESCRICAO,
  PRODUTOS.PRECO_CUSTO,
  PRODUTOS.PRECO_VENDA,
  PRODUTOS.PRECO_VENDA2,
  PRODUTOS.MED_GENERICO,
  PRODUTOS.QTD_FRACIONADA,
  PRODUTOS.QTD_CAIXA,
  PRODUTOS.MED_CONTROLADO,
  PRODUTOS.PRINCIPIO_ATIVO,
  PRODUTOS.LABORATORIO,
  PRODUTOS.COD_LABORATORIO,
  PRODUTOS.CODIGO_MARCA,
  PRODUTOS.NOME_GRUPO,
  PRODUTOS.NOME_SUBGRUPO,
  PRODUTOS.NOME_MARCA,
  PRODUTOS.CODIGO_SUBGRUPO,
  PRODUTOS.CODIGO_GRUPO,
  PRODUTOS.CATEGORIA,
  CATEGORIAS.DESCRICAO,
  (produtos_falta.quant_inteira * produtos.preco_custo)
FROM
 PRODUTOS_FALTA
 LEFT OUTER JOIN PRODUTOS ON (PRODUTOS_FALTA.COD_PRODUTO=PRODUTOS.CODIGO)
 INNER JOIN CATEGORIAS ON (PRODUTOS.CATEGORIA=CATEGORIAS.CODIGO)
;



/* View: V_PRODUTOS_VENDAS */
CREATE VIEW V_PRODUTOS_VENDAS(
    DATA_PEDIDO,
    CODIGO,
    CODIGO_ID,
    CODIGO_PROD,
    CODIGO_PRODUTO,
    DESCRICAO_PRODUTO,
    PRECO_UNITARIO,
    DESCONTO,
    QUANTIDADE,
    PRECO_TOTAL,
    COMISSAO,
    DEV,
    QNT_DEV,
    VAL_DEV,
    ENC_FINANCEIRO,
    UNIDADE,
    SIT_TRIBUTARIA,
    VENDEDOR,
    PRECO_CUSTO,
    CUSTO_MEDIO,
    PRECO_VENDA,
    CUSTO_TOTAL,
    CUSTO_T_MEDIO,
    PROD_SERV,
    CODIGO_GRUPO,
    CATEGORIA,
    SECCAO)
AS
select 
    pedidos.data_pedido,
    pedidos_itens.codigo,
    pedidos_itens.codigo_id,
    pedidos_itens.codigo_prod,
    pedidos_itens.codigo_produto,
    pedidos_itens.descricao_produto,
    pedidos_itens.preco_unitario,
    pedidos_itens.desconto,
    pedidos_itens.quantidade,
    pedidos_itens.preco_total,
    pedidos_itens.comissao,
    pedidos_itens.dev,
    pedidos_itens.qnt_dev,
    pedidos_itens.val_dev,
    pedidos_itens.enc_financeiro,
    pedidos_itens.unidade,
    pedidos_itens.sit_tributaria,
    pedidos_itens.vendedor,
    PRODUTOS.PRECO_CUSTO,
    PRODUTOS.CUSTO_MEDIO,
    PRODUTOS.PRECO_VENDA,
    (PEDIDOS_ITENS.QUANTIDADE * PRODUTOS.PRECO_CUSTO) AS custo_total,
    (PEDIDOS_ITENS.QUANTIDADE * PRODUTOS.CUSTO_MEDIO) AS custo_t_MEDIO,
    PRODUTOS.PROD_SERV,
    produtos.codigo_grupo,
    PRODUTOS.CATEGORIA,
    PRODUTOS.SECCAO
from pedidos_itens
   inner join pedidos on (pedidos_itens.codigo_id = pedidos.codigo)
   INNER JOIN PRODUTOS ON (PEDIDOS_ITENS.CODIGO_PROD=PRODUTOS.CODIGO)
;



/* View: V_PRODUTOSNOTASFISCAIS */
CREATE VIEW V_PRODUTOSNOTASFISCAIS(
    CODIGO,
    NOME_FORNECEDOR,
    DESCRICAO,
    PRECO_CUSTO,
    ESTOQUE_ATUAL,
    UNIDADE,
    ICMS,
    MARGEM_LUCRO,
    PRECO_VENDA)
AS
SELECT DISTINCT CODIGO,NOME_FORNECEDOR,DESCRICAO,PRECO_CUSTO,ESTOQUE_ATUAL,UNIDADE,
              ICMS,MARGEM_LUCRO,PRECO_VENDA FROM PRODUTOS
;



/* View: V_SIMILAR */
CREATE VIEW V_SIMILAR(
    CODIGO_SEQ,
    CODIGO_PROD,
    CODIGO_SIMILAR,
    DESC_SIMILAR,
    USERCAD,
    DATACAD,
    DESCRICAO,
    CODIGO_BARRAS,
    REFERENCIA)
AS
SELECT
  PRODUTO_SIMILAR.*,
  PRODUTOS.DESCRICAO,
  PRODUTOS.CODIGO_BARRAS,
  PRODUTOS.REFERENCIA
FROM
 PRODUTO_SIMILAR
 INNER JOIN PRODUTOS ON (PRODUTO_SIMILAR.CODIGO_SIMILAR=PRODUTOS.CODIGO)
;



/* View: V_SPED_C490 */
CREATE VIEW V_SPED_C490(
    CRZ,
    VALOR_TOTAL,
    SIT_TRIBUTARIA,
    PERC_ICM,
    BASE_ICMS,
    VALOR_ICMS,
    CFOP_EST_VENDA,
    CST_VENDA,
    VALOR_DESCONTO,
    ECF)
AS
SELECT
PEDIDOS.CRZ,
Sum(PEDIDOS_ITENS.PRECO_TOTAL) AS VALOR_TOTAL,
PEDIDOS_ITENS.SIT_TRIBUTARIA,
PEDIDOS_ITENS.perc_icm,
Sum(PEDIDOS_ITENS.BASE_ICMS) AS BASE_ICMS,
Sum(PEDIDOS_ITENS.VL_ICM) AS VALOR_ICMS,
GRUPO_TRIBUTACAO.CFOP_EST_VENDA,
GRUPO_TRIBUTACAO.CST_VENDA,
Sum(PEDIDOS_ITENS.desconto) AS VALOR_DESCONTO,
PEDIDOS.N_ECF
FROM ((PEDIDOS INNER JOIN PEDIDOS_ITENS ON PEDIDOS.CODIGO = PEDIDOS_ITENS.CODIGO_ID) INNER JOIN PRODUTOS ON PEDIDOS_ITENS.CODIGO_PROD = PRODUTOS.CODIGO) INNER JOIN GRUPO_TRIBUTACAO ON PRODUTOS.GRUPO_TRIBUTACAO = GRUPO_TRIBUTACAO.COD_GRUPO
WHERE (((PEDIDOS.N_CUPOM)>'' AND CRZ IS NOT NULL))
GROUP BY PEDIDOS.CRZ,
PEDIDOS_ITENS.SIT_TRIBUTARIA,
PEDIDOS_ITENS.perc_icm,
GRUPO_TRIBUTACAO.CFOP_EST_VENDA,
GRUPO_TRIBUTACAO.CST_VENDA,
PEDIDOS.N_ECF
;



/* View: V_SPED_CARTOES */
CREATE VIEW V_SPED_CARTOES(
    VALOR,
    COD_SPED,
    CODIGO_BANDEIRA,
    EMISSAO)
AS
SELECT DISTINCT
  SUM(CONTAS_RECEBER_ADM_CARTAO.VALOR) AS VALOR,
  SPED_PARTICIPANTES.COD_SPED,
  CONTAS_RECEBER_ADM_CARTAO.CODIGO_BANDEIRA,
  CONTAS_RECEBER_ADM_CARTAO.EMISSAO
FROM
 CONTAS_RECEBER_ADM_CARTAO
 INNER JOIN PEDIDOS ON (CONTAS_RECEBER_ADM_CARTAO.COD_VEN=PEDIDOS.CODIGO)
 INNER JOIN SPED_PARTICIPANTES ON (CONTAS_RECEBER_ADM_CARTAO.COD_CLI=SPED_PARTICIPANTES.COD_CLIENTE)
WHERE
  (PEDIDOS.N_CUPOM > '' OR PEDIDOS.NUM_NOTA > 0)
  GROUP BY
    SPED_PARTICIPANTES.COD_SPED,
    CONTAS_RECEBER_ADM_CARTAO.CODIGO_BANDEIRA,
    CONTAS_RECEBER_ADM_CARTAO.EMISSAO
;



/* View: V_SPED_COPONS */
CREATE VIEW V_SPED_COPONS(
    CODIGO,
    DATA_PEDIDO,
    NOME_CLIENTE,
    CODIGO_CLIENTE,
    STATUS,
    SITUACAO,
    TP,
    N_CUPOM,
    N_ECF,
    VALOR_ITENS,
    ENC_FINANCEIRO,
    VALOR_DESCONTO,
    VALOR_TOTAL,
    SERIE_NOTA,
    NUM_NOTA,
    VALOR_ACRESCIMOS,
    CPF_CNPJ,
    VLR_PIS,
    VLR_COFINS,
    CANCELADO,
    CRZ)
AS
SELECT 
  PEDIDOS.CODIGO,
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS.NOME_CLIENTE,
  PEDIDOS.CODIGO_CLIENTE,
  PEDIDOS.STATUS,
  PEDIDOS.SITUACAO,
  PEDIDOS.TP,
  PEDIDOS.N_CUPOM,
  PEDIDOS.N_ECF,
  PEDIDOS.VALOR_ITENS,
  PEDIDOS.ENC_FINANCEIRO,
  PEDIDOS.VALOR_DESCONTO,
  PEDIDOS.VALOR_TOTAL,
  PEDIDOS.SERIE_NOTA,
  PEDIDOS.NUM_NOTA,
  PEDIDOS.VALOR_ACRESCIMOS,
  PEDIDOS.CPF_CNPJ,
  Sum(PEDIDOS_ITENS.VL_PIS) AS VL_TOTAL_PIS,
  Sum(PEDIDOS_ITENS.VL_COFINS) AS VL_TOTAL_COFINS,
  PEDIDOS.cupon_cancelado,
  PEDIDOS.CRZ
FROM
 PEDIDOS INNER JOIN PEDIDOS_ITENS ON PEDIDOS.CODIGO = PEDIDOS_ITENS.CODIGO_ID
WHERE
  (PEDIDOS.N_CUPOM > '' and PEDIDOS.CRZ is not null)
GROUP BY
PEDIDOS.CODIGO,
PEDIDOS.DATA_PEDIDO,
PEDIDOS.NOME_CLIENTE,
PEDIDOS.CODIGO_CLIENTE,
PEDIDOS.STATUS,
PEDIDOS.SITUACAO,
PEDIDOS.TP,
PEDIDOS.N_CUPOM,
PEDIDOS.N_ECF,
PEDIDOS.VALOR_ITENS,
PEDIDOS.ENC_FINANCEIRO,
PEDIDOS.VALOR_DESCONTO,
PEDIDOS.VALOR_TOTAL,
PEDIDOS.SERIE_NOTA,
PEDIDOS.NUM_NOTA,
PEDIDOS.VALOR_ACRESCIMOS,
PEDIDOS.CPF_CNPJ,
PEDIDOS.cupon_cancelado,
PEDIDOS.crz
;



/* View: V_SPED_CUPONS_ITENS */
CREATE VIEW V_SPED_CUPONS_ITENS(
    CODIGO,
    DATA_PEDIDO,
    CODIGO1,
    CODIGO_ID,
    ITEN,
    CODIGO_PROD,
    CODIGO_PRODUTO,
    DESCRICAO_PRODUTO,
    PRECO_UNITARIO,
    DESCONTO,
    QUANTIDADE,
    PRECO_TOTAL,
    COMISSAO,
    DEV,
    QNT_DEV,
    VAL_DEV,
    ENC_FINANCEIRO,
    UNIDADE,
    SIT_TRIBUTARIA,
    VENDEDOR,
    FRACAO,
    COD_NCM,
    PROD_SERV,
    PERC_ISS,
    BASE_ISS,
    VL_ISS,
    PERC_ICM,
    BASE_ICMS,
    VL_ICM,
    PERC_IPI,
    BASE_IPI,
    VL_IPI,
    PERC_COFINS,
    BASE_COFINS,
    VL_COFINS,
    PERC_ICMS_SUBST,
    BASE_ICMS_SUBST,
    VL_ICMS_SUBST,
    PERC_PIS,
    BASE_PIS,
    VL_PIS,
    IMPRIME,
    N_CUPOM,
    N_ECF,
    CFOP_EST_VENDA,
    CST_VENDA,
    CRZ)
AS
SELECT
  PEDIDOS.CODIGO,
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS_ITENS.CODIGO,
  PEDIDOS_ITENS.CODIGO_ID,
  PEDIDOS_ITENS.ITEN,
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.CODIGO_PRODUTO,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.PRECO_UNITARIO,
  PEDIDOS_ITENS.DESCONTO,
  PEDIDOS_ITENS.QUANTIDADE,
  PEDIDOS_ITENS.PRECO_TOTAL,
  PEDIDOS_ITENS.COMISSAO,
  PEDIDOS_ITENS.DEV,
  PEDIDOS_ITENS.QNT_DEV,
  PEDIDOS_ITENS.VAL_DEV,
  PEDIDOS_ITENS.ENC_FINANCEIRO,
  PEDIDOS_ITENS.UNIDADE,
  PEDIDOS_ITENS.SIT_TRIBUTARIA,
  PEDIDOS_ITENS.VENDEDOR,
  PEDIDOS_ITENS.FRACAO,
  PEDIDOS_ITENS.COD_NCM,
  PEDIDOS_ITENS.PROD_SERV,
  PEDIDOS_ITENS.PERC_ISS,
  PEDIDOS_ITENS.BASE_ISS,
  PEDIDOS_ITENS.VL_ISS,
  PEDIDOS_ITENS.PERC_ICM,
  PEDIDOS_ITENS.BASE_ICMS,
  PEDIDOS_ITENS.VL_ICM,
  PEDIDOS_ITENS.PERC_IPI,
  PEDIDOS_ITENS.BASE_IPI,
  PEDIDOS_ITENS.VL_IPI,
  PEDIDOS_ITENS.PERC_COFINS,
  PEDIDOS_ITENS.BASE_COFINS,
  PEDIDOS_ITENS.VL_COFINS,
  PEDIDOS_ITENS.PERC_ICMS_SUBST,
  PEDIDOS_ITENS.BASE_ICMS_SUBST,
  PEDIDOS_ITENS.VL_ICMS_SUBST,
  PEDIDOS_ITENS.PERC_PIS,
  PEDIDOS_ITENS.BASE_PIS,
  PEDIDOS_ITENS.VL_PIS,
  PEDIDOS_ITENS.IMPRIME,
  PEDIDOS.N_CUPOM,
  PEDIDOS.N_ECF,
  GRUPO_TRIBUTACAO.CFOP_EST_VENDA,
  GRUPO_TRIBUTACAO.CST_VENDA,
  pedidos.crz
FROM
 ((PEDIDOS INNER JOIN PEDIDOS_ITENS ON PEDIDOS.CODIGO = PEDIDOS_ITENS.CODIGO_ID) INNER JOIN PRODUTOS ON PEDIDOS_ITENS.CODIGO_PROD = PRODUTOS.CODIGO) INNER JOIN GRUPO_TRIBUTACAO ON PRODUTOS.GRUPO_TRIBUTACAO = GRUPO_TRIBUTACAO.COD_GRUPO
WHERE
  (PEDIDOS.N_CUPOM > '' and pedidos.crz is not null)
;



/* View: V_SPED_DESCONTOS_RED_Z */
CREATE VIEW V_SPED_DESCONTOS_RED_Z(
    DESCONTO,
    DATA_PEDIDO)
AS
SELECT DISTINCT 
  SUM(PEDIDOS.VALOR_DESCONTO) AS DESCONTO,
  PEDIDOS.DATA_PEDIDO
FROM
 PEDIDOS
WHERE
  (PEDIDOS.N_CUPOM > '')
GROUP BY
  PEDIDOS.DATA_PEDIDO
;



/* View: V_SPED_INVENTARIO */
CREATE VIEW V_SPED_INVENTARIO(
    CODIGO,
    DESCRICAO,
    PRECO_CUSTO,
    UNIDADE,
    PRECO_VENDA,
    ESTOQUE,
    VALOR_ESTOQUE,
    VALOR_EST_CUSTO,
    VALOR_EST_CUSTO_ATUAL,
    COD_BARRAS)
AS
SELECT 
  PRODUTOS.CODIGO,
  PRODUTOS.DESCRICAO,
  PRODUTOS.PRECO_CUSTO,
  PRODUTOS.UNIDADE,
  PRODUTOS.PRECO_VENDA,
  PRODUTOS.ESTOQUE,
  PRODUTOS.VALOR_ESTOQUE,
  PRODUTOS.VALOR_EST_CUSTO,
  PRODUTOS.VALOR_EST_CUSTO_ATUAL,
  produtos.CODIGO_BARRAS
FROM
 PRODUTOS
WHERE
  (PRODUTOS.ESTOQUE > 0)
;



/* View: V_SPED_ITENS_C425 */
CREATE VIEW V_SPED_ITENS_C425(
    DATA_PEDIDO,
    CODIGO_PROD,
    CODIGO_PRODUTO,
    CODIGO,
    QTD,
    TOTAL_ITEN,
    VL_COFINS,
    VL_PIS,
    SIT_TRIBUTARIA)
AS
SELECT DISTINCT 
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.codigo_produto,
  UNIDADES.CODIGO,
  sum(PEDIDOS_ITENS.QUANTIDADE) AS QTD,
  SUM(PEDIDOS_ITENS.PRECO_TOTAL) AS TOTAL_ITEN,
  SUM(PEDIDOS_ITENS.VL_COFINS) AS VL_COFINS,
  SUM(PEDIDOS_ITENS.VL_PIS) AS VL_PIS,
  PEDIDOS_ITENS.SIT_TRIBUTARIA
FROM
 PEDIDOS
 INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
 INNER JOIN UNIDADES ON (PEDIDOS_ITENS.UNIDADE=UNIDADES.ABREVIATURA)
 WHERE PEDIDOS.n_cupom >''
GROUP BY
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.codigo_produto,
  UNIDADES.CODIGO,
  PEDIDOS_ITENS.SIT_TRIBUTARIA
;



/* View: V_SPED_NFCE_SAIDA */
CREATE VIEW V_SPED_NFCE_SAIDA(
    CD_EMPRESA,
    NR_NOTA,
    COD_CLIENTE,
    FL_IMPRESSO,
    SERIE_NF,
    CD_CFOP,
    DT_EMISSAO,
    DT_LANCAMENTO,
    VL_ACRESCIMOS,
    VL_DESCONTOS,
    VL_MERCADORIAS,
    VL_SERVICOS,
    VL_TOTAL,
    COD_PGTO,
    VL_AVISTA,
    VL_PRAZO,
    PESO_TOTAL,
    QT_PECAS,
    CFOP_DESC,
    CD_TRANSPORTADORA,
    UF_ORIGEM,
    UF_DESTINO,
    PESO_LIQUIDO,
    VL_FRETE,
    VL_SEGURO,
    VL_BASE_ICM,
    VL_ICM,
    VL_BASE_ICM_SUBST,
    VL_ICM_SUBST,
    VL_IPI,
    VL_ISS,
    TP_FRETE,
    QT_VOLUMES,
    ESPECIE_VOLUMES,
    MARCA_VOLUMES,
    NR_VOLUMES,
    CD_TIPOCOBR,
    CD_FUNCIONARIO,
    DT_ATZ,
    PLACA_TRANSP,
    UF_PLACA_TRANSP,
    VL_OUTROS,
    NR_PEDIDO,
    VL_BASE_PIS,
    VL_PIS,
    VL_BASE_COFINS,
    VL_COFINS,
    VL_BASE_IPI,
    VL_BASE_ISS,
    VL_DESCONTO_ITEM,
    VL_ISENTO_ITENS,
    VL_OUTROS_ITENS,
    NR_PROTOCOLO_NFE,
    DT_PROCESSAMENTO_NFE,
    STATUS,
    NR_LOTE_NFE,
    NR_RECIBO_NFE,
    NR_PROTOCOLO_CANC_NFE,
    CHAVE_ACESSO_NFE,
    VL_FRETE_CONHECIMENTO,
    VL_ST_CONHECIMENTO,
    VL_ICM_CONHECIMENTO,
    BASE_ICM_PROPRIO_ST,
    VL_ICM_PROPRIO_ST,
    VL_BASE_ICM_SUBST_REAL,
    VL_ICM_SUBST_REAL,
    CNPJ_TRANSP,
    NOME_TRANSP,
    IE_TRANSP,
    END_TRANSPORTADOR,
    CIDADE_TRANSP,
    UF_TRANSP,
    TP,
    N_NOTA_ENTRADA,
    IE_PRODUTOR,
    PRODUTOR_RURAL,
    PAGAMENTO,
    COD_SPED,
    NOME,
    IE,
    CNPJ_CPF,
    COD_MUNICIPIO,
    LOGRADOURO,
    NUMERO,
    COMPLEMENTO,
    BAIRRO,
    SUFRAMA,
    PAIS,
    COD_CLIENTE1,
    COD_FORNECEDOR,
    COD_EMPRESA,
    TIPO,
    STATUS_INUTILIZADO,
    STATUS_CANCELADO,
    STATUS_EMAIL,
    DEPEC,
    CHAVE2,
    STATUS_RETORNO,
    JUSTIFICATIVA_CANCEL_INUTIL)
AS
SELECT
  NFECE_NOTA.CD_EMPRESA,
  NFECE_NOTA.NR_NOTA,
  NFECE_NOTA.COD_CLIENTE,
  NFECE_NOTA.FL_IMPRESSO,
  NFECE_NOTA.SERIE_NF,
  NFECE_NOTA.CD_CFOP,
  NFECE_NOTA.DT_EMISSAO,
  NFECE_NOTA.DT_LANCAMENTO,
  NFECE_NOTA.VL_ACRESCIMOS,
  NFECE_NOTA.VL_DESCONTOS,
  NFECE_NOTA.VL_MERCADORIAS,
  NFECE_NOTA.VL_SERVICOS,
  NFECE_NOTA.VL_TOTAL,
  NFECE_NOTA.COD_PGTO,
  NFECE_NOTA.VL_AVISTA,
  NFECE_NOTA.VL_PRAZO,
  NFECE_NOTA.PESO_TOTAL,
  NFECE_NOTA.QT_PECAS,
  NFECE_NOTA.CFOP_DESC,
  NFECE_NOTA.CD_TRANSPORTADORA,
  NFECE_NOTA.UF_ORIGEM,
  NFECE_NOTA.UF_DESTINO,
  NFECE_NOTA.PESO_LIQUIDO,
  NFECE_NOTA.VL_FRETE,
  NFECE_NOTA.VL_SEGURO,
  NFECE_NOTA.VL_BASE_ICM,
  NFECE_NOTA.VL_ICM,
  NFECE_NOTA.VL_BASE_ICM_SUBST,
  NFECE_NOTA.VL_ICM_SUBST,
  NFECE_NOTA.VL_IPI,
  NFECE_NOTA.VL_ISS,
  NFECE_NOTA.TP_FRETE,
  NFECE_NOTA.QT_VOLUMES,
  NFECE_NOTA.ESPECIE_VOLUMES,
  NFECE_NOTA.MARCA_VOLUMES,
  NFECE_NOTA.NR_VOLUMES,
  NFECE_NOTA.CD_TIPOCOBR,
  NFECE_NOTA.CD_FUNCIONARIO,
  NFECE_NOTA.DT_ATZ,
  NFECE_NOTA.PLACA_TRANSP,
  NFECE_NOTA.UF_PLACA_TRANSP,
  NFECE_NOTA.VL_OUTROS,
  NFECE_NOTA.NR_PEDIDO,
  NFECE_NOTA.VL_BASE_PIS,
  NFECE_NOTA.VL_PIS,
  NFECE_NOTA.VL_BASE_COFINS,
  NFECE_NOTA.VL_COFINS,
  NFECE_NOTA.VL_BASE_IPI,
  NFECE_NOTA.VL_BASE_ISS,
  NFECE_NOTA.VL_DESCONTO_ITEM,
  NFECE_NOTA.VL_ISENTO_ITENS,
  NFECE_NOTA.VL_OUTROS_ITENS,
  NFECE_NOTA.NR_PROTOCOLO_NFE,
  NFECE_NOTA.DT_PROCESSAMENTO_NFE,
  NFECE_NOTA.STATUS,
  NFECE_NOTA.NR_LOTE_NFE,
  NFECE_NOTA.NR_RECIBO_NFE,
  NFECE_NOTA.NR_PROTOCOLO_CANC_NFE,
  NFECE_NOTA.CHAVE_ACESSO_NFE,
  NFECE_NOTA.VL_FRETE_CONHECIMENTO,
  NFECE_NOTA.VL_ST_CONHECIMENTO,
  NFECE_NOTA.VL_ICM_CONHECIMENTO,
  NFECE_NOTA.BASE_ICM_PROPRIO_ST,
  NFECE_NOTA.VL_ICM_PROPRIO_ST,
  NFECE_NOTA.VL_BASE_ICM_SUBST_REAL,
  NFECE_NOTA.VL_ICM_SUBST_REAL,
  NFECE_NOTA.CNPJ_TRANSP,
  NFECE_NOTA.NOME_TRANSP,
  NFECE_NOTA.IE_TRANSP,
  NFECE_NOTA.END_TRANSPORTADOR,
  NFECE_NOTA.CIDADE_TRANSP,
  NFECE_NOTA.UF_TRANSP,
  NFECE_NOTA.TP,
  NFECE_NOTA.N_NOTA_ENTRADA,
  NFECE_NOTA.IE_PRODUTOR,
  NFECE_NOTA.PRODUTOR_RURAL,
  NFECE_NOTA.PAGAMENTO,
  SPED_PARTICIPANTES.COD_SPED,
  SPED_PARTICIPANTES.NOME,
  SPED_PARTICIPANTES.IE,
  SPED_PARTICIPANTES.CNPJ_CPF,
  SPED_PARTICIPANTES.COD_MUNICIPIO,
  SPED_PARTICIPANTES.LOGRADOURO,
  SPED_PARTICIPANTES.NUMERO,
  SPED_PARTICIPANTES.COMPLEMENTO,
  SPED_PARTICIPANTES.BAIRRO,
  SPED_PARTICIPANTES.SUFRAMA,
  SPED_PARTICIPANTES.PAIS,
  SPED_PARTICIPANTES.COD_CLIENTE,
  SPED_PARTICIPANTES.COD_FORNECEDOR,
  SPED_PARTICIPANTES.COD_EMPRESA,
  SPED_PARTICIPANTES.TIPO,
    NFECE_NOTA.STATUS_INUTILIZADO,
    NFECE_NOTA.STATUS_CANCELADO,
    NFECE_NOTA.STATUS_EMAIL,
    NFECE_NOTA.DEPEC ,
    NFECE_NOTA.CHAVE2,
    NFECE_NOTA.STATUS_RETORNO,
    NFECE_NOTA.JUSTIFICATIVA_CANCEL_INUTIL
FROM
 NFECE_NOTA
 LEFT JOIN SPED_PARTICIPANTES ON (NFECE_NOTA.COD_CLIENTE=SPED_PARTICIPANTES.COD_CLIENTE)
 WHERE NFECE_NOTA.cd_cfop >5000
;



/* View: V_SPED_NFE_ITENS_SAIDA */
CREATE VIEW V_SPED_NFE_ITENS_SAIDA(
    NR_SEQUENCIA,
    NR_NOTA,
    CD_CLIENTE,
    COD_PRODUTO,
    COD_NCM,
    DESCRICAO_PRODUTO,
    PROD_SERV,
    QT_PRODUTO,
    VL_UNITARIO,
    VL_TOTAL,
    DT_LANCAMENTO,
    PESO_LIQUIDO,
    CD_ATUALIZACAO,
    CST,
    PC_RED_BASE_ICM,
    ALIQ_ICM,
    ALIQ_ICM_SUBST,
    ALIQ_IPI,
    ALIQ_ISS,
    VL_BASE_ICM,
    VL_ICM,
    VL_ICM_SUBST,
    VL_IPI,
    VL_ISS,
    DT_ALTERACAO,
    DESC_UNIDADE,
    PERC_DESCONTO,
    VL_BASE_ICM_SUBST,
    CD_CONTA,
    CFOP,
    VL_DESCONTO,
    VL_CONTABIL,
    VL_OUTROS,
    VL_ISENTO,
    ALIQ_PIS,
    VL_BASE_PIS,
    VL_PIS,
    ALIQ_COFINS,
    VL_BASE_COFINS,
    VL_COFINS,
    VL_BASE_ISS,
    VL_BASE_IPI,
    ALIQ_ICM_PROPRIO_ST,
    VL_BASE_ICM_PROPRIO_ST,
    VL_ICM_PROPRIO_ST,
    ALIQ_ICM_SUBST_REAL,
    VL_BASE_ICM_SUBST_REAL,
    VL_ICM_SUBST_REAL,
    ITEN,
    CODIGO_PROD,
    CODIGO_BARRAS,
    SIT_PIS_VENDA_EST,
    SIT_COFINS_VENDA_EST,
    SIT_PIS_VENDA_INTER_EST,
    SIT_COFINS_VENDA_INTER_EST,
    CST_IPI_SAIDA,
    CFOP_INTER_VENDA,
    CST_VENDA_INTER)
AS
SELECT DISTINCT 
  NFE_ITENS.NR_SEQUENCIA,
  NFE_ITENS.NR_NOTA,
  NFE_ITENS.CD_CLIENTE,
  NFE_ITENS.COD_PRODUTO,
  NFE_ITENS.COD_NCM,
  NFE_ITENS.DESCRICAO_PRODUTO,
  NFE_ITENS.PROD_SERV,
  NFE_ITENS.QT_PRODUTO,
  NFE_ITENS.VL_UNITARIO,
  NFE_ITENS.VL_TOTAL,
  NFE_ITENS.DT_LANCAMENTO,
  NFE_ITENS.PESO_LIQUIDO,
  NFE_ITENS.CD_ATUALIZACAO,
  NFE_ITENS.CST,
  NFE_ITENS.PC_RED_BASE_ICM,
  NFE_ITENS.ALIQ_ICM,
  NFE_ITENS.ALIQ_ICM_SUBST,
  NFE_ITENS.ALIQ_IPI,
  NFE_ITENS.ALIQ_ISS,
  NFE_ITENS.VL_BASE_ICM,
  NFE_ITENS.VL_ICM,
  NFE_ITENS.VL_ICM_SUBST,
  NFE_ITENS.VL_IPI,
  NFE_ITENS.VL_ISS,
  NFE_ITENS.DT_ALTERACAO,
  NFE_ITENS.DESC_UNIDADE,
  NFE_ITENS.PERC_DESCONTO,
  NFE_ITENS.VL_BASE_ICM_SUBST,
  NFE_ITENS.CD_CONTA,
  NFE_ITENS.CFOP,
  NFE_ITENS.VL_DESCONTO,
  NFE_ITENS.VL_CONTABIL,
  NFE_ITENS.VL_OUTROS,
  NFE_ITENS.VL_ISENTO,
  NFE_ITENS.ALIQ_PIS,
  NFE_ITENS.VL_BASE_PIS,
  NFE_ITENS.VL_PIS,
  NFE_ITENS.ALIQ_COFINS,
  NFE_ITENS.VL_BASE_COFINS,
  NFE_ITENS.VL_COFINS,
  NFE_ITENS.VL_BASE_ISS,
  NFE_ITENS.VL_BASE_IPI,
  NFE_ITENS.ALIQ_ICM_PROPRIO_ST,
  NFE_ITENS.VL_BASE_ICM_PROPRIO_ST,
  NFE_ITENS.VL_ICM_PROPRIO_ST,
  NFE_ITENS.ALIQ_ICM_SUBST_REAL,
  NFE_ITENS.VL_BASE_ICM_SUBST_REAL,
  NFE_ITENS.VL_ICM_SUBST_REAL,
  NFE_ITENS.ITEN,
  NFE_ITENS.CODIGO_PROD,
  PRODUTOS.CODIGO_BARRAS,
  GRUPO_TRIBUTACAO.SIT_PIS_VENDA_EST,
  GRUPO_TRIBUTACAO.SIT_COFINS_VENDA_EST,
  GRUPO_TRIBUTACAO.SIT_PIS_VENDA_INTER_EST,
  GRUPO_TRIBUTACAO.SIT_COFINS_VENDA_INTER_EST,
  grupo_tributacao.CST_IPI_SAIDA,
  GRUPO_TRIBUTACAO.cfop_inter_venda,
  GRUPO_TRIBUTACAO.cst_venda_inter
FROM
 NFE_ITENS
 LEFT OUTER JOIN PRODUTOS ON (NFE_ITENS.CODIGO_PROD=PRODUTOS.CODIGO)
 INNER JOIN NFE_NOTA ON (nfe_itens.nr_nota=NFE_NOTA .NR_NOTA)
 INNER JOIN GRUPO_TRIBUTACAO ON (PRODUTOS.GRUPO_TRIBUTACAO=GRUPO_TRIBUTACAO.COD_GRUPO)
  WHERE (NFE_NOTA.status_cancelado IS NULL) or (NFE_NOTA.status_cancelado ='N') AND
  (NFE_NOTA.status_inutilizado IS NULL) or (NFE_NOTA.status_inutilizado ='N')
;



/* View: V_SPED_NFE_SAIDA */
CREATE VIEW V_SPED_NFE_SAIDA(
    N_SEQUENCIA,
    CD_EMPRESA,
    NR_NOTA,
    COD_CLIENTE,
    FL_IMPRESSO,
    SERIE_NF,
    CD_CFOP,
    DT_EMISSAO,
    DT_LANCAMENTO,
    VL_ACRESCIMOS,
    VL_DESCONTOS,
    VL_MERCADORIAS,
    VL_SERVICOS,
    VL_TOTAL,
    COD_PGTO,
    VL_AVISTA,
    VL_PRAZO,
    PESO_TOTAL,
    QT_PECAS,
    CFOP_DESC,
    CD_TRANSPORTADORA,
    UF_ORIGEM,
    UF_DESTINO,
    PESO_LIQUIDO,
    VL_FRETE,
    VL_SEGURO,
    VL_BASE_ICM,
    VL_ICM,
    VL_BASE_ICM_SUBST,
    VL_ICM_SUBST,
    VL_IPI,
    VL_ISS,
    TP_FRETE,
    QT_VOLUMES,
    ESPECIE_VOLUMES,
    MARCA_VOLUMES,
    NR_VOLUMES,
    CD_TIPOCOBR,
    CD_FUNCIONARIO,
    DT_ATZ,
    PLACA_TRANSP,
    UF_PLACA_TRANSP,
    VL_OUTROS,
    NR_PEDIDO,
    VL_BASE_PIS,
    VL_PIS,
    VL_BASE_COFINS,
    VL_COFINS,
    VL_BASE_IPI,
    VL_BASE_ISS,
    VL_DESCONTO_ITEM,
    VL_ISENTO_ITENS,
    VL_OUTROS_ITENS,
    NR_PROTOCOLO_NFE,
    DT_PROCESSAMENTO_NFE,
    STATUS,
    NR_LOTE_NFE,
    NR_RECIBO_NFE,
    NR_PROTOCOLO_CANC_NFE,
    CHAVE_ACESSO_NFE,
    VL_FRETE_CONHECIMENTO,
    VL_ST_CONHECIMENTO,
    VL_ICM_CONHECIMENTO,
    BASE_ICM_PROPRIO_ST,
    VL_ICM_PROPRIO_ST,
    VL_BASE_ICM_SUBST_REAL,
    VL_ICM_SUBST_REAL,
    CNPJ_TRANSP,
    NOME_TRANSP,
    IE_TRANSP,
    END_TRANSPORTADOR,
    CIDADE_TRANSP,
    UF_TRANSP,
    TP,
    N_NOTA_ENTRADA,
    IE_PRODUTOR,
    PRODUTOR_RURAL,
    PAGAMENTO,
    COD_SPED,
    NOME,
    IE,
    CNPJ_CPF,
    COD_MUNICIPIO,
    LOGRADOURO,
    NUMERO,
    COMPLEMENTO,
    BAIRRO,
    SUFRAMA,
    PAIS,
    COD_CLIENTE1,
    COD_FORNECEDOR,
    COD_EMPRESA,
    TIPO,
    STATUS_INUTILIZADO,
    STATUS_CANCELADO,
    STATUS_EMAIL,
    DEPEC,
    CHAVE2,
    STATUS_RETORNO,
    JUSTIFICATIVA_CANCEL_INUTIL)
AS
SELECT
  NFE_NOTA.N_SEQUENCIA,
  NFE_NOTA.CD_EMPRESA,
  NFE_NOTA.NR_NOTA,
  NFE_NOTA.COD_CLIENTE,
  NFE_NOTA.FL_IMPRESSO,
  NFE_NOTA.SERIE_NF,
  NFE_NOTA.CD_CFOP,
  NFE_NOTA.DT_EMISSAO,
  NFE_NOTA.DT_LANCAMENTO,
  NFE_NOTA.VL_ACRESCIMOS,
  NFE_NOTA.VL_DESCONTOS,
  NFE_NOTA.VL_MERCADORIAS,
  NFE_NOTA.VL_SERVICOS,
  NFE_NOTA.VL_TOTAL,
  NFE_NOTA.COD_PGTO,
  NFE_NOTA.VL_AVISTA,
  NFE_NOTA.VL_PRAZO,
  NFE_NOTA.PESO_TOTAL,
  NFE_NOTA.QT_PECAS,
  NFE_NOTA.CFOP_DESC,
  NFE_NOTA.CD_TRANSPORTADORA,
  NFE_NOTA.UF_ORIGEM,
  NFE_NOTA.UF_DESTINO,
  NFE_NOTA.PESO_LIQUIDO,
  NFE_NOTA.VL_FRETE,
  NFE_NOTA.VL_SEGURO,
  NFE_NOTA.VL_BASE_ICM,
  NFE_NOTA.VL_ICM,
  NFE_NOTA.VL_BASE_ICM_SUBST,
  NFE_NOTA.VL_ICM_SUBST,
  NFE_NOTA.VL_IPI,
  NFE_NOTA.VL_ISS,
  NFE_NOTA.TP_FRETE,
  NFE_NOTA.QT_VOLUMES,
  NFE_NOTA.ESPECIE_VOLUMES,
  NFE_NOTA.MARCA_VOLUMES,
  NFE_NOTA.NR_VOLUMES,
  NFE_NOTA.CD_TIPOCOBR,
  NFE_NOTA.CD_FUNCIONARIO,
  NFE_NOTA.DT_ATZ,
  NFE_NOTA.PLACA_TRANSP,
  NFE_NOTA.UF_PLACA_TRANSP,
  NFE_NOTA.VL_OUTROS,
  NFE_NOTA.NR_PEDIDO,
  NFE_NOTA.VL_BASE_PIS,
  NFE_NOTA.VL_PIS,
  NFE_NOTA.VL_BASE_COFINS,
  NFE_NOTA.VL_COFINS,
  NFE_NOTA.VL_BASE_IPI,
  NFE_NOTA.VL_BASE_ISS,
  NFE_NOTA.VL_DESCONTO_ITEM,
  NFE_NOTA.VL_ISENTO_ITENS,
  NFE_NOTA.VL_OUTROS_ITENS,
  NFE_NOTA.NR_PROTOCOLO_NFE,
  NFE_NOTA.DT_PROCESSAMENTO_NFE,
  NFE_NOTA.STATUS,
  NFE_NOTA.NR_LOTE_NFE,
  NFE_NOTA.NR_RECIBO_NFE,
  NFE_NOTA.NR_PROTOCOLO_CANC_NFE,
  NFE_NOTA.CHAVE_ACESSO_NFE,
  NFE_NOTA.VL_FRETE_CONHECIMENTO,
  NFE_NOTA.VL_ST_CONHECIMENTO,
  NFE_NOTA.VL_ICM_CONHECIMENTO,
  NFE_NOTA.BASE_ICM_PROPRIO_ST,
  NFE_NOTA.VL_ICM_PROPRIO_ST,
  NFE_NOTA.VL_BASE_ICM_SUBST_REAL,
  NFE_NOTA.VL_ICM_SUBST_REAL,
  NFE_NOTA.CNPJ_TRANSP,
  NFE_NOTA.NOME_TRANSP,
  NFE_NOTA.IE_TRANSP,
  NFE_NOTA.END_TRANSPORTADOR,
  NFE_NOTA.CIDADE_TRANSP,
  NFE_NOTA.UF_TRANSP,
  NFE_NOTA.TP,
  NFE_NOTA.N_NOTA_ENTRADA,
  NFE_NOTA.IE_PRODUTOR,
  NFE_NOTA.PRODUTOR_RURAL,
  NFE_NOTA.PAGAMENTO,
  SPED_PARTICIPANTES.COD_SPED,
  SPED_PARTICIPANTES.NOME,
  SPED_PARTICIPANTES.IE,
  SPED_PARTICIPANTES.CNPJ_CPF,
  SPED_PARTICIPANTES.COD_MUNICIPIO,
  SPED_PARTICIPANTES.LOGRADOURO,
  SPED_PARTICIPANTES.NUMERO,
  SPED_PARTICIPANTES.COMPLEMENTO,
  SPED_PARTICIPANTES.BAIRRO,
  SPED_PARTICIPANTES.SUFRAMA,
  SPED_PARTICIPANTES.PAIS,
  SPED_PARTICIPANTES.COD_CLIENTE,
  SPED_PARTICIPANTES.COD_FORNECEDOR,
  SPED_PARTICIPANTES.COD_EMPRESA,
  SPED_PARTICIPANTES.TIPO,
    NFE_NOTA.STATUS_INUTILIZADO,
    NFE_NOTA.STATUS_CANCELADO,
    NFE_NOTA.STATUS_EMAIL,
    NFE_NOTA.DEPEC ,
    NFE_NOTA.CHAVE2,
    NFE_NOTA.STATUS_RETORNO,
    NFE_NOTA.JUSTIFICATIVA_CANCEL_INUTIL
FROM
 NFE_NOTA
 left JOIN SPED_PARTICIPANTES ON (NFE_NOTA.COD_CLIENTE=SPED_PARTICIPANTES.COD_CLIENTE)
 WHERE NFE_NOTA.cd_cfop >5000
;



/* View: V_SPED_NOTAS */
CREATE VIEW V_SPED_NOTAS(
    COD_SPED,
    NOME,
    IE,
    CNPJ_CPF,
    COD_MUNICIPIO,
    LOGRADOURO,
    NUMERO,
    COMPLEMENTO,
    BAIRRO,
    SUFRAMA,
    PAIS,
    COD_CLIENTE,
    COD_FORNECEDOR,
    COD_EMPRESA,
    TIPO,
    MES,
    ANO,
    CODIGO,
    VALOR_ITENS,
    ENC_FINANCEIRO,
    VALOR_DESCONTO,
    VALOR_TOTAL,
    VALOR_COMISSAO,
    USUARIO,
    DATA_PEDIDO,
    DATA_ENTREGA,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    PAGAMENTO,
    STATUS,
    SITUACAO,
    USUARIO_ENTREGA,
    TP,
    OBSERVACOES,
    COD_VENDEDOR,
    COD_PAGTO,
    N_CUPOM,
    N_ECF,
    COD_EMPRESA1,
    HORA,
    VALOR_ACRESCIMOS,
    COD_ORCAMENTO,
    COD_PEDIDO,
    COD_OS,
    NUM_NOTA,
    SERIE_NOTA,
    ENDERECO,
    CPF_CNPJ,
    RG_IE,
    FONE,
    CIDADE,
    BAIRRO1,
    N_PARTIDA,
    PROPRIEDADE,
    QUANT_VENDIDA,
    SALDO_VENDIDO,
    MED_VETERINARIO,
    DATA_VACINA,
    VALOR_AVISTA,
    VALOR_PRAZO,
    UF,
    COD_IBGE,
    CEP,
    NUMERO1,
    TIPO1,
    VALOR_PAGO,
    VALOR_TROCO,
    ENTREGADOR,
    TIPO_PEDIDO,
    FECHADO,
    MESA,
    REFERENCIA,
    CELULAR,
    PROD_RURAL,
    IE_PRODUTOR,
    VLR_PIS,
    VLR_COFINS,
    KM,
    CHAVE_FP,
    CHAVE_FP_CANCEL,
    CUPON_CANCELADO,
    CRZ,
    CHEK_BOX,
    ANO1,
    MODELO_NF,
    CFOP_NF)
AS
SELECT 
  SPED_PARTICIPANTES.COD_SPED,
  SPED_PARTICIPANTES.NOME,
  SPED_PARTICIPANTES.IE,
  SPED_PARTICIPANTES.CNPJ_CPF,
  SPED_PARTICIPANTES.COD_MUNICIPIO,
  SPED_PARTICIPANTES.LOGRADOURO,
  SPED_PARTICIPANTES.NUMERO,
  SPED_PARTICIPANTES.COMPLEMENTO,
  SPED_PARTICIPANTES.BAIRRO,
  SPED_PARTICIPANTES.SUFRAMA,
  SPED_PARTICIPANTES.PAIS,
  SPED_PARTICIPANTES.COD_CLIENTE,
  SPED_PARTICIPANTES.COD_FORNECEDOR,
  SPED_PARTICIPANTES.COD_EMPRESA,
  SPED_PARTICIPANTES.TIPO,
  SPED_PARTICIPANTES.MES,
  SPED_PARTICIPANTES.ANO,
  PEDIDOS.CODIGO,
  PEDIDOS.VALOR_ITENS,
  PEDIDOS.ENC_FINANCEIRO,
  PEDIDOS.VALOR_DESCONTO,
  PEDIDOS.VALOR_TOTAL,
  PEDIDOS.VALOR_COMISSAO,
  PEDIDOS.USUARIO,
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS.DATA_ENTREGA,
  PEDIDOS.CODIGO_CLIENTE,
  PEDIDOS.NOME_CLIENTE,
  PEDIDOS.PAGAMENTO,
  PEDIDOS.STATUS,
  PEDIDOS.SITUACAO,
  PEDIDOS.USUARIO_ENTREGA,
  PEDIDOS.TP,
  PEDIDOS.OBSERVACOES,
  PEDIDOS.COD_VENDEDOR,
  PEDIDOS.COD_PAGTO,
  PEDIDOS.N_CUPOM,
  PEDIDOS.N_ECF,
  PEDIDOS.COD_EMPRESA,
  PEDIDOS.HORA,
  PEDIDOS.VALOR_ACRESCIMOS,
  PEDIDOS.COD_ORCAMENTO,
  PEDIDOS.COD_PEDIDO,
  PEDIDOS.COD_OS,
  PEDIDOS.NUM_NOTA,
  PEDIDOS.SERIE_NOTA,
  PEDIDOS.ENDERECO,
  PEDIDOS.CPF_CNPJ,
  PEDIDOS.RG_IE,
  PEDIDOS.FONE,
  PEDIDOS.CIDADE,
  PEDIDOS.BAIRRO,
  PEDIDOS.N_PARTIDA,
  PEDIDOS.PROPRIEDADE,
  PEDIDOS.QUANT_VENDIDA,
  PEDIDOS.SALDO_VENDIDO,
  PEDIDOS.MED_VETERINARIO,
  PEDIDOS.DATA_VACINA,
  PEDIDOS.VALOR_AVISTA,
  PEDIDOS.VALOR_PRAZO,
  PEDIDOS.UF,
  PEDIDOS.COD_IBGE,
  PEDIDOS.CEP,
  PEDIDOS.NUMERO,
  PEDIDOS.TIPO,
  PEDIDOS.VALOR_PAGO,
  PEDIDOS.VALOR_TROCO,
  PEDIDOS.ENTREGADOR,
  PEDIDOS.TIPO_PEDIDO,
  PEDIDOS.FECHADO,
  PEDIDOS.MESA,
  PEDIDOS.REFERENCIA,
  PEDIDOS.CELULAR,
  PEDIDOS.PROD_RURAL,
  PEDIDOS.IE_PRODUTOR,
  PEDIDOS.VLR_PIS,
  PEDIDOS.VLR_COFINS,
  PEDIDOS.KM,
  PEDIDOS.CHAVE_FP,
  PEDIDOS.CHAVE_FP_CANCEL,
  PEDIDOS.CUPON_CANCELADO,
  PEDIDOS.CRZ,
  PEDIDOS.CHEK_BOX,
  PEDIDOS.ANO,
  PEDIDOS.MODELO_NF,
  PEDIDOS.CFOP_NF
FROM
 SPED_PARTICIPANTES
 INNER JOIN PEDIDOS ON (SPED_PARTICIPANTES.COD_CLIENTE=PEDIDOS.CODIGO_CLIENTE)
 WHERE pedidos.num_nota > 0
;



/* View: V_SPED_NOTAS_FISCAIS */
CREATE VIEW V_SPED_NOTAS_FISCAIS(
    CODIGO_NOTA,
    NUM_NOTA,
    SERIE_NF,
    CFOP_NOTA,
    DATA_EMISSAO,
    FORNECEDOR,
    DATA_VENCIMENTO,
    TOTAL_NOTA,
    CNPJ,
    IE,
    USUARIO_CADASTRO,
    DATA_CADASTRO,
    OBSERVACOES,
    MES,
    ANO,
    CHAVE_NFE,
    PROTOCOLO_NFE,
    BASE_CALCULO_ICMS,
    VALOR_ICMS,
    BASE_CALC_ICMS_SUBST,
    VALOR_ICMS_SUBST,
    VALOR_FRETE,
    VALOR_SEGURO,
    VALOR_DESCONTO,
    VALOR_OUTRAS_DESPESAS,
    VALOR_IPI,
    VALOR_TOTAL_PRODUTOS,
    VALOR_TOTAL_ITENS_NOTA,
    VLR_ICMS_GARANTIDO,
    "cod_pagto",
    TP,
    ENDERECO_CLI_FORN,
    END_NUM_CLIENTE,
    COD_IBGE,
    CEP_CLIENTE_FORN,
    BAIRRO_CLIENTE_FORN,
    TIPO_PESSOA,
    CIDADE_CLIENTE_FORN,
    UF_CLIENTE_FORN,
    DESC_PAGTO,
    VALOR_AVISTA,
    VALOR_PRAZO,
    "pagamento",
    MODELO,
    EMITENTE,
    COD_SPED,
    NOME,
    IE1,
    CNPJ_CPF,
    COD_MUNICIPIO,
    LOGRADOURO,
    NUMERO,
    COMPLEMENTO,
    BAIRRO,
    SUFRAMA,
    PAIS,
    COD_CLIENTE,
    COD_FORNECEDOR,
    COD_EMPRESA,
    TIPO,
    TELEFONE,
    VALOR_COFINS,
    VALOR_PIS,
    VALOR_PIS_ST,
    VALOR_COFIS_ST,
    PERC_ICMS,
    SUB_SERIE,
    CST)
AS
SELECT
  NOTASFISCAIS.CODIGO_NOTA,
  NOTASFISCAIS.NUM_NOTA,
  NOTASFISCAIS.SERIE_NF,
  NOTASFISCAIS.CFOP_NOTA,
  NOTASFISCAIS.DATA_EMISSAO,
  NOTASFISCAIS.FORNECEDOR,
  NOTASFISCAIS.DATA_VENCIMENTO,
  NOTASFISCAIS.TOTAL_NOTA,
  NOTASFISCAIS.CNPJ,
  NOTASFISCAIS.IE,
  NOTASFISCAIS.USUARIO_CADASTRO,
  NOTASFISCAIS.DATA_CADASTRO,
  NOTASFISCAIS.OBSERVACOES,
  NOTASFISCAIS.MES,
  NOTASFISCAIS.ANO,
  NOTASFISCAIS.CHAVE_NFE,
  NOTASFISCAIS.PROTOCOLO_NFE,
  NOTASFISCAIS.BASE_CALCULO_ICMS,
  NOTASFISCAIS.VALOR_ICMS,
  NOTASFISCAIS.BASE_CALC_ICMS_SUBST,
  NOTASFISCAIS.VALOR_ICMS_SUBST,
  NOTASFISCAIS.VALOR_FRETE,
  NOTASFISCAIS.VALOR_SEGURO,
  NOTASFISCAIS.VALOR_DESCONTO,
  NOTASFISCAIS.VALOR_OUTRAS_DESPESAS,
  NOTASFISCAIS.VALOR_IPI,
  NOTASFISCAIS.VALOR_TOTAL_PRODUTOS,
  NOTASFISCAIS.VALOR_TOTAL_ITENS_NOTA,
  NOTASFISCAIS.VLR_ICMS_GARANTIDO,
  NOTASFISCAIS."cod_pagto",
  NOTASFISCAIS.TP,
  NOTASFISCAIS.ENDERECO_CLI_FORN,
  NOTASFISCAIS.END_NUM_CLIENTE,
  NOTASFISCAIS.COD_IBGE,
  NOTASFISCAIS.CEP_CLIENTE_FORN,
  NOTASFISCAIS.BAIRRO_CLIENTE_FORN,
  NOTASFISCAIS.TIPO_PESSOA,
  NOTASFISCAIS.CIDADE_CLIENTE_FORN,
  NOTASFISCAIS.UF_CLIENTE_FORN,
  NOTASFISCAIS.DESC_PAGTO,
  NOTASFISCAIS.VALOR_AVISTA,
  NOTASFISCAIS.VALOR_PRAZO,
  NOTASFISCAIS."pagamento",
  NOTASFISCAIS.MODELO,
  NOTASFISCAIS.EMITENTE,
  SPED_PARTICIPANTES.COD_SPED,
  SPED_PARTICIPANTES.NOME,
  SPED_PARTICIPANTES.IE,
  SPED_PARTICIPANTES.CNPJ_CPF,
  SPED_PARTICIPANTES.COD_MUNICIPIO,
  SPED_PARTICIPANTES.LOGRADOURO,
  SPED_PARTICIPANTES.NUMERO,
  SPED_PARTICIPANTES.COMPLEMENTO,
  SPED_PARTICIPANTES.BAIRRO,
  SPED_PARTICIPANTES.SUFRAMA,
  SPED_PARTICIPANTES.PAIS,
  SPED_PARTICIPANTES.COD_CLIENTE,
  SPED_PARTICIPANTES.COD_FORNECEDOR,
  SPED_PARTICIPANTES.COD_EMPRESA,
  SPED_PARTICIPANTES.TIPO,
  NOTASFISCAIS.TELEFONE,
  NOTASFISCAIS.VALOR_COFINS,
  NOTASFISCAIS.VALOR_PIS,
  NOTASFISCAIS.VALOR_PIS_ST,
  NOTASFISCAIS.VALOR_COFIS_ST,
  NOTASFISCAIS.perc_icms,
  notasfiscais.SUB_SERIE,
  notasfiscais.cst
FROM
 NOTASFISCAIS
 INNER JOIN SPED_PARTICIPANTES ON (NOTASFISCAIS.COD_FORNECEDOR=SPED_PARTICIPANTES.COD_FORNECEDOR)
 WHERE ((NOTASFISCAIS.MODELO='01') or (NOTASFISCAIS.MODELO='55'))
;



/* View: V_SPED_NOTAS_FISCAIS_06 */
CREATE VIEW V_SPED_NOTAS_FISCAIS_06(
    CODIGO_NOTA,
    NUM_NOTA,
    SERIE_NF,
    CFOP_NOTA,
    DATA_EMISSAO,
    FORNECEDOR,
    DATA_VENCIMENTO,
    TOTAL_NOTA,
    CNPJ,
    IE,
    USUARIO_CADASTRO,
    DATA_CADASTRO,
    OBSERVACOES,
    MES,
    ANO,
    CHAVE_NFE,
    PROTOCOLO_NFE,
    BASE_CALCULO_ICMS,
    VALOR_ICMS,
    BASE_CALC_ICMS_SUBST,
    VALOR_ICMS_SUBST,
    VALOR_FRETE,
    VALOR_SEGURO,
    VALOR_DESCONTO,
    VALOR_OUTRAS_DESPESAS,
    VALOR_IPI,
    VALOR_TOTAL_PRODUTOS,
    VALOR_TOTAL_ITENS_NOTA,
    VLR_ICMS_GARANTIDO,
    "cod_pagto",
    TP,
    ENDERECO_CLI_FORN,
    END_NUM_CLIENTE,
    COD_IBGE,
    CEP_CLIENTE_FORN,
    BAIRRO_CLIENTE_FORN,
    TIPO_PESSOA,
    CIDADE_CLIENTE_FORN,
    UF_CLIENTE_FORN,
    DESC_PAGTO,
    VALOR_AVISTA,
    VALOR_PRAZO,
    "pagamento",
    MODELO,
    EMITENTE,
    COD_SPED,
    NOME,
    IE1,
    CNPJ_CPF,
    COD_MUNICIPIO,
    LOGRADOURO,
    NUMERO,
    COMPLEMENTO,
    BAIRRO,
    SUFRAMA,
    PAIS,
    COD_CLIENTE,
    COD_FORNECEDOR,
    COD_EMPRESA,
    TIPO,
    TELEFONE,
    VALOR_COFINS,
    VALOR_PIS,
    VALOR_PIS_ST,
    VALOR_COFIS_ST,
    PERC_ICMS,
    SUB_SERIE,
    CST)
AS
SELECT
  NOTASFISCAIS.CODIGO_NOTA,
  NOTASFISCAIS.NUM_NOTA,
  NOTASFISCAIS.SERIE_NF,
  NOTASFISCAIS.CFOP_NOTA,
  NOTASFISCAIS.DATA_EMISSAO,
  NOTASFISCAIS.FORNECEDOR,
  NOTASFISCAIS.DATA_VENCIMENTO,
  NOTASFISCAIS.TOTAL_NOTA,
  NOTASFISCAIS.CNPJ,
  NOTASFISCAIS.IE,
  NOTASFISCAIS.USUARIO_CADASTRO,
  NOTASFISCAIS.DATA_CADASTRO,
  NOTASFISCAIS.OBSERVACOES,
  NOTASFISCAIS.MES,
  NOTASFISCAIS.ANO,
  NOTASFISCAIS.CHAVE_NFE,
  NOTASFISCAIS.PROTOCOLO_NFE,
  NOTASFISCAIS.BASE_CALCULO_ICMS,
  NOTASFISCAIS.VALOR_ICMS,
  NOTASFISCAIS.BASE_CALC_ICMS_SUBST,
  NOTASFISCAIS.VALOR_ICMS_SUBST,
  NOTASFISCAIS.VALOR_FRETE,
  NOTASFISCAIS.VALOR_SEGURO,
  NOTASFISCAIS.VALOR_DESCONTO,
  NOTASFISCAIS.VALOR_OUTRAS_DESPESAS,
  NOTASFISCAIS.VALOR_IPI,
  NOTASFISCAIS.VALOR_TOTAL_PRODUTOS,
  NOTASFISCAIS.VALOR_TOTAL_ITENS_NOTA,
  NOTASFISCAIS.VLR_ICMS_GARANTIDO,
  NOTASFISCAIS."cod_pagto",
  NOTASFISCAIS.TP,
  NOTASFISCAIS.ENDERECO_CLI_FORN,
  NOTASFISCAIS.END_NUM_CLIENTE,
  NOTASFISCAIS.COD_IBGE,
  NOTASFISCAIS.CEP_CLIENTE_FORN,
  NOTASFISCAIS.BAIRRO_CLIENTE_FORN,
  NOTASFISCAIS.TIPO_PESSOA,
  NOTASFISCAIS.CIDADE_CLIENTE_FORN,
  NOTASFISCAIS.UF_CLIENTE_FORN,
  NOTASFISCAIS.DESC_PAGTO,
  NOTASFISCAIS.VALOR_AVISTA,
  NOTASFISCAIS.VALOR_PRAZO,
  NOTASFISCAIS."pagamento",
  NOTASFISCAIS.MODELO,
  NOTASFISCAIS.EMITENTE,
  SPED_PARTICIPANTES.COD_SPED,
  SPED_PARTICIPANTES.NOME,
  SPED_PARTICIPANTES.IE,
  SPED_PARTICIPANTES.CNPJ_CPF,
  SPED_PARTICIPANTES.COD_MUNICIPIO,
  SPED_PARTICIPANTES.LOGRADOURO,
  SPED_PARTICIPANTES.NUMERO,
  SPED_PARTICIPANTES.COMPLEMENTO,
  SPED_PARTICIPANTES.BAIRRO,
  SPED_PARTICIPANTES.SUFRAMA,
  SPED_PARTICIPANTES.PAIS,
  SPED_PARTICIPANTES.COD_CLIENTE,
  SPED_PARTICIPANTES.COD_FORNECEDOR,
  SPED_PARTICIPANTES.COD_EMPRESA,
  SPED_PARTICIPANTES.TIPO,
  NOTASFISCAIS.TELEFONE,
  NOTASFISCAIS.VALOR_COFINS,
  NOTASFISCAIS.VALOR_PIS,
  NOTASFISCAIS.VALOR_PIS_ST,
  NOTASFISCAIS.VALOR_COFIS_ST,
  NOTASFISCAIS.perc_icms,
  notasfiscais.SUB_SERIE,
  notasfiscais.cst
FROM
 NOTASFISCAIS
 INNER JOIN SPED_PARTICIPANTES ON (NOTASFISCAIS.COD_FORNECEDOR=SPED_PARTICIPANTES.COD_FORNECEDOR)
 WHERE (NOTASFISCAIS.MODELO='06')
;



/* View: V_SPED_NOTAS_FISCAIS_22 */
CREATE VIEW V_SPED_NOTAS_FISCAIS_22(
    CODIGO_NOTA,
    NUM_NOTA,
    SERIE_NF,
    CFOP_NOTA,
    DATA_EMISSAO,
    FORNECEDOR,
    DATA_VENCIMENTO,
    TOTAL_NOTA,
    CNPJ,
    IE,
    USUARIO_CADASTRO,
    DATA_CADASTRO,
    OBSERVACOES,
    MES,
    ANO,
    CHAVE_NFE,
    PROTOCOLO_NFE,
    BASE_CALCULO_ICMS,
    VALOR_ICMS,
    BASE_CALC_ICMS_SUBST,
    VALOR_ICMS_SUBST,
    VALOR_FRETE,
    VALOR_SEGURO,
    VALOR_DESCONTO,
    VALOR_OUTRAS_DESPESAS,
    VALOR_IPI,
    VALOR_TOTAL_PRODUTOS,
    VALOR_TOTAL_ITENS_NOTA,
    VLR_ICMS_GARANTIDO,
    "cod_pagto",
    TP,
    ENDERECO_CLI_FORN,
    END_NUM_CLIENTE,
    COD_IBGE,
    CEP_CLIENTE_FORN,
    BAIRRO_CLIENTE_FORN,
    TIPO_PESSOA,
    CIDADE_CLIENTE_FORN,
    UF_CLIENTE_FORN,
    DESC_PAGTO,
    VALOR_AVISTA,
    VALOR_PRAZO,
    "pagamento",
    MODELO,
    EMITENTE,
    COD_SPED,
    NOME,
    IE1,
    CNPJ_CPF,
    COD_MUNICIPIO,
    LOGRADOURO,
    NUMERO,
    COMPLEMENTO,
    BAIRRO,
    SUFRAMA,
    PAIS,
    COD_CLIENTE,
    COD_FORNECEDOR,
    COD_EMPRESA,
    TIPO,
    TELEFONE,
    VALOR_COFINS,
    VALOR_PIS,
    VALOR_PIS_ST,
    VALOR_COFIS_ST,
    PERC_ICMS,
    SUB_SERIE,
    CST)
AS
SELECT
  NOTASFISCAIS.CODIGO_NOTA,
  NOTASFISCAIS.NUM_NOTA,
  NOTASFISCAIS.SERIE_NF,
  NOTASFISCAIS.CFOP_NOTA,
  NOTASFISCAIS.DATA_EMISSAO,
  NOTASFISCAIS.FORNECEDOR,
  NOTASFISCAIS.DATA_VENCIMENTO,
  NOTASFISCAIS.TOTAL_NOTA,
  NOTASFISCAIS.CNPJ,
  NOTASFISCAIS.IE,
  NOTASFISCAIS.USUARIO_CADASTRO,
  NOTASFISCAIS.DATA_CADASTRO,
  NOTASFISCAIS.OBSERVACOES,
  NOTASFISCAIS.MES,
  NOTASFISCAIS.ANO,
  NOTASFISCAIS.CHAVE_NFE,
  NOTASFISCAIS.PROTOCOLO_NFE,
  NOTASFISCAIS.BASE_CALCULO_ICMS,
  NOTASFISCAIS.VALOR_ICMS,
  NOTASFISCAIS.BASE_CALC_ICMS_SUBST,
  NOTASFISCAIS.VALOR_ICMS_SUBST,
  NOTASFISCAIS.VALOR_FRETE,
  NOTASFISCAIS.VALOR_SEGURO,
  NOTASFISCAIS.VALOR_DESCONTO,
  NOTASFISCAIS.VALOR_OUTRAS_DESPESAS,
  NOTASFISCAIS.VALOR_IPI,
  NOTASFISCAIS.VALOR_TOTAL_PRODUTOS,
  NOTASFISCAIS.VALOR_TOTAL_ITENS_NOTA,
  NOTASFISCAIS.VLR_ICMS_GARANTIDO,
  NOTASFISCAIS."cod_pagto",
  NOTASFISCAIS.TP,
  NOTASFISCAIS.ENDERECO_CLI_FORN,
  NOTASFISCAIS.END_NUM_CLIENTE,
  NOTASFISCAIS.COD_IBGE,
  NOTASFISCAIS.CEP_CLIENTE_FORN,
  NOTASFISCAIS.BAIRRO_CLIENTE_FORN,
  NOTASFISCAIS.TIPO_PESSOA,
  NOTASFISCAIS.CIDADE_CLIENTE_FORN,
  NOTASFISCAIS.UF_CLIENTE_FORN,
  NOTASFISCAIS.DESC_PAGTO,
  NOTASFISCAIS.VALOR_AVISTA,
  NOTASFISCAIS.VALOR_PRAZO,
  NOTASFISCAIS."pagamento",
  NOTASFISCAIS.MODELO,
  NOTASFISCAIS.EMITENTE,
  SPED_PARTICIPANTES.COD_SPED,
  SPED_PARTICIPANTES.NOME,
  SPED_PARTICIPANTES.IE,
  SPED_PARTICIPANTES.CNPJ_CPF,
  SPED_PARTICIPANTES.COD_MUNICIPIO,
  SPED_PARTICIPANTES.LOGRADOURO,
  SPED_PARTICIPANTES.NUMERO,
  SPED_PARTICIPANTES.COMPLEMENTO,
  SPED_PARTICIPANTES.BAIRRO,
  SPED_PARTICIPANTES.SUFRAMA,
  SPED_PARTICIPANTES.PAIS,
  SPED_PARTICIPANTES.COD_CLIENTE,
  SPED_PARTICIPANTES.COD_FORNECEDOR,
  SPED_PARTICIPANTES.COD_EMPRESA,
  SPED_PARTICIPANTES.TIPO,
  NOTASFISCAIS.TELEFONE,
  NOTASFISCAIS.VALOR_COFINS,
  NOTASFISCAIS.VALOR_PIS,
  NOTASFISCAIS.VALOR_PIS_ST,
  NOTASFISCAIS.VALOR_COFIS_ST,
  NOTASFISCAIS.perc_icms,
  notasfiscais.SUB_SERIE,
  notasfiscais.cst
FROM
 NOTASFISCAIS
 INNER JOIN SPED_PARTICIPANTES ON (NOTASFISCAIS.COD_FORNECEDOR=SPED_PARTICIPANTES.COD_FORNECEDOR)
 WHERE (NOTASFISCAIS.MODELO='21') or (NOTASFISCAIS.MODELO='22')
;



/* View: V_SPED_NOTAS_FISCAIS_57 */
CREATE VIEW V_SPED_NOTAS_FISCAIS_57(
    CODIGO_NOTA,
    NUM_NOTA,
    SERIE_NF,
    CFOP_NOTA,
    DATA_EMISSAO,
    FORNECEDOR,
    DATA_VENCIMENTO,
    TOTAL_NOTA,
    CNPJ,
    IE,
    USUARIO_CADASTRO,
    DATA_CADASTRO,
    OBSERVACOES,
    MES,
    ANO,
    CHAVE_NFE,
    PROTOCOLO_NFE,
    BASE_CALCULO_ICMS,
    VALOR_ICMS,
    BASE_CALC_ICMS_SUBST,
    VALOR_ICMS_SUBST,
    VALOR_FRETE,
    VALOR_SEGURO,
    VALOR_DESCONTO,
    VALOR_OUTRAS_DESPESAS,
    VALOR_IPI,
    VALOR_TOTAL_PRODUTOS,
    VALOR_TOTAL_ITENS_NOTA,
    VLR_ICMS_GARANTIDO,
    "cod_pagto",
    TP,
    ENDERECO_CLI_FORN,
    END_NUM_CLIENTE,
    COD_IBGE,
    CEP_CLIENTE_FORN,
    BAIRRO_CLIENTE_FORN,
    TIPO_PESSOA,
    CIDADE_CLIENTE_FORN,
    UF_CLIENTE_FORN,
    DESC_PAGTO,
    VALOR_AVISTA,
    VALOR_PRAZO,
    "pagamento",
    MODELO,
    EMITENTE,
    COD_SPED,
    NOME,
    IE1,
    CNPJ_CPF,
    COD_MUNICIPIO,
    LOGRADOURO,
    NUMERO,
    COMPLEMENTO,
    BAIRRO,
    SUFRAMA,
    PAIS,
    COD_CLIENTE,
    COD_FORNECEDOR,
    COD_EMPRESA,
    TIPO,
    TELEFONE,
    VALOR_COFINS,
    VALOR_PIS,
    VALOR_PIS_ST,
    VALOR_COFIS_ST,
    PERC_ICMS,
    SUB_SERIE,
    CST)
AS
SELECT
  NOTASFISCAIS.CODIGO_NOTA,
  NOTASFISCAIS.NUM_NOTA,
  NOTASFISCAIS.SERIE_NF,
  NOTASFISCAIS.CFOP_NOTA,
  NOTASFISCAIS.DATA_EMISSAO,
  NOTASFISCAIS.FORNECEDOR,
  NOTASFISCAIS.DATA_VENCIMENTO,
  NOTASFISCAIS.TOTAL_NOTA,
  NOTASFISCAIS.CNPJ,
  NOTASFISCAIS.IE,
  NOTASFISCAIS.USUARIO_CADASTRO,
  NOTASFISCAIS.DATA_CADASTRO,
  NOTASFISCAIS.OBSERVACOES,
  NOTASFISCAIS.MES,
  NOTASFISCAIS.ANO,
  NOTASFISCAIS.CHAVE_NFE,
  NOTASFISCAIS.PROTOCOLO_NFE,
  NOTASFISCAIS.BASE_CALCULO_ICMS,
  NOTASFISCAIS.VALOR_ICMS,
  NOTASFISCAIS.BASE_CALC_ICMS_SUBST,
  NOTASFISCAIS.VALOR_ICMS_SUBST,
  NOTASFISCAIS.VALOR_FRETE,
  NOTASFISCAIS.VALOR_SEGURO,
  NOTASFISCAIS.VALOR_DESCONTO,
  NOTASFISCAIS.VALOR_OUTRAS_DESPESAS,
  NOTASFISCAIS.VALOR_IPI,
  NOTASFISCAIS.VALOR_TOTAL_PRODUTOS,
  NOTASFISCAIS.VALOR_TOTAL_ITENS_NOTA,
  NOTASFISCAIS.VLR_ICMS_GARANTIDO,
  NOTASFISCAIS."cod_pagto",
  NOTASFISCAIS.TP,
  NOTASFISCAIS.ENDERECO_CLI_FORN,
  NOTASFISCAIS.END_NUM_CLIENTE,
  NOTASFISCAIS.COD_IBGE,
  NOTASFISCAIS.CEP_CLIENTE_FORN,
  NOTASFISCAIS.BAIRRO_CLIENTE_FORN,
  NOTASFISCAIS.TIPO_PESSOA,
  NOTASFISCAIS.CIDADE_CLIENTE_FORN,
  NOTASFISCAIS.UF_CLIENTE_FORN,
  NOTASFISCAIS.DESC_PAGTO,
  NOTASFISCAIS.VALOR_AVISTA,
  NOTASFISCAIS.VALOR_PRAZO,
  NOTASFISCAIS."pagamento",
  NOTASFISCAIS.MODELO,
  NOTASFISCAIS.EMITENTE,
  SPED_PARTICIPANTES.COD_SPED,
  SPED_PARTICIPANTES.NOME,
  SPED_PARTICIPANTES.IE,
  SPED_PARTICIPANTES.CNPJ_CPF,
  SPED_PARTICIPANTES.COD_MUNICIPIO,
  SPED_PARTICIPANTES.LOGRADOURO,
  SPED_PARTICIPANTES.NUMERO,
  SPED_PARTICIPANTES.COMPLEMENTO,
  SPED_PARTICIPANTES.BAIRRO,
  SPED_PARTICIPANTES.SUFRAMA,
  SPED_PARTICIPANTES.PAIS,
  SPED_PARTICIPANTES.COD_CLIENTE,
  SPED_PARTICIPANTES.COD_FORNECEDOR,
  SPED_PARTICIPANTES.COD_EMPRESA,
  SPED_PARTICIPANTES.TIPO,
  NOTASFISCAIS.TELEFONE,
  NOTASFISCAIS.VALOR_COFINS,
  NOTASFISCAIS.VALOR_PIS,
  NOTASFISCAIS.VALOR_PIS_ST,
  NOTASFISCAIS.VALOR_COFIS_ST,
  NOTASFISCAIS.perc_icms,
  notasfiscais.SUB_SERIE,
  notasfiscais.CST
FROM
 NOTASFISCAIS
 INNER JOIN SPED_PARTICIPANTES ON (NOTASFISCAIS.COD_FORNECEDOR=SPED_PARTICIPANTES.COD_FORNECEDOR)
 WHERE (NOTASFISCAIS.MODELO='57')
;



/* View: V_SPED_NOTAS_ITENS */
CREATE VIEW V_SPED_NOTAS_ITENS(
    CODIGO,
    CODIGO_ID,
    ITEN,
    CODIGO_PROD,
    CODIGO_PRODUTO,
    DESCRICAO_PRODUTO,
    PRECO_UNITARIO,
    DESCONTO,
    QUANTIDADE,
    PRECO_TOTAL,
    COMISSAO,
    DEV,
    QNT_DEV,
    VAL_DEV,
    ENC_FINANCEIRO,
    UNIDADE,
    SIT_TRIBUTARIA,
    VENDEDOR,
    FRACAO,
    COD_NCM,
    PROD_SERV,
    PERC_ISS,
    BASE_ISS,
    VL_ISS,
    PERC_ICM,
    BASE_ICMS,
    VL_ICM,
    PERC_IPI,
    BASE_IPI,
    VL_IPI,
    PERC_COFINS,
    BASE_COFINS,
    VL_COFINS,
    PERC_ICMS_SUBST,
    BASE_ICMS_SUBST,
    VL_ICMS_SUBST,
    PERC_PIS,
    BASE_PIS,
    VL_PIS,
    IMPRIME,
    COD_EMPRESA,
    ID_BICO,
    ID_TANQUE,
    ID_BOMBA,
    CST_VENDA,
    MODELO_NF,
    CFOP_NF,
    NUM_NOTA,
    COD_UNIDADE)
AS
SELECT 
  PEDIDOS_ITENS.CODIGO,
  PEDIDOS_ITENS.CODIGO_ID,
  PEDIDOS_ITENS.ITEN,
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.CODIGO_PRODUTO,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.PRECO_UNITARIO,
  PEDIDOS_ITENS.DESCONTO,
  PEDIDOS_ITENS.QUANTIDADE,
  PEDIDOS_ITENS.PRECO_TOTAL,
  PEDIDOS_ITENS.COMISSAO,
  PEDIDOS_ITENS.DEV,
  PEDIDOS_ITENS.QNT_DEV,
  PEDIDOS_ITENS.VAL_DEV,
  PEDIDOS_ITENS.ENC_FINANCEIRO,
  PEDIDOS_ITENS.UNIDADE,
  PEDIDOS_ITENS.SIT_TRIBUTARIA,
  PEDIDOS_ITENS.VENDEDOR,
  PEDIDOS_ITENS.FRACAO,
  PEDIDOS_ITENS.COD_NCM,
  PEDIDOS_ITENS.PROD_SERV,
  PEDIDOS_ITENS.PERC_ISS,
  PEDIDOS_ITENS.BASE_ISS,
  PEDIDOS_ITENS.VL_ISS,
  PEDIDOS_ITENS.PERC_ICM,
  PEDIDOS_ITENS.BASE_ICMS,
  PEDIDOS_ITENS.VL_ICM,
  PEDIDOS_ITENS.PERC_IPI,
  PEDIDOS_ITENS.BASE_IPI,
  PEDIDOS_ITENS.VL_IPI,
  PEDIDOS_ITENS.PERC_COFINS,
  PEDIDOS_ITENS.BASE_COFINS,
  PEDIDOS_ITENS.VL_COFINS,
  PEDIDOS_ITENS.PERC_ICMS_SUBST,
  PEDIDOS_ITENS.BASE_ICMS_SUBST,
  PEDIDOS_ITENS.VL_ICMS_SUBST,
  PEDIDOS_ITENS.PERC_PIS,
  PEDIDOS_ITENS.BASE_PIS,
  PEDIDOS_ITENS.VL_PIS,
  PEDIDOS_ITENS.IMPRIME,
  PEDIDOS_ITENS.COD_EMPRESA,
  PEDIDOS_ITENS.ID_BICO,
  PEDIDOS_ITENS.ID_TANQUE,
  PEDIDOS_ITENS.ID_BOMBA,
  GRUPO_TRIBUTACAO.CST_VENDA,
  PEDIDOS.MODELO_NF,
  PEDIDOS.CFOP_NF,
  PEDIDOS.NUM_NOTA,
  UNIDADES.codigo
FROM
 PEDIDOS_ITENS
 INNER JOIN PEDIDOS ON (PEDIDOS_ITENS.CODIGO_ID=PEDIDOS.CODIGO)
 INNER JOIN PRODUTOS ON (PEDIDOS_ITENS.CODIGO_PROD=PRODUTOS.CODIGO)
 INNER JOIN GRUPO_TRIBUTACAO ON (PRODUTOS.GRUPO_TRIBUTACAO=GRUPO_TRIBUTACAO.COD_GRUPO)
 INNER JOIN UNIDADES ON (PEDIDOS_ITENS.UNIDADE=UNIDADES.ABREVIATURA)
WHERE
  (PEDIDOS.NUM_NOTA > 0)
;



/* View: V_SPED_PRODUTOS */
CREATE VIEW V_SPED_PRODUTOS(
    CODIGO,
    COD_BARRAS,
    DESCRICAO,
    UNIDADE,
    TIPO_ATIVIDADE,
    COD_NCM,
    MES,
    ANO,
    CEST)
AS
SELECT DISTINCT
    SP.CODIGO,
    SP.COD_BARRAS,
    SP.DESCRICAO,
    SP.UNIDADE,
    SP.TIPO_ATIVIDADE,
    SP.COD_NCM,
    SP.MES,
    SP.ANO,
    PR.cest
FROM SPED_PRODUTOS SP
LEFT JOIN PRODUTOS PR ON(SP.codigo = PR.codigo)
;



/* View: V_SPED_TOTAL_PIS_COFINS */
CREATE VIEW V_SPED_TOTAL_PIS_COFINS(
    DATA_PEDIDO,
    VL_PIS,
    VL_COFINS)
AS
SELECT 
PEDIDOS.DATA_PEDIDO,
Sum(PEDIDOS_ITENS.VL_PIS) AS VL_TOTAL_PIS,
Sum(PEDIDOS_ITENS.VL_COFINS) AS VL_TOTAL_COFINS
FROM
PEDIDOS_ITENS INNER JOIN PEDIDOS ON PEDIDOS_ITENS.CODIGO_ID = PEDIDOS.CODIGO
WHERE PEDIDOS.N_CUPOM > ''
GROUP BY 
PEDIDOS.DATA_PEDIDO
;



/* View: V_UNIDADES */
CREATE VIEW V_UNIDADES(
    ABREVIATURA)
AS
SELECT DISTINCT
  UNIDADES.ABREVIATURA
FROM
 SPED_PRODUTOS
 INNER JOIN UNIDADES ON (SPED_PRODUTOS.UNIDADE=UNIDADES.CODIGO)
;



/* View: V_UNIDADES_NAO_CADASTRADAS */
CREATE VIEW V_UNIDADES_NAO_CADASTRADAS(
    DESC_UNIDADE)
AS
SELECT DISTINCT NOTASFISCAIS_ITENS.DESC_UNIDADE
FROM NOTASFISCAIS_ITENS LEFT JOIN UNIDADES ON NOTASFISCAIS_ITENS.DESC_UNIDADE = UNIDADES.ABREVIATURA
WHERE (((UNIDADES.ABREVIATURA) Is Null))
;



/* View: V_UNIDADES_SPED */
CREATE VIEW V_UNIDADES_SPED(
    CODIGO,
    ABREVIATURA,
    DESCRICAO)
AS
SELECT DISTINCT
  UNIDADES.CODIGO,
  UNIDADES.ABREVIATURA,
  UNIDADES.DESCRICAO
FROM
 NOTASFISCAIS_ITENS
 INNER JOIN UNIDADES ON (NOTASFISCAIS_ITENS.DESC_UNIDADE=UNIDADES.ABREVIATURA)
 INNER JOIN NOTASFISCAIS ON (NOTASFISCAIS_ITENS.CODIGO_NOTA=NOTASFISCAIS.CODIGO_NOTA)
 INNER JOIN SPED_PRODUTOS ON (NOTASFISCAIS.MES=SPED_PRODUTOS.MES)
  AND (NOTASFISCAIS.ANO=SPED_PRODUTOS.ANO)
;



/* View: V_VEICULOS */
CREATE VIEW V_VEICULOS(
    NOME,
    COD_CLI,
    NOME_CLI,
    COMBUSTIVEL,
    ANO,
    PLACA,
    UFPLACA,
    CIDADE,
    CHASSI,
    COD_CLIENTE,
    ISENTO_IPVA,
    FJ_CLI,
    ENDRES_CLI,
    BAIRES_CLI,
    CIDRES_CLI,
    ESTRES_CLI,
    CEPRES_CLI,
    TELRES_CLI,
    CODIGO,
    RENAVAM,
    NUMRES_CLI,
    EMAIL_CLI,
    COR,
    OBS1,
    OBS2,
    OBS3,
    CNPJ_CLI,
    ATIVO_CLI,
    NASCIMENTO_CLI,
    INSC_ESTADUAL,
    CELULAR_CLI)
AS
SELECT
  VEICULO.NOME,
  CLIENTES.CODIGO,
  CLIENTES.NOME_RS,
  VEICULO.COMBUSTIVEL,
  VEICULO.ANO,
  VEICULO.PLACA,
  VEICULO.UFPLACA,
  VEICULO.CIDADE,
  VEICULO.CHASSI,
  VEICULO.COD_CLIENTE,
  VEICULO.ISENTO_IPVA,
  CLIENTES.TIPO,
  CLIENTES.endereco,
  CLIENTES.BAIRRO,
  CLIENTES.CIDADE,
  CLIENTES.UF,
  CLIENTES.CEP,
  CLIENTES.telefone,
  VEICULO.CODIGO,
  VEICULO.RENAVAM,
  CLIENTES.NUMERO,
  CLIENTES.EMAIL,
  VEICULO.COR,
  VEICULO.OBS1,
  VEICULO.OBS2,
  VEICULO.OBS3,
  CLIENTES.cpf_cnpj,
  CLIENTES.ATIVO,
  CLIENTES.NASCIMENTO_IA,
  CLIENTES.RG_IE,
  CLIENTES.CELULAR
FROM
 VEICULO
 INNER JOIN CLIENTES ON (VEICULO.COD_CLIENTE=CLIENTES.CODIGO)
;



/* View: V_VENDAS_CLIENTE_PRODUTOS */
CREATE VIEW V_VENDAS_CLIENTE_PRODUTOS(
    CODIGO_ID,
    CODIGO_PROD,
    CODIGO_PRODUTO,
    DESCRICAO_PRODUTO,
    PRECO_UNITARIO,
    DESCONTO,
    QUANTIDADE,
    PRECO_TOTAL,
    COMISSAO,
    DEV,
    QNT_DEV,
    VAL_DEV,
    ENC_FINANCEIRO,
    UNIDADE,
    SIT_TRIBUTARIA,
    VENDEDOR,
    FRACAO,
    CODIGO_CLIENTE,
    NOME_CLIENTE,
    DATA_PEDIDO,
    CODIGO,
    PRECO_CUSTO,
    CUSTO_MEDIO,
    PRECO_VENDA,
    CUSTO_TOTAL,
    CUSTO_T_MEDIO,
    PROD_SERV,
    AVISTA,
    PRAZO)
AS
SELECT
  PEDIDOS_ITENS.CODIGO_ID,
  PEDIDOS_ITENS.CODIGO_PROD,
  PEDIDOS_ITENS.CODIGO_PRODUTO,
  PEDIDOS_ITENS.DESCRICAO_PRODUTO,
  PEDIDOS_ITENS.PRECO_UNITARIO,
  PEDIDOS_ITENS.DESCONTO,
  PEDIDOS_ITENS.QUANTIDADE,
  PEDIDOS_ITENS.PRECO_TOTAL,
  PEDIDOS_ITENS.COMISSAO,
  PEDIDOS_ITENS.DEV,
  PEDIDOS_ITENS.QNT_DEV,
  PEDIDOS_ITENS.VAL_DEV,
  PEDIDOS_ITENS.ENC_FINANCEIRO,
  PEDIDOS_ITENS.UNIDADE,
  PEDIDOS_ITENS.SIT_TRIBUTARIA,
  PEDIDOS_ITENS.VENDEDOR,
  PEDIDOS_ITENS.FRACAO,
  PEDIDOS.CODIGO_CLIENTE,
  PEDIDOS.NOME_CLIENTE,
  PEDIDOS.DATA_PEDIDO,
  PEDIDOS.CODIGO,
  PRODUTOS.PRECO_CUSTO,
  PRODUTOS.CUSTO_MEDIO,
  PRODUTOS.PRECO_VENDA,
  (PEDIDOS_ITENS.QUANTIDADE * PRODUTOS.PRECO_CUSTO) AS custo_total,
  (PEDIDOS_ITENS.QUANTIDADE * PRODUTOS.CUSTO_MEDIO) AS custo_t_MEDIO,
  produtos.prod_serv,
  PEDIDOS.valor_avista,
  PEDIDOS.valor_prazo
FROM
 PEDIDOS
 INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
 INNER JOIN PRODUTOS ON (PEDIDOS_ITENS.CODIGO_PROD=PRODUTOS.CODIGO)
;



/* View: V_VENDAS_PRODUTOS */
CREATE VIEW V_VENDAS_PRODUTOS(
    CODPRODUTO,
    QTDE,
    DATA)
AS
SELECT 
  PEDIDOS_ITENS.CODIGO_PROD AS CODPRODUTO,
  PEDIDOS_ITENS.QUANTIDADE AS QTDE,
  PEDIDOS.DATA_PEDIDO AS DATA
FROM
 PEDIDOS
 INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
;



/* View: VIEW_ABERTURA_OS_AUTO */
CREATE VIEW VIEW_ABERTURA_OS_AUTO(
    ID,
    NUMERO,
    ABERTURA,
    PREVISAO,
    ATENDIMENTO,
    CLIENTE,
    CPF_CNPJ,
    FONE,
    ENDERECO,
    VEICULO,
    MARCA,
    ANO,
    COR,
    PLACA,
    KM,
    DEFEITO_CLIENTE,
    DEFEITO_ENCONTRADO,
    EMPRESA,
    EMPRESA_CNPJ,
    EMPRESA_FONE,
    EMPRESA_LOGO)
AS
SELECT
    OS.ID AS ID,
    OS.NUMERO_OS AS NUMERO,
    OS.DATA_OS AS ABERTURA,
    OS.DATA_LAUDO AS PREVISAO,
    TPA.TIPOATENDIMENTO AS ATENDIMENTO,
    CL.NOME_RS AS CLIENTE,
    CL.CPF_CNPJ AS CPF_CNPJ,
    CL.TELEFONE AS FONE,
    coalesce(CL.ENDERECO,'') ||', '|| coalesce(CL.BAIRRO,'') ||' N'|| coalesce(CL.NUMERO,'') ||', '||
    coalesce(CL.CIDADE,'') ||' - '|| coalesce(CL.UF,'') ||' CEP:'|| coalesce(CL.CEP,'') AS ENDERECO,
    coalesce(VL.NOME,'') ||' - '|| coalesce(OS.MODELO_CARRO,'')  AS VEICULO,
    OS.MARCA_CARRO AS MARCA,
    VL.ANO AS ANO,
    VL.COR AS COR,
    OS.PLACA_CARRO AS PLACA,
    OS.KM_CARRO AS KM,
    OS.DEFEITO_CARRO AS DEFEITO_CLIENTE,
    OS.DEFEITO_LAUDO AS DEFEITO_ENCONTRADO,
    EP.NOME_FANTASIA AS EMPRESA,
    EP.CNPJ AS EMPRESA_CNPJ,
    EP.TELEFONE AS EMPRESA_FONE,
    EP.LOGOMARCA AS EMPRESA_LOGO
FROM OS_AUTO OS
    LEFT JOIN OS_TIPOATENDIMENTO TPA ON (TPA.ID_OS_TIPO = OS.ID_ATENDIMENTO)
    LEFT JOIN CLIENTES CL ON (CL.CODIGO = OS.ID_CLIENTE)
    LEFT JOIN VEICULO VL ON (VL.CODIGO = OS.ID_VEICULO)
    LEFT JOIN EMPRESA EP ON (EP.CODIGO = 1)
;



/* View: VIEW_CONTRATO */
CREATE VIEW VIEW_CONTRATO(
    CLIENTE,
    CONTRATO,
    PLANO,
    CARACTERISTICA,
    SITUACAO,
    DESCRICAO,
    LANCAMENTO,
    VALOR,
    ID,
    CPF_CNPJ,
    ID_CLIENTE)
AS
SELECT distinct
    coalesce(CL.NOME_RS,'EMPRESA') AS CLIENTE,
    CT.CONTRATO AS CONTRATO,
    CT.PLANO AS PLANO,
    CT.CARACTERISTICA AS CARACTERISTICA,
    CT.SITUACAO AS SITUACAO,
    CT.DESCRICAO AS DESCRICAO,
    (SELECT LANCAMENTO FROM MV_CT_PARCELA WHERE ID_CONTRATO = CT.ID AND NUMERO = 1) AS LANCAMENTO,
    (SELECT VALOR FROM MV_CT_PARCELA WHERE ID_CONTRATO = CT.ID AND NUMERO = coalesce(CTV.parcelas_entrada,1) + 1) AS VALOR,
    CT.ID AS ID,
    CL.CPF_CNPJ AS CPF_CNPJ,
    CL.codigo AS ID_CLIENTE
FROM MV_CONTRATO CT
    LEFT JOIN MV_CT_IMOVEL_ALUGUEL CTA ON (CTA.ID_CONTRATO = CT.ID)
    LEFT JOIN MV_CT_IMOVEL_VENDA CTV ON (CTV.ID_CONTRATO = CT.ID)
    LEFT JOIN MV_CT_IMOVEL_COMPRA CTC ON (CTC.ID_CONTRATO = CT.ID)
    LEFT JOIN CLIENTES CL ON (CL.CODIGO = (SELECT ID_CLIENTE FROM MV_CT_PARCELA WHERE ID_CONTRATO = CT.ID AND NUMERO = 1))
;



/* View: VIEW_CONTRATO_ALUGUEL */
CREATE VIEW VIEW_CONTRATO_ALUGUEL(
    CTP_NOME,
    CTP_NATURALIDADE,
    CTP_ESTADO_CIVIL,
    CTP_CPF_CNPJ,
    CTP_CIDADE,
    CTP_ESTADO,
    CTP_RG,
    CTP_ORGAO_EMISSOR,
    CTI_NOME,
    CTI_TIPO_PESSOA,
    CTI_NATURALIDADE,
    CTI_ESTADO_CIVIL,
    CTI_CPF_CNPJ,
    CTI_RG,
    CTI_ORGAO_EMISSOR,
    CTI_TELEFONE,
    CTI_CIDADE,
    CTI_ESTADO,
    IM_ENDERECO,
    IM_BAIRRO,
    IM_CIDADE,
    IM_ESTADO,
    IM_CEP,
    IM_ENERGIA,
    IM_AGUA,
    IMA_PRAZO,
    IMA_DATA_INICIO,
    IMA_DATA_TERMINO,
    IMA_VENCIMENTO,
    IMA_CARENCIA,
    IMA_MULTA_ATRASO,
    IMA_JUROS_MORA,
    IMA_FINALIDADE,
    IMA_OBS,
    VALOR,
    ID)
AS
SELECT distinct
    CTP.NOME_RS CTP_NOME,
    CTP.NATURALIDADE CTP_NATURALIDADE,
    CTP.estadocivil CTP_ESTADO_CIVIL,
    CTP.cpf_cnpj CTP_CPF_CNPJ,
    CTP.cidade CTP_CIDADE,
    CTP.uf CTP_ESTADO,
    CTP.rg_ie CTP_RG,
    CTP.orgao_emissor CTP_ORGAO_EMISSOR,

    CTI.NOME_RS CTI_NOME,
    CTI.tipo CTI_TIPO_PESSOA,
    CTI.naturalidade CTI_NATURALIDADE,
    CTI.estadocivil CTI_ESTADO_CIVIL,
    CTI.cpf_cnpj CTI_CPF_CNPJ,
    CTI.rg_ie CTI_RG,
    CTI.orgao_emissor CTI_ORGAO_EMISSOR,
    CTI.telefone CTI_TELEFONE,
    CTI.cidade CTI_CIDADE,
    CTI.UF CTI_ESTADO,

    IM.endereco IM_ENDERECO,
    IM.bairro IM_BAIRRO,
    IM.cidade IM_CIDADE,
    IM.uf IM_ESTADO,
    IM.cep IM_CEP,
    IM.cod_energia IM_ENERGIA,
    IM.cod_agua IM_AGUA,

    IMA.prazo IMA_PRAZO,
    IMA.data_inicio IMA_DATA_INICIO,
    IMA.data_termino IMA_DATA_TERMINO,
    IMA.pg_vencimento_dia IMA_VENCIMENTO,
    IMA.dias_carencia IMA_CARENCIA,
    IMA.multa_atraso IMA_MULTA_ATRASO,
    IMA.juros_mora IMA_JUROS_MORA,
    IMA.finalidade IMA_FINALIDADE,
    IMA.OBS IMA_OBS,

    PC.VALOR,

    CP.ID
FROM MV_CONTRATO CP
    JOIN MV_CT_IMOVEL_ALUGUEL IMA ON (IMA.ID_CONTRATO = CP.ID)
    JOIN MV_CT_PARCELA PC ON (PC.ID_CONTRATO = CP.ID)
    JOIN CLIENTES CTP ON (CTP.CODIGO = IMA.ID_PROPRIETARIO)
    JOIN CLIENTES CTI ON (CTI.CODIGO = IMA.ID_INQUILINO)
    JOIN PRODUTOS_IMOVEL IM ON (IM.ID = IMA.ID_IMOVEL)
;



/* View: VIEW_CONTRATO_VENDA */
CREATE VIEW VIEW_CONTRATO_VENDA(
    CP_NOME,
    CP_CPF_CNPJ,
    CP_ESTADO_CIVIL,
    CP_ENDERECO,
    CP_TELEFONE,
    CP_EMAIL,
    CP_PROFISSAO,
    CJ_NOME,
    CJ_CPF,
    CJ_PROFISSAO,
    PR_NOME,
    PR_CPF_CNPJ,
    PR_ESTADO_CIVIL,
    PR_ENDERECO,
    PR_TELEFONE,
    PR_EMAIL,
    PR_PROFISSAO,
    PRJ_NOME,
    PRJ_CPF,
    PRJ_PROFISSAO,
    PR_BANCO,
    PR_AGENCIA,
    PR_CONTA,
    IM_MATRICULA,
    IM_CARTORIO,
    IM_ENDERECO,
    IM_VALOR,
    COMISSAO,
    ID)
AS
SELECT distinct
    CP.NOME_RS AS CP_NOME,
    CP.CPF_CNPJ AS CP_CPF_CNPJ,
    CP.estadocivil AS CP_ESTADO_CIVIL,
    CP.endereco AS CP_ENDERECO,
    CP.telefone AS CP_TELEFONE,
    CP.email AS CP_EMAIL,
    CPP.profissao_ocupacao AS CP_PROFISSAO,
    CP.nome_conjuge AS CJ_NOME,
    CP.cpf_conjuge AS CJ_CPF,
    CP.profissao_conjuge AS CJ_PROFISSAO,

    PR.NOME_RS AS PR_NOME,
    PR.CPF_CNPJ AS PR_CPF_CNPJ,
    PR.estadocivil AS PR_ESTADO_CIVIL,
    PR.endereco AS PR_ENDERECO,
    PR.telefone AS PR_TELEFONE,
    PR.email AS PR_EMAIL,
    PRP.profissao_ocupacao AS PR_PROFISSAO,
    PR.nome_conjuge AS PRJ_NOME,
    PR.cpf_conjuge AS PRJ_CPF,
    PR.profissao_conjuge AS PRJ_PROFISSAO,
    PR.BANCO AS PR_BANCO,
    PR.numero_agencia AS PR_AGENCIA,
    PR.conta_bancaria AS PR_CONTA,

    IM.matricula AS IM_MATRICULA,
    IM.cartorio AS IM_CARTORIO,
    IM.ENDERECO ||', Bairro: '|| IM.BAIRRO ||', N '|| IM.NUMERO ||' - '|| IM.CIDADE ||' - '|| IM.UF AS IM_ENDERECO,
    IM.valor_venda AS IM_VALOR,

    IMV.intermediacao AS COMISSAO,
    CT.ID AS ID

FROM MV_CONTRATO CT
    JOIN MV_CT_IMOVEL_VENDA IMV ON (IMV.ID_CONTRATO = CT.ID)
    JOIN PRODUTOS_IMOVEL IM ON (IM.ID = IMV.ID_IMOVEL)
    JOIN CLIENTES CP ON (CP.CODIGO = IMV.ID_COMPRADOR)
    left JOIN CLIENTES_PROFISSAO CPP ON (CPP.ID_CLIENTES = CP.CODIGO)
    JOIN CLIENTES PR ON (PR.CODIGO = IMV.ID_VENDEDOR)
    LEFT JOIN CLIENTES_PROFISSAO PRP ON (PRP.ID_CLIENTES = PR.CODIGO)
;



/* View: VIEW_IMOVEL */
CREATE VIEW VIEW_IMOVEL(
    ENDERECO,
    ID,
    ID_PRODUTOS,
    ALUGUEL,
    VENDA,
    SITUACAO,
    N_LOTE,
    QUADRA,
    DESCRICAO,
    PRECO_CUSTO,
    PRECO_VENDA,
    MARGEM_LUCRO,
    PERC_IMPOSTO,
    ESTOQUE,
    VALOR_COMPRA,
    DATA_COMPRA,
    ID_CENTRO_CUSTO)
AS
SELECT
    P.DESCRICAO ||', End: '|| coalesce(IM.ENDERECO,'') ||', Bairro: '|| coalesce(IM.BAIRRO,'') ||', N '||coalesce(IM.NUMERO,'') ||' - '|| coalesce(IM.CIDADE,'') ||' - '|| coalesce(IM.UF,'') AS ENDERECO,
    IM.ID,
    IM.id_produtos,
    IM.VALOR_ALUGUEL AS ALUGUEL,
    IM.VALOR_VENDA AS VENDA,
    IM.SITUACAO AS SITUACAO,
    IM.N_LOTE,
    IM.QUADRA,
    P.DESCRICAO,
    P.PRECO_CUSTO,
    P.PRECO_VENDA,
    P.MARGEM_LUCRO,
    IM.PERC_IMPOSTO,
    P.ESTOQUE,
    IC.VALOR AS VALOR_COMPRA,
    IC.DATA_COMPRA,
    IC.ID_CENTRO_CUSTO
    
FROM PRODUTOS_IMOVEL IM
 LEFT OUTER JOIN PRODUTOS P ON (IM.ID_PRODUTOS=P.CODIGO)
 LEFT OUTER JOIN MV_CT_IMOVEL_COMPRA IC ON (IC.ID_CONTRATO=IM.ID)
;



/* View: VIEW_IMOVEL_ALUGUEL */
CREATE VIEW VIEW_IMOVEL_ALUGUEL(
    IM_VISUALIZANDO,
    IM_OPERACAO,
    IM_CODIGO_AGUA,
    IM_CODIGO_IPTU,
    IM_CODIGO_ENERGIA,
    IM_AREA_TERRENO,
    IM_TESTADA,
    IM_LAD_DIREITO,
    IM_LAD_ESQUERDO,
    IM_PROFUNDIDADE,
    IM_BANHEIROS,
    IM_SUITES,
    IM_QUARTOS,
    IM_GARAGEM,
    IM_SALAS,
    PS_NOME,
    PS_CPF_CNPJ,
    PS_TIPO_PESSOA,
    PS_ENDERECO,
    PS_EMAIL,
    PS_TELEFONE,
    PS_CELULAR,
    DATACAD,
    DATAULTALTERACAO)
AS
SELECT
    coalesce(PML.ENDERECO,'') ||', Bairro: '|| coalesce(PML.BAIRRO,'') ||', N '||
    coalesce(PML.NUMERO,'') ||' - '|| coalesce(PML.CIDADE,'') ||' - '|| coalesce(PML.UF,'') AS IM_VISUALIZANDO,
    PML.SITUACAO AS IM_OPERACAO,
    PML.cod_agua AS IM_CODIGO_AGUA,
    PML.cod_iptu AS IM_CODIGO_IPTU,
    PML.cod_energia AS IM_CODIGO_ENERGIA,
    PML.area_terreno AS IM_AREA_TERRENO,
    PML.testada AS IM_TESTADA,
    PML.lado_direiro AS IM_LAD_DIREITO,
    PML.lado_esquerdo AS IM_LAD_ESQUERDO,
    PML.profundidade AS IM_PROFUNDIDADE,
    PML.n_banheiros AS IM_BANHEIROS,
    PML.n_suites AS IM_SUITES,
    PML.n_quartos AS IM_QUARTOS,
    PML.n_garagens AS IM_GARAGEM,
    PML.n_salas AS IM_SALAS,

    PRO.NOME_RS AS PS_NOME,
    PRO.CPF_CNPJ AS PS_CPF_CNPJ,
    PRO.TIPO AS PS_TIPO_PESSOA,
    coalesce(PRO.ENDERECO,'') ||', Bairro: '|| coalesce(PRO.BAIRRO,'') ||', N '||
    coalesce(PRO.NUMERO,'') ||' - '|| coalesce(PRO.CIDADE,'') ||' - '|| coalesce(PRO.UF,'') AS PS_ENDERECO,
    PRO.EMAIL AS PS_EMAIL,
    PRO.TELEFONE AS PS_TELEFONE,
    PRO.CELULAR AS PS_CELULAR,

    PT.datacad AS DATACAD,
    PT.dataultalteracao AS DATAULTALTERACAO
FROM MV_CONTRATO CT
    INNER JOIN MV_CT_IMOVEL_ALUGUEL IML ON (IML.id_contrato = CT.ID)
    INNER JOIN PRODUTOS_IMOVEL PML ON (PML.ID = IML.id_imovel)
    INNER JOIN PRODUTOS PT ON (PT.CODIGO = PML.id_produtos)
    INNER JOIN CLIENTES PRO ON (PRO.CODIGO = IML.id_proprietario)
;



/* View: VIEW_IMOVEL_VENDA */
CREATE VIEW VIEW_IMOVEL_VENDA(
    IM_VISUALIZANDO,
    IM_OPERACAO,
    IM_CODIGO_AGUA,
    IM_CODIGO_IPTU,
    IM_CODIGO_ENERGIA,
    IM_AREA_TERRENO,
    IM_TESTADA,
    IM_LAD_DIREITO,
    IM_LAD_ESQUERDO,
    IM_PROFUNDIDADE,
    IM_BANHEIROS,
    IM_SUITES,
    IM_QUARTOS,
    IM_GARAGEM,
    IM_SALAS,
    PS_NOME,
    PS_CPF_CNPJ,
    PS_TIPO_PESSOA,
    PS_ENDERECO,
    PS_EMAIL,
    PS_TELEFONE,
    PS_CELULAR,
    DATACAD,
    DATAULTALTERACAO)
AS
SELECT
    coalesce(PMV.ENDERECO,'') ||', Bairro: '|| coalesce(PMV.BAIRRO,'') ||', N '||
    coalesce(PMV.NUMERO,'') ||' - '|| coalesce(PMV.CIDADE,'') ||' - '|| coalesce(PMV.UF,'') AS IM_VISUALIZANDO,
    PMV.SITUACAO AS IM_OPERACAO,
    PMV.cod_agua AS IM_CODIGO_AGUA,
    PMV.cod_iptu AS IM_CODIGO_IPTU,
    PMV.cod_energia AS IM_CODIGO_ENERGIA,
    PMV.area_terreno AS IM_AREA_TERRENO,
    PMV.testada AS IM_TESTADA,
    PMV.lado_direiro AS IM_LAD_DIREITO,
    PMV.lado_esquerdo AS IM_LAD_ESQUERDO,
    PMV.profundidade AS IM_PROFUNDIDADE,
    PMV.n_banheiros AS IM_BANHEIROS,
    PMV.n_suites AS IM_SUITES,
    PMV.n_quartos AS IM_QUARTOS,
    PMV.n_garagens AS IM_GARAGEM,
    PMV.n_salas AS IM_SALAS,

    PRO.NOME_RS AS PS_NOME,
    PRO.CPF_CNPJ AS PS_CPF_CNPJ,
    PRO.TIPO AS PS_TIPO_PESSOA,
    coalesce(PRO.ENDERECO,'') ||', Bairro: '|| coalesce(PRO.BAIRRO,'') ||', N '||
    coalesce(PRO.NUMERO,'') ||' - '|| coalesce(PRO.CIDADE,'') ||' - '|| coalesce(PRO.UF,'') AS PS_ENDERECO,
    PRO.EMAIL AS PS_EMAIL,
    PRO.TELEFONE AS PS_TELEFONE,
    PRO.CELULAR AS PS_CELULAR,

    PT.datacad AS DATACAD,
    PT.dataultalteracao AS DATAULTALTERACAO
FROM MV_CONTRATO CT
    INNER JOIN MV_CT_IMOVEL_VENDA IMV ON (IMV.id_contrato = CT.ID)
    INNER JOIN PRODUTOS_IMOVEL PMV ON (PMV.ID = IMV.id_imovel)
    INNER JOIN PRODUTOS PT ON (PT.CODIGO = PMV.id_produtos)
    INNER JOIN CLIENTES PRO ON (PRO.CODIGO = IMV.id_vendedor)
;



/* View: VIEW_IMPORTAR_XMLS */
CREATE VIEW VIEW_IMPORTAR_XMLS(
    CHAVE,
    XML)
AS
SELECT
    IX.CHAVE,
    IX.XML
FROM IMPORTAR_XMLS IX
WHERE IX.STATUS = 'A'
AND IX.CHAVE NOT IN(SELECT NF.CHAVE_NFE FROM NOTASFISCAIS NF WHERE NF.DATA_EMISSAO >= '2017-01-01')
;



/* View: VIEW_SPED_0000 */
CREATE VIEW VIEW_SPED_0000(
    NOME,
    CNPJ,
    UF,
    IE,
    COD_MUN,
    IM,
    SUFRAMA,
    IND_ATIV)
AS
SELECT
    FIRST 1
    E.RAZAO_SOCIAL AS NOME,
    E.CNPJ AS CNPJ,
    E.UF AS UF,
    E.IE AS IE,
    E.COD_CID_IBGE AS COD_MUN,
    E.IM AS IM,
    E.SUFRAMA AS SUFRAMA,
    '1' AS IND_ATIV
FROM EMPRESA E
;



/* View: VIEW_SPED_0005 */
CREATE VIEW VIEW_SPED_0005(
    FANTASIA,
    CEP,
    ENDERECO,
    NUM,
    COMPL,
    BAIRRO,
    FONE,
    FAX,
    EMAIL)
AS
SELECT
    FIRST 1
    E.NOME_FANTASIA AS FANTASIA,
    E.CEP AS CEP,
    E.ENDERECO AS ENDERECO,
    E.NUMERO AS NUM,
    E.COMPLEMENTO AS COMPL,
    E.BAIRRO AS BAIRRO,
    E.TELEFONE AS FONE,
    E.FAX AS FAX,
    E.EMAIL AS EMAIL
FROM EMPRESA E
;



/* View: VIEW_SPED_0100 */
CREATE VIEW VIEW_SPED_0100(
    NOME,
    CPF,
    CRC,
    CNPJ,
    CEP,
    ENDERECO,
    NUM,
    COMPL,
    BAIRRO,
    FONE,
    FAX,
    EMAIL,
    COD_MUN)
AS
SELECT
    FIRST 1
    E.NOME_CONTADOR AS NOME,
    E.CPF_CONTADOR AS CPF,
    E.CRC_CONTADOR AS CRC,
    E.CNPJ_CONTADOR AS CNPJ,
    E.CEP_CONTADOR AS CEP,
    E.ENDERECO_CONTADOR AS ENDERECO,
    E.NUM_CONTADOR AS NUM,
    E.COMPL_CONTADOR AS COMPL,
    E.BAIRRO_CONTADOR AS BAIRRO,
    E.FONE_CONTADOR AS FONE,
    E.FAX_CONTADOR AS FAX,
    E.EMAIL_CONTADOR AS EMAIL,
    E.COD_IBGE_CONTADOR AS COD_MUN
FROM EMPRESA E
;



/* View: VIEW_SPED_0150 */
CREATE VIEW VIEW_SPED_0150(
    COD_PART,
    NOME,
    COD_PAIS,
    CPF,
    CNPJ,
    IE,
    COD_MUN,
    SUFRAMA,
    ENDERECO,
    NUM,
    COMPL,
    BAIRRO,
    MES,
    ANO)
AS
SELECT
    X.COD_PART,
    X.NOME,
    X.COD_PAIS,
    X.CPF,
    X.CNPJ,
    X.IE,
    X.COD_MUN,
    X.SUFRAMA,
    X.ENDERECO,
    X.NUM,
    X.COMPL,
    X.BAIRRO,
    X.MES,
    X.ANO
    FROM (
SELECT
    DISTINCT
    CAST('F' || F.CODIGO AS VARCHAR(50)) AS COD_PART,
    F.NOME AS NOME,
    '01058' AS COD_PAIS,
    '' AS CPF,
    F.CNPJ AS CNPJ,
    F.IE AS IE,
    F."codigo_ibge" AS COD_MUN,
    '' AS SUFRAMA,
    F.ENDERECO AS ENDERECO,
    F.NUMERO AS NUM,
    F.COMPLEMENTO AS COMPL,
    F.BAIRRO AS BAIRRO,
    CAST(LPAD(EXTRACT(MONTH FROM N.DATA_EMISSAO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM N.DATA_EMISSAO),4,'0') AS VARCHAR(4)) AS ANO
FROM NOTASFISCAIS N
JOIN FORNECEDORES F ON(F.CODIGO = N.COD_FORNECEDOR)
WHERE N.DATA_EMISSAO >= '2017-01-01'
AND N.SITUACAO = 2
AND N.INTEGRACAO IN(0,1)
AND N.MODELO = '55'
AND N.OPERACAO IN('P','V')

UNION

SELECT
    DISTINCT
    CAST('C' || C.CODIGO AS VARCHAR(50)) AS COD_PART,
    C.NOME_RS AS NOME,
    '01058' AS COD_PAIS,
    '' AS CPF,
    C.CPF_CNPJ AS CNPJ,
    C.RG_IE AS IE,
    CD.COD_IBGE AS COD_MUN,
    '' AS SUFRAMA,
    C.ENDERECO AS ENDERECO,
    C.NUMERO AS NUM,
    C.COMPLEMENTO AS COMPL,
    C.BAIRRO AS BAIRRO,
    CAST(LPAD(EXTRACT(MONTH FROM N.DT_EMISSAO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM N.DT_EMISSAO),4,'0') AS VARCHAR(4)) AS ANO
FROM NFE_NOTA N
JOIN CLIENTES C ON (C.CODIGO = N.COD_CLIENTE)
JOIN CIDADES CD ON(CD.COD_CIDADE = C.COD_CIDADE)
WHERE N.DT_EMISSAO >= '2017-01-01'
AND N.CHAVE_ACESSO_NFE IS NOT NULL
AND N.CHAVE_ACESSO_NFE <> ''
AND N.STATUS = 'S'
AND N.STATUS_CANCELADO IS NULL
AND N.STATUS_INUTILIZADO IS NULL
AND N.NR_PROTOCOLO_NFE IS NOT NULL

UNION

SELECT
    DISTINCT
    CAST('C' || C.CODIGO AS VARCHAR(50)) AS COD_PART,
    C.NOME_RS AS NOME,
    '01058' AS COD_PAIS,
    '' AS CPF,
    C.CPF_CNPJ AS CNPJ,
    C.RG_IE AS IE,
    CD.COD_IBGE AS COD_MUN,
    '' AS SUFRAMA,
    C.ENDERECO AS ENDERECO,
    C.NUMERO AS NUM,
    C.COMPLEMENTO AS COMPL,
    C.BAIRRO AS BAIRRO,
    CAST(LPAD(EXTRACT(MONTH FROM PD.DATA_PEDIDO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM PD.DATA_PEDIDO),4,'0') AS VARCHAR(4)) AS ANO
FROM PEDIDOS PD
JOIN CLIENTES C ON (C.CODIGO = PD.CODIGO_CLIENTE)
JOIN CIDADES CD ON(CD.COD_CIDADE = C.COD_CIDADE)
WHERE PD.DATA_PEDIDO >= '2017-01-01'
AND PD.MODELO_NF IN('01', '1B')
AND PD.NUM_NOTA > 0) X
ORDER BY X.NOME
;



/* View: VIEW_SPED_H010 */
CREATE VIEW VIEW_SPED_H010(
    COD_ITEM,
    UNID,
    QTD,
    VL_UNIT,
    VL_ITEM,
    IND_PROP)
AS
SELECT
    X.COD_ITEM,
    X.UNID,
    X.QTD,
    X.VL_UNIT,
    (X.QTD * X.VL_UNIT) AS VL_ITEM,
    '0' AS IND_PROP
FROM
(SELECT
    P.CODIGO AS COD_ITEM,
    U.ABREVIATURA AS UNID,
    COALESCE((SELECT
        FIRST 1
        EL.ESTOQUE_POSTERIOR
    FROM PRODUTOS_ESTOQUES_LOG EL
    WHERE EL.ID_PRODUTO = P.CODIGO
    AND EL.DATA >= LPAD(EXTRACT(YEAR FROM CURRENT_DATE) -1,4,'0') || '-01-01'
    AND EL.DATA <= LPAD(EXTRACT(YEAR FROM CURRENT_DATE) -1,4,'0') || '-12-31'
    ORDER BY EL.DATA DESC), 0) AS QTD,
    COALESCE(P.PRECO_CUSTO,0) AS VL_UNIT
FROM PRODUTOS P
JOIN UNIDADES U ON(U.CODIGO = P.UNIDADE)) X
WHERE LPAD(EXTRACT(MONTH FROM CURRENT_DATE),2,'0') = '03'
AND X.QTD > 0
;



/* View: VIEW_SPED_0190 */
CREATE VIEW VIEW_SPED_0190(
    UNID,
    DESCR,
    MES,
    ANO)
AS
SELECT
    X.UNID,
    UPPER(X.DESCR),
    X.MES,
    X.ANO
FROM
(
SELECT
    DISTINCT
    U.ABREVIATURA AS UNID,
    U.DESCRICAO AS DESCR,
    CAST(LPAD(EXTRACT(MONTH FROM N.DATA_EMISSAO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM N.DATA_EMISSAO),4,'0') AS VARCHAR(4)) AS ANO
FROM PRODUTOS P
JOIN UNIDADES U ON(U.CODIGO = P.UNIDADE)
JOIN NOTASFISCAIS_ITENS NI ON (NI.CODIGO_PRODUTO = P.CODIGO)
JOIN NOTASFISCAIS N ON (N.CODIGO_NOTA = NI.CODIGO_NOTA)
WHERE N.DATA_EMISSAO >= '2017-01-01'
AND N.SITUACAO = 2
AND N.INTEGRACAO IN(0,1)
AND N.MODELO = '55'
AND N.OPERACAO IN('P','V')

UNION

SELECT
    DISTINCT
    U.ABREVIATURA AS UNID,
    U.DESCRICAO AS DESCR,
    CAST(LPAD(EXTRACT(MONTH FROM PD.DATA_PEDIDO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM PD.DATA_PEDIDO),4,'0') AS VARCHAR(4)) AS ANO
FROM PRODUTOS P
JOIN UNIDADES U ON(U.CODIGO = P.UNIDADE)
JOIN PEDIDOS_ITENS PDI ON (PDI.CODIGO_PROD = P.CODIGO)
JOIN PEDIDOS PD ON (PD.CODIGO = PDI.CODIGO_ID)
WHERE PD.DATA_PEDIDO >= '2017-01-01'
AND PD.MODELO_NF IN('01', '1B')
AND PD.NUM_NOTA > 0

UNION

SELECT
   DISTINCT
   H.UNID,
   U.DESCRICAO AS DESCR,
   CAST(LPAD(EXTRACT(MONTH FROM CURRENT_DATE) -1,2,'0') AS VARCHAR(2)) AS MES,
   CAST(LPAD(EXTRACT(YEAR FROM CURRENT_DATE),4,'0') AS VARCHAR(4)) AS ANO
FROM VIEW_SPED_H010 H
JOIN UNIDADES U ON(U.ABREVIATURA = H.UNID)
) X
ORDER BY X.ANO, X.MES, X.DESCR
;



/* View: VIEW_SPED_0200 */
CREATE VIEW VIEW_SPED_0200(
    COD_ITEM,
    DESCR_ITEM,
    COD_BARRA,
    COD_ANT_ITEM,
    TIPO_ITEM,
    UNID_INV,
    COD_NCM,
    EX_IPI,
    COD_GEN,
    COD_LST,
    ALIQ_ICMS,
    MES,
    ANO)
AS
SELECT
    X.COD_ITEM,
    X.DESCR_ITEM,
    X.COD_BARRA,
    X.COD_ANT_ITEM,
    IIF(IIF((X.TIPO_ITEM = '') OR (X.TIPO_ITEM IS NULL) , 99, X.TIPO_ITEM) > 10, 99, X.TIPO_ITEM),
    X.UNID_INV,
    IIF((X.COD_NCM = '') OR (X.COD_NCM = '99999999'), '19011090', X.COD_NCM),
    X.EX_IPI,
    SUBSTRING(IIF((X.COD_NCM = '') OR (X.COD_NCM = '99999999'), '19011090', X.COD_NCM) FROM 1 FOR 2),
    X.COD_LST,
    X.ALIQ_ICMS,
    X.MES,
    X.ANO
FROM
(
SELECT
    DISTINCT
    P.CODIGO AS COD_ITEM,
    P.DESCRICAO AS DESCR_ITEM,
    P.CODIGO_BARRAS AS COD_BARRA,
    '' AS COD_ANT_ITEM,
    P.TIPO_ATIVIDADE AS TIPO_ITEM,
    U.ABREVIATURA AS UNID_INV,
    P.NCM_SH AS COD_NCM,
    '' AS EX_IPI,
    '' AS COD_LST,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_ICMS,
    CAST(LPAD(EXTRACT(MONTH FROM N.DATA_EMISSAO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM N.DATA_EMISSAO),4,'0') AS VARCHAR(4)) AS ANO
FROM PRODUTOS P
JOIN UNIDADES U ON(U.CODIGO = P.UNIDADE)
JOIN NOTASFISCAIS_ITENS NI ON (NI.CODIGO_PRODUTO = P.CODIGO)
JOIN NOTASFISCAIS N ON (N.CODIGO_NOTA = NI.CODIGO_NOTA)
WHERE N.DATA_EMISSAO >= '2017-01-01'
AND N.SITUACAO = 2
AND N.INTEGRACAO IN(0,1)
AND N.MODELO = '55'
AND N.OPERACAO IN('P','V')

UNION

SELECT
    DISTINCT
    P.CODIGO AS COD_ITEM,
    P.DESCRICAO AS DESCR_ITEM,
    P.CODIGO_BARRAS AS COD_BARRA,
    '' AS COD_ANT_ITEM,
    P.TIPO_ATIVIDADE AS TIPO_ITEM,
    U.ABREVIATURA AS UNID_INV,
    P.NCM_SH AS COD_NCM,
    '' AS EX_IPI,
    '' AS COD_LST,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_ICMS,
    CAST(LPAD(EXTRACT(MONTH FROM PD.DATA_PEDIDO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM PD.DATA_PEDIDO),4,'0') AS VARCHAR(4)) AS ANO
FROM PRODUTOS P
JOIN UNIDADES U ON(U.CODIGO = P.UNIDADE)
JOIN PEDIDOS_ITENS PDI ON (PDI.CODIGO_PROD = P.CODIGO)
JOIN PEDIDOS PD ON (PD.CODIGO = PDI.CODIGO_ID)
WHERE PD.DATA_PEDIDO >= '2017-01-01'
AND PD.MODELO_NF IN('01', '1B')
AND PD.NUM_NOTA > 0

UNION

SELECT
    H.COD_ITEM,
    P.DESCRICAO AS DESCR_ITEM,
    P.CODIGO_BARRAS AS COD_BARRA,
    '' AS COD_ANT_ITEM,
    P.TIPO_ATIVIDADE AS TIPO_ITEM,
    H.UNID AS UNID_INV,
    P.NCM_SH AS COD_NCM,
    '' AS EX_IPI,
    '' AS COD_LST,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_ICMS,
    CAST(LPAD(EXTRACT(MONTH FROM CURRENT_DATE) -1,2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM CURRENT_DATE),4,'0') AS VARCHAR(4)) AS ANO
FROM VIEW_SPED_H010 H
JOIN PRODUTOS P ON(P.CODIGO = H.COD_ITEM)
) X ORDER BY X.ANO, X.MES, X.DESCR_ITEM
;



/* View: VIEW_SPED_0500 */
CREATE VIEW VIEW_SPED_0500(
    DT_ALT,
    COD_NAT_CC,
    IND_CTA,
    NIVEL,
    COD_CTA,
    NOME_CTA)
AS
SELECT
    P.DATACAD AS DT_ALT,
    P.COD_NATUREZA AS COD_NAT_CC,
    P.INDICADOR AS IND_CTA,
    P.NIVEL_CTA AS NIVEL,
    P.COD_COMPLETO AS COD_CTA,
    P.NOME AS NOME_CTA
FROM PLANOCONTAS P
ORDER BY COD_COMPLETO ASC
;



/* View: VIEW_SPED_C100 */
CREATE VIEW VIEW_SPED_C100(
    NOTA_ID,
    IND_OPER,
    IND_EMIT,
    COD_PART,
    COD_MOD,
    COD_SIT,
    SER,
    NUM_DOC,
    CHV_NFE,
    DT_DOC,
    DT_E_S,
    VL_DOC,
    IND_PGTO,
    VL_DESC,
    VL_ABAT_NT,
    VL_MERC,
    IND_FRT,
    VL_FRT,
    VL_SEG,
    VL_OUT_DA,
    VL_BC_ICMS,
    VL_ICMS,
    VL_BC_ICMS_ST,
    VL_ICMS_ST,
    VL_IPI,
    VL_PIS,
    VL_COFINS,
    VL_PIS_ST,
    VL_COFINS_ST,
    MES,
    ANO)
AS
SELECT
    X.NOTA_ID,
    X.IND_OPER,
    X.IND_EMIT,
    X.COD_PART,
    X.COD_MOD,
    X.COD_SIT,
    X.SER,
    X.NUM_DOC,
    X.CHV_NFE,
    X.DT_DOC,
    X.DT_E_S,
    X.VL_DOC,
    X.IND_PGTO,
    X.VL_DESC,
    X.VL_ABAT_NT,
    X.VL_MERC,
    X.IND_FRT,
    X.VL_FRT,
    X.VL_SEG,
    X.VL_OUT_DA,
    X.VL_BC_ICMS,
    X.VL_ICMS,
    X.VL_BC_ICMS_ST,
    X.VL_ICMS_ST,
    X.VL_IPI,
    X.VL_PIS,
    X.VL_COFINS,
    X.VL_PIS_ST,
    X.VL_COFINS_ST,
    X.MES,
    X.ANO
    FROM (
SELECT
    CAST('E55-' || N.CODIGO_NOTA AS VARCHAR(50)) AS NOTA_ID,
    '0' AS IND_OPER,
    '1' AS IND_EMIT,
    CAST('F' || N.COD_FORNECEDOR AS VARCHAR(50)) AS COD_PART,
    '55' AS COD_MOD,
    '00' AS COD_SIT,
    N.SERIE_NF AS SER,
    N.NUM_NOTA AS NUM_DOC,
    N.CHAVE_NFE AS CHV_NFE,
    N.DATA_EMISSAO AS DT_DOC,
    IIF(CAST(LPAD(EXTRACT(MONTH FROM N.DATA_EMISSAO),2,'0') AS VARCHAR(2)) =
        CAST(LPAD(EXTRACT(MONTH FROM N.DATA_CADASTRO),2,'0') AS VARCHAR(2)), N.DATA_CADASTRO, N.DATA_EMISSAO) AS DT_E_S,
    COALESCE(N.TOTAL_NOTA, 0) AS VL_DOC,
    IIF(COALESCE(N.VALOR_PRAZO, 0) > 0, '1', '0') AS IND_PGTO,
    COALESCE(N.VALOR_DESCONTO, 0) AS VL_DESC,
    CAST('0' AS DECIMAL(18,2)) AS VL_ABAT_NT,
    COALESCE(N.VALOR_TOTAL_PRODUTOS, 0) AS VL_MERC,
    '9' AS IND_FRT,
    CAST('0' AS DECIMAL(18,2)) AS VL_FRT,
    COALESCE(N.VALOR_SEGURO, 0) AS VL_SEG,
    COALESCE(N.VALOR_OUTRAS_DESPESAS, 0) + COALESCE(N.VALOR_ICMS_SUBST, 0) AS VL_OUT_DA,
    COALESCE(N.BASE_CALCULO_ICMS, 0) AS VL_BC_ICMS,
    COALESCE(N.VALOR_ICMS, 0) AS VL_ICMS,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_ICMS_ST,
    COALESCE(N.VALOR_IPI, 0) AS VL_IPI,
    COALESCE(N.VALOR_PIS, 0) AS VL_PIS,
    COALESCE(N.VALOR_COFINS, 0) AS VL_COFINS,
    COALESCE(N.VALOR_PIS_ST, 0) AS VL_PIS_ST,
    COALESCE(N.VALOR_COFIS_ST, 0) AS VL_COFINS_ST,
    CAST(LPAD(EXTRACT(MONTH FROM N.DATA_EMISSAO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM N.DATA_EMISSAO),4,'0') AS VARCHAR(4)) AS ANO
FROM NOTASFISCAIS N
WHERE N.DATA_EMISSAO >= '2017-01-01'
AND N.SITUACAO = 2
AND N.INTEGRACAO IN(0,1)
AND N.MODELO = '55'
AND N.OPERACAO IN('P','V')

UNION

SELECT
    CAST('S55-' || N.NR_NOTA AS VARCHAR(50)) AS NOTA_ID,
    '1' AS IND_OPER,
    '0' AS IND_EMIT,
    CAST('C' || N.COD_CLIENTE AS VARCHAR(50)) AS COD_PART,
    '55' AS COD_MOD,
    CASE (N.STATUS || IIF(N.STATUS_INUTILIZADO = 'S', 'S', 'N') || IIF(N.STATUS_CANCELADO = 'S', 'S', 'N'))
        WHEN 'SNN' THEN '00'
        WHEN 'NSN' THEN '05'
        WHEN 'SNS' THEN '02'
    END AS COD_SIT,
    N.SERIE_NF AS SER,
    N.NR_NOTA AS NUM_DOC,
    N.CHAVE_ACESSO_NFE AS CHV_NFE,
    N.DT_EMISSAO AS DT_DOC,
    N.DT_EMISSAO AS DT_E_S,
    COALESCE(N.VL_TOTAL, 0) AS VL_DOC,
    IIF(COALESCE(N.VL_PRAZO, 0) > 0, '1', '0') AS IND_PGTO,
    COALESCE(N.VL_DESCONTOS, 0) AS VL_DESC,
    CAST('0' AS DECIMAL(18,2)) AS VL_ABAT_NT,
    COALESCE(N.VL_MERCADORIAS, 0) AS VL_MERC,
    '9' AS IND_FRT,
    CAST('0' AS DECIMAL(18,2)) AS VL_FRT,
    COALESCE(N.VL_SEGURO, 0) AS VL_SEG,
    COALESCE(N.VL_ACRESCIMOS, 0) AS VL_OUT_DA,
    COALESCE(N.VL_BASE_ICM, 0) AS VL_BC_ICMS,
    COALESCE(N.VL_ICM, 0) AS VL_ICMS,
    COALESCE(N.VL_BASE_ICM_SUBST, 0) AS VL_BC_ICMS_ST,
    COALESCE(N.VL_ICM_SUBST, 0) AS VL_ICMS_ST,
    COALESCE(N.VL_IPI, 0) AS VL_IPI,
    COALESCE(N.VL_PIS, 0) AS VL_PIS,
    COALESCE(N.VL_COFINS, 0) AS VL_COFINS,
    CAST('0' AS DECIMAL(18,2)) AS VL_PIS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_COFINS_ST,
    CAST(LPAD(EXTRACT(MONTH FROM N.DT_EMISSAO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM N.DT_EMISSAO),4,'0') AS VARCHAR(4)) AS ANO
FROM NFE_NOTA N
WHERE N.DT_EMISSAO >= '2017-01-01'
AND N.CHAVE_ACESSO_NFE IS NOT NULL
AND N.CHAVE_ACESSO_NFE <> ''
AND (((N.STATUS = 'S') AND (N.STATUS_INUTILIZADO IS NULL) AND (N.STATUS_CANCELADO IS NULL) AND (N.NR_PROTOCOLO_NFE IS NOT NULL))
            OR ((N.STATUS = 'N') AND (N.STATUS_INUTILIZADO = 'S') AND (N.STATUS_CANCELADO IS NULL))
                OR ((N.STATUS = 'S') AND (N.STATUS_INUTILIZADO IS NULL) AND (N.STATUS_CANCELADO = 'S')))

UNION

SELECT
    CAST('S65-' || N.CD_EMPRESA || N.NR_NOTA AS VARCHAR(50)) AS NOTA_ID,
    '1' AS IND_OPER,
    '0' AS IND_EMIT,
    '' AS COD_PART,
    '65' AS COD_MOD,
    CASE (N.STATUS || IIF(N.STATUS_INUTILIZADO = 'S', 'S', 'N') || IIF(N.STATUS_CANCELADO = 'S', 'S', 'N'))
        WHEN 'SNN' THEN '00'
        WHEN 'NSN' THEN '05'
        WHEN 'SNS' THEN '02'
    END AS COD_SIT,
    N.SERIE_NF AS SER,
    N.NR_NOTA AS NUM_DOC,
    N.CHAVE_ACESSO_NFE AS CHV_NFE,
    N.DT_EMISSAO AS DT_DOC,
    N.DT_EMISSAO AS DT_E_S,
    COALESCE(N.VL_TOTAL, 0) AS VL_DOC,
    IIF(COALESCE(N.VL_PRAZO, 0) > 0, '1', '0') AS IND_PGTO,
    COALESCE(N.VL_DESCONTOS, 0) AS VL_DESC,
    CAST('0' AS DECIMAL(18,2)) AS VL_ABAT_NT,
    COALESCE(N.VL_MERCADORIAS, 0) AS VL_MERC,
    '9' AS IND_FRT,
    CAST('0' AS DECIMAL(18,2)) AS VL_FRT,
    COALESCE(N.VL_SEGURO, 0) AS VL_SEG,
    COALESCE(N.VL_ACRESCIMOS, 0) AS VL_OUT_DA,
    COALESCE(N.VL_BASE_ICM, 0) AS VL_BC_ICMS,
    COALESCE(N.VL_ICM, 0) AS VL_ICMS,
    COALESCE(N.VL_BASE_ICM_SUBST, 0) AS VL_BC_ICMS_ST,
    COALESCE(N.VL_ICM_SUBST, 0) AS VL_ICMS_ST,
    COALESCE(N.VL_IPI, 0) AS VL_IPI,
    COALESCE(N.VL_PIS, 0) AS VL_PIS,
    COALESCE(N.VL_COFINS, 0) AS VL_COFINS,
    CAST('0' AS DECIMAL(18,2)) AS VL_PIS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_COFINS_ST,
    CAST(LPAD(EXTRACT(MONTH FROM N.DT_EMISSAO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM N.DT_EMISSAO),4,'0') AS VARCHAR(4)) AS ANO
FROM NFECE_NOTA N
WHERE N.DT_EMISSAO >= '2017-01-01'
AND N.CHAVE_ACESSO_NFE IS NOT NULL
AND N.CHAVE_ACESSO_NFE <> ''
AND N.MODELO = '65'
AND (((N.STATUS = 'S') AND (N.STATUS_INUTILIZADO IS NULL) AND (N.STATUS_CANCELADO IS NULL) AND (N.NR_PROTOCOLO_NFE IS NOT NULL))
            OR ((N.STATUS = 'N') AND (N.STATUS_INUTILIZADO = 'S') AND (N.STATUS_CANCELADO IS NULL))
                OR ((N.STATUS = 'S') AND (N.STATUS_INUTILIZADO IS NULL) AND (N.STATUS_CANCELADO = 'S')))

UNION

SELECT
    CAST('S01-' || PD.CODIGO AS VARCHAR(50)) AS NOTA_ID,
    '1' AS IND_OPER,
    '0' AS IND_EMIT,
    CAST('C' || PD.CODIGO_CLIENTE AS VARCHAR(50)) AS COD_PART,
    IIF((PD.MODELO_NF = '') OR (PD.MODELO_NF IS NULL), '01', PD.MODELO_NF) AS COD_MOD,
    '00' AS COD_SIT,
    '01' AS SER,
    PD.NUM_NOTA AS NUM_DOC,
    CAST(NULL AS VARCHAR(44)) AS CHV_NFE,
    PD.DATA_PEDIDO AS DT_DOC,
    PD.DATA_PEDIDO AS DT_E_S,
    COALESCE(PD.VALOR_TOTAL, 0) AS VL_DOC,
    CASE (IIF(COALESCE(PD.VALOR_AVISTA, 0) > 0, 0, IIF(COALESCE(PD.VALOR_PRAZO, 0) > 0, 1, 2)))
        WHEN 0 THEN '0'
        WHEN 1 THEN '1'
        WHEN 2 THEN '2'
    END AS IND_PGTO,
    COALESCE(PD.VALOR_DESCONTO, 0) AS VL_DESC,
    CAST('0' AS DECIMAL(18,2)) AS VL_ABAT_NT,
    COALESCE(PD.VALOR_ITENS, 0) AS VL_MERC,
    '9' AS IND_FRT,
    CAST('0' AS DECIMAL(18,2)) AS VL_FRT,
    CAST('0' AS DECIMAL(18,2)) AS VL_SEG,
    CAST('0' AS DECIMAL(18,2)) AS VL_OUT_DA,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_ICMS,
    CAST('0' AS DECIMAL(18,2)) AS VL_ICMS,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_IPI,
    CAST('0' AS DECIMAL(18,2)) AS VL_PIS,
    CAST('0' AS DECIMAL(18,2)) AS VL_COFINS,
    CAST('0' AS DECIMAL(18,2)) AS VL_PIS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_COFINS_ST,
    CAST(LPAD(EXTRACT(MONTH FROM PD.DATA_PEDIDO),2,'0') AS VARCHAR(2)) AS MES,
    CAST(LPAD(EXTRACT(YEAR FROM PD.DATA_PEDIDO),4,'0') AS VARCHAR(4)) AS ANO
FROM PEDIDOS PD
WHERE PD.DATA_PEDIDO >= '2017-01-01'
AND PD.MODELO_NF IN('01', '1B')
AND PD.NUM_NOTA > 0) X
ORDER BY X.IND_OPER, X.COD_MOD
;



/* View: VIEW_SPED_C170 */
CREATE VIEW VIEW_SPED_C170(
    NOTA_ID,
    NUM_ITEM,
    COD_ITEM,
    DESCR_COMPL,
    QTD,
    UNID,
    VL_ITEM,
    VL_DESC,
    IND_MOV,
    CST_ICMS,
    CFOP,
    COD_NAT,
    VL_BC_ICMS,
    ALIQ_ICMS,
    VL_ICMS,
    VL_BC_ICMS_ST,
    ALIQ_ST,
    VL_ICMS_ST,
    IND_APUR,
    CST_IPI,
    COD_ENQ,
    VL_BC_IPI,
    ALIQ_IPI,
    VL_IPI,
    CST_PIS,
    VL_BC_PIS,
    ALIQ_PIS_PERC,
    QUANT_BC_PIS,
    ALIQ_PIS_R,
    VL_PIS,
    CST_COFINS,
    VL_BC_COFINS,
    ALIQ_COFINS_PERC,
    QUANT_BC_COFINS,
    ALIQ_COFINS_R,
    VL_COFINS,
    COD_CTA)
AS
SELECT
    CAST('E55-' || NI.CODIGO_NOTA AS VARCHAR(50)) AS NOTA_ID,
    NI.ITEM AS NUM_ITEM,
    NI.CODIGO_PRODUTO AS COD_ITEM,
    NI.DESCRICAO AS DESCR_COMPL,
    COALESCE(NI.QUANTIDADE, 0) AS QTD,
    U.ABREVIATURA AS UNID,
    COALESCE(NI.SUBTOTAL, 0) AS VL_ITEM,
    COALESCE(NI.VALOR_DESC, 0) AS VL_DESC,
    '0' AS IND_MOV,
    IIF((SELECT E.REGIME FROM EMPRESA E) = 'S',
    CASE NI.CST
        WHEN '000' THEN '101'
        WHEN '010' THEN '203'
        WHEN '020' THEN '101'
        WHEN '030' THEN '202'
        WHEN '040' THEN '103'
        WHEN '041' THEN '103'
        WHEN '050' THEN '103'
        WHEN '051' THEN '103'
        WHEN '060' THEN '500'
        WHEN '070' THEN '202'
        WHEN '080' THEN '202'
        WHEN '090' THEN '900'
        ELSE NI.CST
    END,0) AS CST_ICMS,
    IIF(NI.CFOP = '', '1102', NI.CFOP) AS CFOP,
    '' AS COD_NAT,
    COALESCE(NI.BASE_ICMS, 0) AS VL_BC_ICMS,
    COALESCE(NI.PERC_ICMS, 0) AS ALIQ_ICMS,
    COALESCE(NI.VALOR_ICMS, 0) AS VL_ICMS,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_ICMS_ST,
    '0' AS IND_APUR,
    COALESCE(G.CST_IPI_ENTRADA,'02') AS CST_IPI,
    '' AS COD_ENQ,
    COALESCE(NI.BASE_IPI, 0) AS VL_BC_IPI,
    COALESCE(NI.PERC_IPI, 0) AS ALIQ_IPI,
    COALESCE(NI.VALOR_IPI, 0) AS VL_IPI,
    COALESCE(G.SIT_PIS_COMPRA, '98') AS CST_PIS,
    COALESCE(NI.BASE_PIS, 0) AS VL_BC_PIS,
    CAST(IIF(COALESCE(NI.BASE_PIS, 0) > 0,((COALESCE(NI.VALOR_PIS, 0) * 100) / COALESCE(NI.BASE_PIS, 0)),0) AS DECIMAL(18,6)) AS ALIQ_PIS_PERC,
    CAST('0' AS DECIMAL(18,2)) AS QUANT_BC_PIS,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_PIS_R,
    COALESCE(NI.VALOR_PIS, 0) AS VL_PIS,
    COALESCE(G.SIT_COFINS_COMPRA, '98') AS CST_COFINS,
    COALESCE(NI.BASE_COFINS, 0) AS VL_BC_COFINS,
    CAST(IIF(COALESCE(NI.BASE_COFINS, 0) > 0,((COALESCE(NI.VALOR_COFINS, 0) * 100) / COALESCE(NI.BASE_COFINS, 0)),0) AS DECIMAL(18,6)) AS ALIQ_COFINS_PERC,
    CAST('0' AS DECIMAL(18,3)) AS QUANT_BC_COFINS,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_COFINS_R,
    COALESCE(NI.VALOR_COFINS, 0) AS VL_COFINS,
    '' AS COD_CTA
FROM NOTASFISCAIS_ITENS NI
JOIN NOTASFISCAIS N ON(N.CODIGO_NOTA = NI.CODIGO_NOTA)
JOIN PRODUTOS P ON(P.CODIGO = NI.CODIGO_PRODUTO)
JOIN UNIDADES U ON(U.CODIGO = P.UNIDADE)
JOIN GRUPO_TRIBUTACAO G ON(G.COD_GRUPO = P.GRUPO_TRIBUTACAO)
WHERE N.DATA_EMISSAO >= '2017-01-01'
AND N.SITUACAO = 2
AND N.INTEGRACAO IN(0,1)
AND N.MODELO = '55'
AND N.OPERACAO IN('P','V')

UNION

SELECT
    CAST('S01-' || PDI.CODIGO_ID AS VARCHAR(50)) AS NOTA_ID,
    PDI.ITEN AS NUM_ITEM,
    PDI.CODIGO_PROD AS COD_ITEM,
    PDI.DESCRICAO_PRODUTO AS DESCR_COMPL,
    COALESCE(PDI.QUANTIDADE, 0) AS QTD,
    U.ABREVIATURA AS UNID,
    CAST(COALESCE(PDI.PRECO_UNITARIO, 0) AS NUMERIC(18,2)) AS VL_ITEM,
    COALESCE(PDI.DESCONTO, 0) AS VL_DESC,
    '1' AS IND_MOV,
    '202' AS CST_ICMS,
    IIF((PD.CFOP_NF = '') OR (PD.CFOP_NF IS NULL) , '5102', PD.CFOP_NF) AS CFOP,
    '' AS COD_NAT,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_ICMS,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_ICMS,
    CAST('0' AS DECIMAL(18,2)) AS VL_ICMS,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_ICMS_ST,
    '0' AS IND_APUR,
    '52' AS CST_IPI,
    '' AS COD_ENQ,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_IPI,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_IPI,
    CAST('0' AS DECIMAL(18,2)) AS VL_IPI,
    '49' AS CST_PIS,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_PIS,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_PIS_PERC,
    CAST('0' AS DECIMAL(18,2)) AS QUANT_BC_PIS,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_PIS_R,
    CAST('0' AS DECIMAL(18,2)) AS VL_PIS,
    '49' AS CST_COFINS,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_COFINS,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_COFINS_PERC,
    CAST('0' AS DECIMAL(18,2)) AS QUANT_BC_COFINS,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_COFINS_R,
    CAST('0' AS DECIMAL(18,2)) AS VL_COFINS,
    '3.1.1.01.01' AS COD_CTA
FROM PEDIDOS_ITENS PDI
JOIN PEDIDOS PD ON(PD.CODIGO = PDI.CODIGO_ID)
JOIN PRODUTOS P ON(P.CODIGO = PDI.CODIGO_PROD)
JOIN UNIDADES U ON(U.CODIGO = P.UNIDADE)
LEFT JOIN GRUPO_TRIBUTACAO G ON(G.COD_GRUPO = P.GRUPO_TRIBUTACAO)
WHERE PD.DATA_PEDIDO >= '2017-01-01'
AND PD.MODELO_NF IN('01', '1B')
AND PD.NUM_NOTA > 0
;



/* View: VIEW_SPED_C190 */
CREATE VIEW VIEW_SPED_C190(
    NOTA_ID,
    CST_ICMS,
    CFOP,
    ALIQ_ICMS,
    VL_OPR,
    VL_BC_ICMS,
    VL_ICMS,
    VL_BC_ICMS_ST,
    VL_ICMS_ST,
    VL_RED_BC,
    VL_IPI)
AS
SELECT
    X.NOTA_ID AS NOTA_ID,
    X.CST_ICMS,
    X.CFOP AS CFOP,
    X.ALIQ_ICMS,
    SUM(X.VL_ITEM) AS VL_OPR,
    SUM(X.VL_BC_ICMS) AS VL_BC_ICMS,
    SUM(X.VL_ICMS) AS VL_ICMS,
    SUM(X.VL_BC_ICMS_ST) AS VL_BC_ICMS_ST,
    SUM(X.VL_ICMS_ST) AS VL_ICMS_ST,
    SUM(X.VL_RED_BC) AS VL_RED_BC,
    SUM(X.VL_IPI) AS VL_IPI
    FROM (
SELECT
    CAST('E55-' || NI.CODIGO_NOTA AS VARCHAR(50)) AS NOTA_ID,
    IIF((SELECT E.REGIME FROM EMPRESA E) = 'S',
    CASE NI.CST
        WHEN '000' THEN '101'
        WHEN '010' THEN '203'
        WHEN '020' THEN '101'
        WHEN '030' THEN '202'
        WHEN '040' THEN '103'
        WHEN '041' THEN '103'
        WHEN '050' THEN '103'
        WHEN '051' THEN '103'
        WHEN '060' THEN '500'
        WHEN '070' THEN '202'
        WHEN '080' THEN '202'
        WHEN '090' THEN '900'
        ELSE NI.CST
    END,0) AS CST_ICMS,
    IIF(NI.CFOP = '', '1102', NI.CFOP) AS CFOP,
    COALESCE(NI.PERC_ICMS, 0) AS ALIQ_ICMS,
    CAST((COALESCE(NI.SUBTOTAL, 0) - COALESCE(NI.VALOR_DESC, 0)) +
        COALESCE(NI.OUTRAS, 0) + COALESCE(NI.FRETE, 0) + COALESCE(NI.SEGURO, 0) +
            COALESCE(NI.VALOR_ICMS_ST, 0) + COALESCE(NI.VALOR_IPI, 0) AS DECIMAL(18,6)) AS VL_ITEM,
    COALESCE(NI.BASE_ICMS, 0) AS VL_BC_ICMS,
    COALESCE(NI.VALOR_ICMS, 0) AS VL_ICMS,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_RED_BC,
    COALESCE(NI.VALOR_IPI, 0) AS VL_IPI
FROM NOTASFISCAIS_ITENS NI
JOIN NOTASFISCAIS N ON(N.CODIGO_NOTA = NI.CODIGO_NOTA)
WHERE N.DATA_EMISSAO >= '2017-01-01'
AND N.SITUACAO = 2
AND N.INTEGRACAO IN(0,1)
AND N.MODELO = '55'
AND N.OPERACAO IN('P','V')) X
GROUP BY
    X.NOTA_ID,
    X.CST_ICMS,
    X.CFOP,
    X.ALIQ_ICMS

UNION

SELECT
    X.NOTA_ID AS NOTA_ID,
    X.CST_ICMS,
    X.CFOP AS CFOP,
    X.ALIQ_ICMS,
    SUM(X.VL_ITEM) AS VL_OPR,
    SUM(X.VL_BC_ICMS) AS VL_BC_ICMS,
    SUM(X.VL_ICMS) AS VL_ICMS,
    SUM(X.VL_BC_ICMS_ST) AS VL_BC_ICMS_ST,
    SUM(X.VL_ICMS_ST) AS VL_ICMS_ST,
    SUM(X.VL_RED_BC) AS VL_RED_BC,
    SUM(X.VL_IPI) AS VL_IPI
    FROM (
SELECT
    CAST('S55-' || N.NR_NOTA AS VARCHAR(50)) AS NOTA_ID,
    IIF((SELECT E.REGIME FROM EMPRESA E) = 'S',
    CASE NI.CST
        WHEN '900' THEN '202'
        WHEN '500' THEN '202'
        ELSE NI.CST
    END,0) AS CST_ICMS,
    NI.CFOP AS CFOP,
    COALESCE(NI.ALIQ_ICM, 0) AS ALIQ_ICMS,
    CAST(((COALESCE(NI.QT_PRODUTO, 0) * COALESCE(NI.VL_UNITARIO, 0)) -
        COALESCE(NI.VL_DESCONTO, 0)) + COALESCE(NI.VL_OUTROS, 0) +
            COALESCE(NI.VL_ICM_SUBST, 0) + COALESCE(NI.VL_IPI, 0) AS DECIMAL(18,6)) AS VL_ITEM,
    COALESCE(NI.VL_BASE_ICM, 0)AS VL_BC_ICMS,
    COALESCE(NI.VL_ICM, 0) AS VL_ICMS,
    COALESCE(NI.VL_BASE_ICM_SUBST, 0) AS VL_BC_ICMS_ST,
    COALESCE(NI.VL_ICM_SUBST, 0) AS VL_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_RED_BC,
    COALESCE(NI.VL_IPI, 0) AS VL_IPI
FROM NFE_ITENS NI
JOIN NFE_NOTA N ON (N.NR_NOTA = NI.NR_NOTA)
WHERE N.DT_EMISSAO >= '2017-01-01'
AND N.CHAVE_ACESSO_NFE IS NOT NULL
AND N.CHAVE_ACESSO_NFE <> ''
AND N.STATUS = 'S'
AND N.STATUS_CANCELADO IS NULL
AND N.STATUS_INUTILIZADO IS NULL
AND N.NR_PROTOCOLO_NFE IS NOT NULL) X
GROUP BY
    X.NOTA_ID,
    X.CST_ICMS,
    X.CFOP,
    X.ALIQ_ICMS

UNION

SELECT
    X.NOTA_ID AS NOTA_ID,
    X.CST_ICMS,
    X.CFOP AS CFOP,
    X.ALIQ_ICMS,
    SUM(X.VL_ITEM) AS VL_OPR,
    SUM(X.VL_BC_ICMS) AS VL_BC_ICMS,
    SUM(X.VL_ICMS) AS VL_ICMS,
    SUM(X.VL_BC_ICMS_ST) AS VL_BC_ICMS_ST,
    SUM(X.VL_ICMS_ST) AS VL_ICMS_ST,
    SUM(X.VL_RED_BC) AS VL_RED_BC,
    SUM(X.VL_IPI) AS VL_IPI
    FROM (
SELECT
    CAST('S65-' || N.CD_EMPRESA || N.NR_NOTA AS VARCHAR(50)) AS NOTA_ID,
    IIF((SELECT E.REGIME FROM EMPRESA E) = 'S',
    CASE NI.CST
        WHEN '900' THEN '202'
        WHEN '500' THEN '202'
        ELSE NI.CST
    END,0) AS CST_ICMS,
    NI.CFOP AS CFOP,
    COALESCE(NI.ALIQ_ICM, 0) AS ALIQ_ICMS,
    CAST(((COALESCE(NI.QT_PRODUTO, 0) * COALESCE(NI.VL_UNITARIO, 0)) -
        COALESCE(NI.VL_DESCONTO, 0)) + COALESCE(NI.VL_OUTROS, 0) +
            COALESCE(NI.VL_ICM_SUBST, 0) + COALESCE(NI.VL_IPI, 0) AS DECIMAL(18,6)) AS VL_ITEM,
    COALESCE(NI.VL_BASE_ICM, 0) AS VL_BC_ICMS,
    COALESCE(NI.VL_ICM, 0) AS VL_ICMS,
    COALESCE(NI.VL_BASE_ICM_SUBST, 0) AS VL_BC_ICMS_ST,
    COALESCE(NI.VL_ICM_SUBST, 0) AS VL_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_RED_BC,
    COALESCE(NI.VL_IPI, 0) AS VL_IPI
FROM NFECE_ITENS NI
JOIN NFECE_NOTA N ON (N.NR_NOTA = NI.NR_NOTA AND N.CD_EMPRESA = NI.COD_EMPRESA)
WHERE N.DT_EMISSAO >= '2017-01-01'
AND N.CHAVE_ACESSO_NFE IS NOT NULL
AND N.CHAVE_ACESSO_NFE <> ''
AND N.MODELO = '65'
AND N.STATUS = 'S'
AND N.STATUS_CANCELADO IS NULL
AND N.STATUS_INUTILIZADO IS NULL
AND N.NR_PROTOCOLO_NFE IS NOT NULL) X
GROUP BY
    X.NOTA_ID,
    X.CST_ICMS,
    X.CFOP,
    X.ALIQ_ICMS

UNION

SELECT
    X.NOTA_ID AS NOTA_ID,
    X.CST_ICMS,
    X.CFOP AS CFOP,
    X.ALIQ_ICMS,
    SUM(X.VL_ITEM) AS VL_OPR,
    SUM(X.VL_BC_ICMS) AS VL_BC_ICMS,
    SUM(X.VL_ICMS) AS VL_ICMS,
    SUM(X.VL_BC_ICMS_ST) AS VL_BC_ICMS_ST,
    SUM(X.VL_ICMS_ST) AS VL_ICMS_ST,
    SUM(X.VL_RED_BC) AS VL_RED_BC,
    SUM(X.VL_IPI) AS VL_IPI
    FROM (
SELECT
    CAST('S01-' || PD.CODIGO AS VARCHAR(50)) AS NOTA_ID,
    '202' AS CST_ICMS,
    IIF((PD.CFOP_NF = '') OR (PD.CFOP_NF IS NULL) , '5102', PD.CFOP_NF) AS CFOP,
    CAST('0' AS DECIMAL(18,2)) AS ALIQ_ICMS,
    COALESCE(PDI.PRECO_TOTAL, 0) - COALESCE(PDI.DESCONTO, 0) AS VL_ITEM,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_ICMS,
    CAST('0' AS DECIMAL(18,2)) AS VL_ICMS,
    CAST('0' AS DECIMAL(18,2)) AS VL_BC_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_ICMS_ST,
    CAST('0' AS DECIMAL(18,2)) AS VL_RED_BC,
    CAST('0' AS DECIMAL(18,2)) AS VL_IPI
FROM PEDIDOS_ITENS PDI
JOIN PEDIDOS PD ON(PD.CODIGO = PDI.CODIGO_ID)
JOIN PRODUTOS P ON(P.CODIGO = PDI.CODIGO_PROD)
JOIN GRUPO_TRIBUTACAO G ON(G.COD_GRUPO = P.GRUPO_TRIBUTACAO)
WHERE PD.DATA_PEDIDO >= '2017-01-01'
AND PD.MODELO_NF IN('01', '1B')
AND PD.NUM_NOTA > 0) X
GROUP BY
    X.NOTA_ID,
    X.CST_ICMS,
    X.CFOP,
    X.ALIQ_ICMS
;




/* Check constraints definition */

ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT CHK_OS_ORDEMSERVICO CHECK(SITUACAO IN ('ABERTA', 'FECHADA', 'FATURADA', 'FRANQUEADA','SOLUCIONADA'));
ALTER TABLE CHEQUES_EMITIDOS ADD CONSTRAINT CHK_CHEQUES_EMITIDOS CHECK(valor > 0);


/******************************************************************************/
/***                           Unique Constraints                           ***/
/******************************************************************************/

ALTER TABLE BICOENC_TEMP ADD CONSTRAINT PK_BICOENC_TEMP1 UNIQUE (REGISTRO);
ALTER TABLE CHEQUES_EMITIDOS ADD CONSTRAINT PK_CHEQUES_EMITIDOS1 UNIQUE (NUMERO_CHEQUE, COD_CONTA);
ALTER TABLE FRETES ADD CONSTRAINT PK_FRETES1 UNIQUE (COD_LACTO);
ALTER TABLE NOTAS_MANIFESTACAO ADD CONSTRAINT UNQ1_NOTAS_MANIFESTACAO UNIQUE (COD, COD_EMP);
ALTER TABLE NOTAS_MANIFESTACAO ADD CONSTRAINT UNQ2_NOTAS_MANIFESTACAO UNIQUE (COD_EMP, CHAVE_NOTA);
ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT PK_OS_ORDEMSERVICO1 UNIQUE (NUMERO_OS);
ALTER TABLE PLANO_CARACT ADD CONSTRAINT PK_PLANO_CARACT1 UNIQUE (DESCRICAO);
ALTER TABLE PLANO_CONTRAT ADD CONSTRAINT PK_PLANO_CONTRAT1 UNIQUE (DESCRICAO);
ALTER TABLE PLANO_TIPO ADD CONSTRAINT PK_PLANO_TIPO1 UNIQUE (DESCRICAO);
ALTER TABLE PRODUTOS ADD UNIQUE (CODIGO_BARRAS);
ALTER TABLE PRODUTOS_GRADE ADD CONSTRAINT PK_PRODUTOS_GRADE1 UNIQUE (COD_BARRAS);
ALTER TABLE PRODUTOS_IMOVEL ADD CONSTRAINT PK_PRODUTOS_IMOVEL UNIQUE (ID_PRODUTOS);
ALTER TABLE SPED_INVENTARIO ADD CONSTRAINT PK_SPED_INVENTARIO1 UNIQUE (DT_INV);
ALTER TABLE SPED_PARTICIPANTES ADD CONSTRAINT PK_SPED_PARTICIPANTES1 UNIQUE (COD_CLIENTE);
ALTER TABLE SPED_PARTICIPANTES ADD CONSTRAINT PK_SPED_PARTICIPANTES2 UNIQUE (COD_FORNECEDOR);
ALTER TABLE UNIDADES ADD CONSTRAINT PK_UNIDADES UNIQUE (ABREVIATURA);


/******************************************************************************/
/***                              Primary Keys                              ***/
/******************************************************************************/

ALTER TABLE ACERTO_ESTOQUE ADD PRIMARY KEY (COD_ACE);
ALTER TABLE ADIANTAMENTO_CONTA_CLIENTE ADD CONSTRAINT PK_ADIANTAMENTO_CONTA_CLIENTE_1 PRIMARY KEY (CODIGO, ORDEM);
ALTER TABLE ADMINISTRADORA_CARTAO ADD CONSTRAINT PK_ADMINISTRADORA_CARTAO PRIMARY KEY (CODIGO);
ALTER TABLE AFERICAO ADD CONSTRAINT PK_AFERICAO PRIMARY KEY (CODIGO);
ALTER TABLE AGENCIAS ADD PRIMARY KEY (CODIGO);
ALTER TABLE APARTAMENTO ADD CONSTRAINT APARTAMENTO_PK PRIMARY KEY (APA_CODAPARTAMENTO);
ALTER TABLE BAIRRO ADD CONSTRAINT PK_BAIRRO PRIMARY KEY (COD_BAIRRO);
ALTER TABLE BANCOS ADD PRIMARY KEY (CODIGO);
ALTER TABLE BANDEIRAS_CARTAO ADD CONSTRAINT PK_BANDEIRAS_CARTAO PRIMARY KEY (CODIGO);
ALTER TABLE BAR ADD CONSTRAINT BAR_PK PRIMARY KEY (BAR_CONTROLE, BAR_CODENTRADA, BAR_CODPRODUTO);
ALTER TABLE BENS_UTILIZACAO ADD CONSTRAINT PK_BENS_UTILIZACAO PRIMARY KEY (SEQUENCIA);
ALTER TABLE BICO ADD CONSTRAINT PK_BICO PRIMARY KEY (COD_BICO);
ALTER TABLE BICOENC ADD CONSTRAINT PK_BICOENC PRIMARY KEY (COD_BICOENC);
ALTER TABLE BICOENC_TEMP ADD CONSTRAINT PK_BICOENC_TEMP PRIMARY KEY (COD_BICOENC_TEMP);
ALTER TABLE BOLETO ADD CONSTRAINT PK_BOLETO PRIMARY KEY (CODIGO_BOLETO);
ALTER TABLE BOMBA ADD CONSTRAINT PK_BOMBA PRIMARY KEY (COD_BOMBA);
ALTER TABLE BOMBA_LACRES ADD CONSTRAINT PK_BOMBA_LACRES PRIMARY KEY (CODIGO);
ALTER TABLE CATEGORIA ADD CONSTRAINT CATEGORIA_PK PRIMARY KEY (CAT_CODCATEGORIA);
ALTER TABLE CATEGORIAS ADD CONSTRAINT PK_CATEGORIAS PRIMARY KEY (CODIGO);
ALTER TABLE CENTRO_CUSTO ADD CONSTRAINT PK_CENTRO_CUSTO PRIMARY KEY (COD_CENTRO);
ALTER TABLE CFOP ADD CONSTRAINT PK_CFOP PRIMARY KEY (CODIGO_CFOP);
ALTER TABLE CHEQUES ADD PRIMARY KEY (CODIGO);
ALTER TABLE CHEQUES_EMITIDOS ADD CONSTRAINT PK_CHEQUES_EMITIDOS PRIMARY KEY (COD_CHEQUE);
ALTER TABLE CIDADES ADD CONSTRAINT PK_CIDADES PRIMARY KEY (COD_CIDADE);
ALTER TABLE CLIENTES ADD PRIMARY KEY (CODIGO);
ALTER TABLE CLIENTES_CONTATO ADD PRIMARY KEY (ID);
ALTER TABLE CLIENTES_DOCUMENT ADD PRIMARY KEY (ID);
ALTER TABLE CLIENTES_PROFISSAO ADD PRIMARY KEY (ID);
ALTER TABLE CLIENTES_REFERENCIA ADD PRIMARY KEY (ID);
ALTER TABLE COD_DOCUMENTOS_FISCAIS ADD CONSTRAINT PK_COD_DOCUMENTOS_FISCAIS PRIMARY KEY (CODIGO);
ALTER TABLE CONDICAO_PAGAMENTO ADD PRIMARY KEY (CODIGO);
ALTER TABLE CONDICAO_PAGTO_FORMAS ADD CONSTRAINT PK_CONDICAO_PAGTO_FORMAS PRIMARY KEY (COD_FORMA);
ALTER TABLE CONFIGURACOES ADD PRIMARY KEY (CODIGO);
ALTER TABLE CONTABILIDADE ADD PRIMARY KEY (ID);
ALTER TABLE CONTASPAGAR ADD PRIMARY KEY (CODIGO);
ALTER TABLE CONTAS_APAGAR ADD CONSTRAINT PK_CONTAS_APAGAR PRIMARY KEY (CODIGO);
ALTER TABLE CONTAS_APAGAR_PLANO ADD CONSTRAINT PK_CONTAS_APAGAR_PLANO PRIMARY KEY (SEQ);
ALTER TABLE CONTAS_PAGAR ADD PRIMARY KEY (CODIGO_GERA);
ALTER TABLE CONTAS_RECEBER_ADM_CARTAO ADD CONSTRAINT PK_CONTAS_RECEBER_ADM_CARTAO PRIMARY KEY (CODIGO);
ALTER TABLE CONTA_BANCARIA ADD PRIMARY KEY (CODIGO);
ALTER TABLE CONTA_CLIENTE ADD PRIMARY KEY (CODIGO);
ALTER TABLE CONTRATOS ADD CONSTRAINT PK_CONTRATOS PRIMARY KEY (ID_CONTRATO);
ALTER TABLE COZINHA ADD CONSTRAINT PK_COZINHA PRIMARY KEY (CODIGO, ORDEM);
ALTER TABLE CREDIARIO ADD PRIMARY KEY (CODIGO);
ALTER TABLE CREDIARIO_RECEBIDO ADD CONSTRAINT PK_CREDIARIO_RECEBIDO PRIMARY KEY (CODIGO);
ALTER TABLE CST ADD CONSTRAINT PK_CST PRIMARY KEY (CODIGO_CST);
ALTER TABLE CUPOM ADD CONSTRAINT PK_CUPOM PRIMARY KEY (SEQUENCIA);
ALTER TABLE CUPOM_ITEM ADD CONSTRAINT PK_CUPOM_ITEM PRIMARY KEY (SEQ);
ALTER TABLE EFD ADD CONSTRAINT PK_EFD PRIMARY KEY (REFERENCIA);
ALTER TABLE EMPRESA ADD PRIMARY KEY (CODIGO);
ALTER TABLE ENCERRANTES ADD CONSTRAINT PK_ENCERRANTES PRIMARY KEY (CODIGO);
ALTER TABLE ENTRAHOSPEDE ADD CONSTRAINT ENTRAHOSPEDE_PK PRIMARY KEY (ENT_CODENTRADA);
ALTER TABLE ESTADOS ADD CONSTRAINT PK_ESTADOS PRIMARY KEY (COD_ESTADO);
ALTER TABLE ESTOQUE ADD CONSTRAINT PK_ESTOQUE PRIMARY KEY (COD_EMP, COD_PRO);
ALTER TABLE EST_COM_RET_PEDIDOS ADD PRIMARY KEY (CODIGO);
ALTER TABLE FORNECEDORES ADD PRIMARY KEY (CODIGO);
ALTER TABLE FRENTISTA ADD CONSTRAINT PK_FRENTISTA PRIMARY KEY (COD_FRENTISTA);
ALTER TABLE FRETES ADD CONSTRAINT PK_FRETES PRIMARY KEY (COD_EMPRESA, COD_LACTO);
ALTER TABLE FUNCIONARIO_PAGO ADD PRIMARY KEY (ID);
ALTER TABLE FUNCIONARIO_VALE ADD PRIMARY KEY (ID);
ALTER TABLE GRUPOS ADD PRIMARY KEY (CODIGO);
ALTER TABLE GRUPO_TECLAS ADD CONSTRAINT PK_GRUPO_TECLAS PRIMARY KEY (TECLA);
ALTER TABLE GRUPO_TECLAS_DETALHES ADD CONSTRAINT PK_GRUPO_TECLAS_DETALHES PRIMARY KEY (NUMERO, TECLA);
ALTER TABLE GRUPO_TRIBUTACAO ADD CONSTRAINT PK_GRUPO_TRIBUTACAO PRIMARY KEY (COD_GRUPO);
ALTER TABLE HOTEL_RESERVA ADD CONSTRAINT PK_HOTEL_RESERVA PRIMARY KEY (RES_SEQ);
ALTER TABLE ID_CLIENTE ADD CONSTRAINT PK_ID_CLIENTE PRIMARY KEY (SEQ);
ALTER TABLE INVENTARIO_ESTOQUE ADD CONSTRAINT PK_INVENTARIO_ESTOQUE PRIMARY KEY (COD_INVENTARIO);
ALTER TABLE ITENS_ACERTO_ESTOQUE ADD PRIMARY KEY (COD_ACE, ORDEM);
ALTER TABLE ITENS_COMPOSICAO ADD PRIMARY KEY (ID);
ALTER TABLE ITENS_COMPOSTO ADD PRIMARY KEY (ID);
ALTER TABLE ITENS_CONTA_CLIENTE ADD PRIMARY KEY (CODIGO, ORDEM);
ALTER TABLE ITENS_INVENTARIO_ESTOQUE ADD CONSTRAINT PK_ITENS_INVENTARIO_ESTOQUE PRIMARY KEY (COD_INVENTARIO, ORDEM);
ALTER TABLE ITENS_TRANSF_LOCAIS_ESTOQUE ADD CONSTRAINT PK_ITENS_TRANSF_LOCAIS_ESTOQUE PRIMARY KEY (CODIGO, ORDEM);
ALTER TABLE LABORATORIO ADD CONSTRAINT PK_LABORATORIO PRIMARY KEY (COD_LAB);
ALTER TABLE LATICINIO ADD CONSTRAINT PK_LATICINIO PRIMARY KEY (CODIGO);
ALTER TABLE LATICINIOS ADD CONSTRAINT PK_LATICINIOS PRIMARY KEY (CODIGO);
ALTER TABLE LAVANDERIA ADD CONSTRAINT PK_LAVANDERIA PRIMARY KEY (LAV_CONTROLE, LAV_EMPRESA);
ALTER TABLE LIGACAO ADD CONSTRAINT LIGACAO_PK PRIMARY KEY (LIG_CONTROLE);
ALTER TABLE LMC ADD CONSTRAINT PK_LMC PRIMARY KEY (CODIGO);
ALTER TABLE LMC_ABERFECH ADD CONSTRAINT PK_LMC_ABERFECH PRIMARY KEY (CODIGO);
ALTER TABLE LOCAIS_ESTOQUE ADD PRIMARY KEY (CODIGO);
ALTER TABLE MARCAS ADD PRIMARY KEY (CODIGO);
ALTER TABLE MD_BAIXA_PLAQUETA ADD PRIMARY KEY (ID);
ALTER TABLE MD_ENTRADA_TORAS ADD PRIMARY KEY (ID);
ALTER TABLE MD_PATIO ADD PRIMARY KEY (ID);
ALTER TABLE MD_TORAS_ENTRADAS ADD PRIMARY KEY (ID);
ALTER TABLE MESAS_ADICIONAIS ADD CONSTRAINT PK_MESAS_ADICIONAIS PRIMARY KEY (COD, COD_EMP);
ALTER TABLE MOTIVORETORNO ADD PRIMARY KEY (CODIGO);
ALTER TABLE MOTIVO_ACERTO ADD PRIMARY KEY (COD_MOT);
ALTER TABLE MOVIMENTACAO_COMBUSTIVEL ADD CONSTRAINT PK_MOVIMENTACAO_COMBUSTIVEL PRIMARY KEY (CODIGO);
ALTER TABLE MOVIMENTACAO_COMB_LMC ADD CONSTRAINT PK_MOVIMENTACAO_COMB_LMC PRIMARY KEY (DATA, COD_PRODUTO, N_TANQUE);
ALTER TABLE MOVIMENTO_DIARIO ADD PRIMARY KEY (CODIGO);
ALTER TABLE MV_CONTRATO ADD CONSTRAINT PK_MV_CONTRATO PRIMARY KEY (ID);
ALTER TABLE MV_CT_IMOVEL_ALUGUEL ADD PRIMARY KEY (ID);
ALTER TABLE MV_CT_IMOVEL_COMPRA ADD PRIMARY KEY (ID);
ALTER TABLE MV_CT_IMOVEL_VENDA ADD PRIMARY KEY (ID);
ALTER TABLE MV_CT_PARCELA ADD PRIMARY KEY (ID);
ALTER TABLE MV_PLANILHA_IMOVEL ADD PRIMARY KEY (ID);
ALTER TABLE NFECE_ITENS ADD CONSTRAINT PK_NFECE_ITENS PRIMARY KEY (NR_SEQUENCIA);
ALTER TABLE NFECE_NOTA ADD CONSTRAINT PK_NFECE_NOTA PRIMARY KEY (NR_NOTA, CD_EMPRESA);
ALTER TABLE NFE_FRETE ADD CONSTRAINT PK_NFE_FRETE PRIMARY KEY (N_SEQUENCIA);
ALTER TABLE NFE_ITENS ADD CONSTRAINT PK_NFE_ITENS PRIMARY KEY (NR_SEQUENCIA);
ALTER TABLE NFE_NOTA ADD CONSTRAINT PK_NFE_NOTA PRIMARY KEY (NR_NOTA);
ALTER TABLE NFSE_NOTA ADD CONSTRAINT PK_NFSE_NOTA PRIMARY KEY (NR_NOTA, CD_EMPRESA);
ALTER TABLE NOTASFISCAIS ADD PRIMARY KEY (CODIGO_NOTA);
ALTER TABLE NOTASFISCAIS_ITENS ADD PRIMARY KEY (CODIGO_ITEM);
ALTER TABLE NOTAS_MANIFESTACAO ADD CONSTRAINT PK_NOTAS_MANIFESTACAO PRIMARY KEY (COD);
ALTER TABLE NOTA_FISCAL_CCE ADD CONSTRAINT PK_NOTA_FISCAL_CCE PRIMARY KEY (COD);
ALTER TABLE OD_AGENDA ADD PRIMARY KEY (ID);
ALTER TABLE OD_ANAMNESE ADD PRIMARY KEY (ID);
ALTER TABLE OD_EVOLUCOES ADD PRIMARY KEY (ID);
ALTER TABLE OD_IMAGENS ADD PRIMARY KEY (ID);
ALTER TABLE OD_PROCEDIMENTO ADD PRIMARY KEY (ID);
ALTER TABLE OD_R_PROCEDIMENTO ADD PRIMARY KEY (ID);
ALTER TABLE ORCAMENTOS ADD PRIMARY KEY (CODIGO);
ALTER TABLE ORCAMENTOS_ITENS ADD PRIMARY KEY (CODIGO);
ALTER TABLE ORCAMENTOS_PARCELAS ADD CONSTRAINT PK_ORCAMENTOS_PARCELAS PRIMARY KEY (CODIGO);
ALTER TABLE OS_AUTO ADD PRIMARY KEY (ID);
ALTER TABLE OS_AUTO_PRODUTOS ADD PRIMARY KEY (ID);
ALTER TABLE OS_BEM_COR ADD CONSTRAINT PK_OS_BEM_COR PRIMARY KEY (ID_OS_EQUIPAMENTO_COR);
ALTER TABLE OS_BENS ADD CONSTRAINT PK_OS_BENS PRIMARY KEY (ID_OS_EQUIPAMENTOS);
ALTER TABLE OS_BENS_LOCAL ADD CONSTRAINT PK_OS_BENS_LOCAL PRIMARY KEY (ID_OS_LOCALEQUIPAMENTO);
ALTER TABLE OS_BENS_MARCAS ADD CONSTRAINT PK_OS_BENS_MARCAS PRIMARY KEY (ID_OS_EQUIPAMENTO_MARCAS);
ALTER TABLE OS_BENS_TIPO ADD CONSTRAINT PK_OS_BENS_TIPO PRIMARY KEY (ID_OS_EQUIPAMENTO_TIPO);
ALTER TABLE OS_LAUDO ADD CONSTRAINT PK_OS_LAUDO PRIMARY KEY (ID_OS_LAUDO);
ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT PK_OS_ORDEMSERVICO PRIMARY KEY (ID_OS_ORDEMSERVICO);
ALTER TABLE OS_PRIORIDADE ADD CONSTRAINT PK_OS_PRIORIDADE PRIMARY KEY (ID_OS_PRIORIDADE);
ALTER TABLE OS_PRODUTOS_SERVICOS ADD CONSTRAINT PK_OS_PRODUTOS_SERVICOS PRIMARY KEY (ID_OS_PRODUTOS_SERVICOS);
ALTER TABLE OS_STATUS_ATENDIMENTO ADD CONSTRAINT PK_OS_STATUS_ATENDIMENTO PRIMARY KEY (ID_OS_STATUS);
ALTER TABLE OS_TIPOATENDIMENTO ADD CONSTRAINT PK_OS_TIPOATENDIMENTO PRIMARY KEY (ID_OS_TIPO);
ALTER TABLE OTICA ADD CONSTRAINT PK_OTICA PRIMARY KEY (CODIGO);
ALTER TABLE PAG_RET_PEDIDOS ADD PRIMARY KEY (CODIGO);
ALTER TABLE PARTIDAS ADD CONSTRAINT PK_PARTIDAS PRIMARY KEY (CODIGO);
ALTER TABLE PEDIDOS ADD PRIMARY KEY (CODIGO);
ALTER TABLE PEDIDOS_ITENS ADD PRIMARY KEY (CODIGO)
USING INDEX INTEG_35;
ALTER TABLE PERDAS ADD CONSTRAINT PK_PERDAS PRIMARY KEY (SEQ);
ALTER TABLE PLANOCONTAS ADD PRIMARY KEY (CODIGO);
ALTER TABLE PLANO_CARACT ADD CONSTRAINT PK_PLANO_CARACT PRIMARY KEY (ID_CARACT);
ALTER TABLE PLANO_CONTRAT ADD CONSTRAINT PK_PLANO_CONTRAT PRIMARY KEY (ID_PLANO);
ALTER TABLE PLANO_TIPO ADD CONSTRAINT PK_PLANO_TIPO PRIMARY KEY (ID_TIPO);
ALTER TABLE PREVENDA ADD PRIMARY KEY (CODIGO);
ALTER TABLE PREVENDA_ITENS ADD PRIMARY KEY (CODIGO);
ALTER TABLE PRODUTOS ADD PRIMARY KEY (CODIGO);
ALTER TABLE PRODUTOS_ESTOQUES_LOG ADD PRIMARY KEY (ID_EMPRESA, ID_FILIAL, ID_AJUSTE);
ALTER TABLE PRODUTOS_FALTA ADD CONSTRAINT PK_PRODUTOS_FALTA PRIMARY KEY (COD_EMPRESA, COD_PRODUTO, CODIGO_SEQ);
ALTER TABLE PRODUTOS_GRADE ADD CONSTRAINT PK_PRODUTOS_GRADE PRIMARY KEY (CODIGO);
ALTER TABLE PRODUTOS_IMOVEL ADD PRIMARY KEY (ID);
ALTER TABLE PRODUTOS_PRECOS_LOG ADD PRIMARY KEY (ID_EMPRESA, ID_PRODUTO, ID_OCORRENCIA);
ALTER TABLE PRODUTOS_SERIAL ADD CONSTRAINT PK_PRODUTOS_SERIAL PRIMARY KEY (CODIGO);
ALTER TABLE PRODUTO_PRECOS ADD CONSTRAINT PK_PRODUTO_PRECOS PRIMARY KEY (CODIGO);
ALTER TABLE PRODUTO_RENTABILIDADE ADD CONSTRAINT PK_PRODUTO_RENTABILIDADE PRIMARY KEY (CODIGO);
ALTER TABLE PRODUTO_SIMILAR ADD CONSTRAINT PK_PRODUTO_SIMILAR PRIMARY KEY (CODIGO_SEQ);
ALTER TABLE SECCAO ADD CONSTRAINT PK_SECCAO PRIMARY KEY (CODIGO);
ALTER TABLE SINTEGRA_GNRE ADD CONSTRAINT PK_SINTEGRA_GNRE PRIMARY KEY (COD_SINTEGRA_GNRE);
ALTER TABLE SINTEGRA_INFO ADD CONSTRAINT PK_SINTEGRA_INFO PRIMARY KEY (COD_SINTEGRA_INFO);
ALTER TABLE SINTEGRA_LOOKUP ADD CONSTRAINT PK_SINTEGRA_LOOKUP PRIMARY KEY (COD_SINTEGRA_LOOKUP);
ALTER TABLE SINTEGRA_R60 ADD CONSTRAINT PK_SINTEGRA_R60 PRIMARY KEY (COD_SINTEGRA_R60);
ALTER TABLE SPED_ECF ADD CONSTRAINT PK_SPED_ECF PRIMARY KEY (ECF_CX);
ALTER TABLE SPED_INVENTARIO ADD CONSTRAINT PK_SPED_INVENTARIO PRIMARY KEY (ID_INV);
ALTER TABLE SPED_INVENTARIO_ITENS ADD CONSTRAINT PK_SPED_INVENTARIO_ITENS PRIMARY KEY (SEQUENCIA);
ALTER TABLE SPED_PARTICIPANTES ADD CONSTRAINT PK_SPED_PARTICIPANTES PRIMARY KEY (COD_SPED);
ALTER TABLE SPED_REDUCAO_Z ADD CONSTRAINT PK_SPED_REDUCAO_Z PRIMARY KEY (ECF_CX, DT_COD);
ALTER TABLE SUBGRUPOS ADD PRIMARY KEY (CODIGO);
ALTER TABLE TABELA_CFOP ADD CONSTRAINT PK_TABELA_CFOP PRIMARY KEY (CFOP);
ALTER TABLE TABELA_PIS_COFINS ADD CONSTRAINT PK_TABELA_PIS_COFINS PRIMARY KEY (COD_PIS_COFINS);
ALTER TABLE TANQUE ADD CONSTRAINT PK_TANQUE PRIMARY KEY (COD_TANQUE);
ALTER TABLE TRANSFERENCIA_LOCAL_ESTOQUE ADD PRIMARY KEY (CODIGO);
ALTER TABLE TRANSPORTADOR ADD CONSTRAINT PK_TRANSPORTADOR PRIMARY KEY (CD_TRANSPORTADOR);
ALTER TABLE TRIBECF ADD CONSTRAINT PK_TRIBECF PRIMARY KEY (CODECF);
ALTER TABLE ULT_LMC ADD CONSTRAINT PK_ULT_LMC PRIMARY KEY (CODIGO);
ALTER TABLE UNIDADES ADD PRIMARY KEY (CODIGO);
ALTER TABLE USUARIOS ADD PRIMARY KEY (CODIGO);
ALTER TABLE VALETROCO ADD CONSTRAINT PK_VALETROCO PRIMARY KEY (CODIGO);
ALTER TABLE VEICULO ADD CONSTRAINT PK_VEICULO PRIMARY KEY (CODIGO);
ALTER TABLE ZONA_VENDA ADD CONSTRAINT PK_ZONA_VENDA PRIMARY KEY (COD_ZONA);


/******************************************************************************/
/***                              Foreign Keys                              ***/
/******************************************************************************/

ALTER TABLE ACERTO_ESTOQUE ADD CONSTRAINT ACERTO_ESTOQUE_COD_EMP FOREIGN KEY (COD_EMP) REFERENCES EMPRESA (CODIGO);
ALTER TABLE ACERTO_ESTOQUE ADD CONSTRAINT FK_ACERTO_ESTOQUE FOREIGN KEY (CODIGO_LOCAL_ESTOQUE) REFERENCES LOCAIS_ESTOQUE (CODIGO);
ALTER TABLE AFERICAO ADD CONSTRAINT FK_AFERICAO FOREIGN KEY (CODIGO_PROD) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE APARTAMENTO ADD CONSTRAINT FK_APARTAMENTO FOREIGN KEY (APA_CODCATEGORIA) REFERENCES CATEGORIA (CAT_CODCATEGORIA);
ALTER TABLE BAIRRO ADD CONSTRAINT FK_BAIRRO FOREIGN KEY (COD_CIDADE) REFERENCES CIDADES (COD_CIDADE);
ALTER TABLE BANDEIRAS_CARTAO ADD CONSTRAINT FK_BANDEIRAS_CARTAO FOREIGN KEY (CODIGO_ADMINISTRADORA) REFERENCES ADMINISTRADORA_CARTAO (CODIGO);
ALTER TABLE BICO ADD CONSTRAINT FK_BICO FOREIGN KEY (COD_BOMBA) REFERENCES BOMBA (COD_BOMBA) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE BICO ADD CONSTRAINT FK_BICO1 FOREIGN KEY (COD_PRODUTOS) REFERENCES PRODUTOS (CODIGO) ON UPDATE CASCADE;
ALTER TABLE BOMBA_LACRES ADD CONSTRAINT FK_BOMBA_LACRES FOREIGN KEY (COD_BOMBA) REFERENCES BOMBA (COD_BOMBA) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE CHEQUES ADD CONSTRAINT FK_CHEQUES FOREIGN KEY (CODIGO_COMPRA) REFERENCES PEDIDOS (CODIGO) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE CHEQUES_EMITIDOS ADD CONSTRAINT FK_CHEQUES_EMITIDOS FOREIGN KEY (COD_CONTA) REFERENCES CONTA_BANCARIA (CODIGO);
ALTER TABLE CHEQUES_EMITIDOS ADD CONSTRAINT FK_CHEQUES_EMITIDOS1 FOREIGN KEY (COD_USUARIO) REFERENCES USUARIOS (CODIGO);
ALTER TABLE CHEQUES_EMITIDOS ADD CONSTRAINT FK_CHEQUES_EMITIDOS2 FOREIGN KEY (COD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE CHEQUES_EMITIDOS ADD CONSTRAINT FK_CHEQUES_EMITIDOS3 FOREIGN KEY (COD_VENDA) REFERENCES PEDIDOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE CHEQUES_EMITIDOS ADD CONSTRAINT FK_CHEQUES_EMITIDOS4 FOREIGN KEY (COD_COMPRA) REFERENCES NOTASFISCAIS (CODIGO_NOTA) ON DELETE CASCADE;
ALTER TABLE CHEQUES_EMITIDOS ADD CONSTRAINT FK_CHEQUES_EMITIDOS5 FOREIGN KEY (PL_CONTA) REFERENCES PLANOCONTAS (CODIGO);
ALTER TABLE CHEQUES_EMITIDOS ADD CONSTRAINT FK_CHEQUES_EMITIDOS_1 FOREIGN KEY (ID_VALE) REFERENCES FUNCIONARIO_VALE (ID) ON DELETE CASCADE;
ALTER TABLE CIDADES ADD CONSTRAINT FK_CIDADES FOREIGN KEY (COD_ESTADO) REFERENCES ESTADOS (COD_ESTADO);
ALTER TABLE CLIENTES_CONTATO ADD CONSTRAINT FK_CLIENTES_CONTATO FOREIGN KEY (ID_CLIENTES) REFERENCES CLIENTES (CODIGO) ON DELETE CASCADE;
ALTER TABLE CLIENTES_DOCUMENT ADD CONSTRAINT FK_CLIENTES_DOCUMENT FOREIGN KEY (ID_CLIENTES) REFERENCES CLIENTES (CODIGO) ON DELETE CASCADE;
ALTER TABLE CLIENTES_PROFISSAO ADD CONSTRAINT FK_CLIENTES_PROFISSAO FOREIGN KEY (ID_CLIENTES) REFERENCES CLIENTES (CODIGO) ON DELETE CASCADE;
ALTER TABLE CLIENTES_REFERENCIA ADD CONSTRAINT FK_CLIENTES_REFERENCIA FOREIGN KEY (ID_CLIENTES) REFERENCES CLIENTES (CODIGO) ON DELETE CASCADE;
ALTER TABLE CONTABILIDADE ADD CONSTRAINT FK_CONTABILIDADE_1 FOREIGN KEY (ID_PLANO_CONTA) REFERENCES PLANOCONTAS (CODIGO);
ALTER TABLE CONTABILIDADE ADD CONSTRAINT FK_CONTABILIDADE_2 FOREIGN KEY (ID_CONTRATO) REFERENCES MV_CONTRATO (ID) ON DELETE CASCADE;
ALTER TABLE CONTASPAGAR ADD CONSTRAINT FK_CONTASPAGAR FOREIGN KEY (CODIGO_NOTA) REFERENCES NOTASFISCAIS (CODIGO_NOTA) ON DELETE CASCADE;
ALTER TABLE CONTAS_APAGAR ADD CONSTRAINT FK_CONTAS_APAGAR FOREIGN KEY (COD_CENTRO_CUSTO) REFERENCES CENTRO_CUSTO (COD_CENTRO);
ALTER TABLE CONTAS_APAGAR ADD CONSTRAINT FK_CONTAS_APAGAR1 FOREIGN KEY (COD_IMOVEL) REFERENCES PRODUTOS_IMOVEL (ID_PRODUTOS);
ALTER TABLE CONTAS_APAGAR_PLANO ADD CONSTRAINT FK_CONTAS_APAGAR_PLANO FOREIGN KEY (CODIGO_ID) REFERENCES CONTAS_APAGAR (CODIGO) ON DELETE CASCADE;
ALTER TABLE CONTAS_APAGAR_PLANO ADD CONSTRAINT FK_CONTAS_APAGAR_PLANO1 FOREIGN KEY (CODPLANO) REFERENCES PLANOCONTAS (CODIGO);
ALTER TABLE CONTAS_PAGAR ADD CONSTRAINT FK_CONTAS_PAGAR FOREIGN KEY (CODIGO) REFERENCES CONTASPAGAR (CODIGO) ON DELETE CASCADE;
ALTER TABLE CONTAS_RECEBER_ADM_CARTAO ADD CONSTRAINT FK_CONTAS_RECEBER_ADM_CARTAO FOREIGN KEY (CODIGO_BANDEIRA) REFERENCES BANDEIRAS_CARTAO (CODIGO);
ALTER TABLE CONTAS_RECEBER_ADM_CARTAO ADD CONSTRAINT FK_CONTAS_RECEBER_ADM_CARTAO1 FOREIGN KEY (COD_EMP) REFERENCES EMPRESA (CODIGO);
ALTER TABLE CONTAS_RECEBER_ADM_CARTAO ADD CONSTRAINT FK_CONTAS_RECEBER_ADM_CARTAO2 FOREIGN KEY (COD_VEN) REFERENCES PEDIDOS (CODIGO) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE CONTAS_RECEBER_ADM_CARTAO ADD CONSTRAINT FK_CONTAS_RECEBER_ADM_CARTAO3 FOREIGN KEY (COD_CLI) REFERENCES CLIENTES (CODIGO);
ALTER TABLE CONTRATOS ADD CONSTRAINT FK_CONTRATOS FOREIGN KEY (TIPO_CONTRATO) REFERENCES PLANO_TIPO (ID_TIPO);
ALTER TABLE CONTRATOS ADD CONSTRAINT FK_CONTRATOS1 FOREIGN KEY (PLANO_CONTRATO) REFERENCES PLANO_CONTRAT (ID_PLANO);
ALTER TABLE CONTRATOS ADD CONSTRAINT FK_CONTRATOS2 FOREIGN KEY (PLANO_CARACT) REFERENCES PLANO_CARACT (ID_CARACT);
ALTER TABLE COZINHA ADD CONSTRAINT FK_COZINHA_1 FOREIGN KEY (COD_PRO) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE COZINHA ADD CONSTRAINT FK_COZINHA_2 FOREIGN KEY (COD_VEND) REFERENCES USUARIOS (CODIGO);
ALTER TABLE COZINHA ADD CONSTRAINT FK_COZINHA_3 FOREIGN KEY (COD_EMP) REFERENCES EMPRESA (CODIGO);
ALTER TABLE CREDIARIO ADD CONSTRAINT FK_CREDIARIO FOREIGN KEY (CODIGO_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE CREDIARIO ADD CONSTRAINT FK_CREDIARIO1 FOREIGN KEY (CODIGO_COMPRA) REFERENCES PEDIDOS (CODIGO) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE CREDIARIO ADD CONSTRAINT FK_CREDIARIO3 FOREIGN KEY (COD_ENTRADA) REFERENCES ENTRAHOSPEDE (ENT_CODENTRADA) ON DELETE CASCADE;
ALTER TABLE CREDIARIO ADD CONSTRAINT FK_CREDIARIO_1 FOREIGN KEY (ID_CT_PARCELA) REFERENCES MV_CT_PARCELA (ID);
ALTER TABLE CREDIARIO ADD CONSTRAINT FK_CREDIARIO_2 FOREIGN KEY (ID_CONTRATO) REFERENCES MV_CONTRATO (ID);
ALTER TABLE CREDIARIO_RECEBIDO ADD CONSTRAINT FK_CREDIARIO_RECEBIDO FOREIGN KEY (COD_CREDIAIRIO) REFERENCES CREDIARIO (CODIGO);
ALTER TABLE CUPOM_ITEM ADD CONSTRAINT FK_CUPOM_ITEM FOREIGN KEY (CODPRODUTO) REFERENCES PRODUTOS (CODIGO_BARRAS);
ALTER TABLE FRETES ADD CONSTRAINT FK_FRETES FOREIGN KEY (COD_FRETEIRO) REFERENCES CLIENTES (CODIGO);
ALTER TABLE FRETES ADD CONSTRAINT FK_FRETES1 FOREIGN KEY (COD_VEICULO) REFERENCES VEICULO (CODIGO);
ALTER TABLE FRETES ADD CONSTRAINT FK_FRETES2 FOREIGN KEY (COD_CHEQUE) REFERENCES CHEQUES_EMITIDOS (COD_CHEQUE) ON DELETE CASCADE;
ALTER TABLE FUNCIONARIO_PAGO ADD CONSTRAINT FK_FUNCIONARIO_PAGO_1 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE FUNCIONARIO_VALE ADD CONSTRAINT FK_FUNCIONARIO_VALE_1 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE GRUPO_TECLAS_DETALHES ADD CONSTRAINT FK_GRUPO_TECLAS_DETALHES FOREIGN KEY (COD_PRO) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE GRUPO_TECLAS_DETALHES ADD CONSTRAINT FK_GRUPO_TECLAS_DETALHES1 FOREIGN KEY (TECLA) REFERENCES GRUPO_TECLAS (TECLA) ON DELETE CASCADE;
ALTER TABLE GRUPO_TRIBUTACAO ADD CONSTRAINT FK_GRUPO_TRIBUTACAO FOREIGN KEY (CFOP_ESTADUAL_DEV) REFERENCES CFOP (CODIGO_CFOP);
ALTER TABLE GRUPO_TRIBUTACAO ADD CONSTRAINT FK_GRUPO_TRIBUTACAO1 FOREIGN KEY (CFOP_INTERESTADUAL_DEV) REFERENCES CFOP (CODIGO_CFOP);
ALTER TABLE INVENTARIO_ESTOQUE ADD CONSTRAINT FK_INVENTARIO_ESTOQUE FOREIGN KEY (COD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE INVENTARIO_ESTOQUE ADD CONSTRAINT FK_INVENTARIO_ESTOQUE1 FOREIGN KEY (COD_USUARIO) REFERENCES USUARIOS (CODIGO);
ALTER TABLE ITENS_ACERTO_ESTOQUE ADD FOREIGN KEY (COD_MOT) REFERENCES MOTIVO_ACERTO (COD_MOT);
ALTER TABLE ITENS_ACERTO_ESTOQUE ADD FOREIGN KEY (CODIGO_LOCAL_ESTOQUE) REFERENCES LOCAIS_ESTOQUE (CODIGO);
ALTER TABLE ITENS_ACERTO_ESTOQUE ADD CONSTRAINT ITENS_ACERTO_ESTOQUE_COD_EMP FOREIGN KEY (COD_EMP) REFERENCES EMPRESA (CODIGO);
ALTER TABLE ITENS_ACERTO_ESTOQUE ADD CONSTRAINT ITENS_ACERTO_ESTOQUE_COD_PRO FOREIGN KEY (COD_PRO) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE ITENS_ACERTO_ESTOQUE ADD CONSTRAINT ITENS_MOT_ACERTO_COD_ACE FOREIGN KEY (COD_ACE) REFERENCES ACERTO_ESTOQUE (COD_ACE) ON DELETE CASCADE;
ALTER TABLE ITENS_COMPOSICAO ADD CONSTRAINT FK_ITENS_COMPOSICAO_1 FOREIGN KEY (ID_ITEM_COMPOSTO) REFERENCES ITENS_COMPOSTO (ID) ON DELETE CASCADE;
ALTER TABLE ITENS_COMPOSICAO ADD CONSTRAINT FK_ITENS_COMPOSICAO_2 FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE ITENS_COMPOSTO ADD CONSTRAINT FK_ITENS_COMPOSTO_1 FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE ITENS_CONTA_CLIENTE ADD CONSTRAINT FK_ITENS_CONTA_CLIENTE FOREIGN KEY (COD_PRO) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE ITENS_CONTA_CLIENTE ADD CONSTRAINT FK_ITENS_CONTA_CLIENTE1 FOREIGN KEY (COD_VEND) REFERENCES USUARIOS (CODIGO);
ALTER TABLE ITENS_CONTA_CLIENTE ADD CONSTRAINT FK_ITENS_CONTA_CLIENTE2 FOREIGN KEY (COD_EMP) REFERENCES EMPRESA (CODIGO);
ALTER TABLE ITENS_CONTA_CLIENTE ADD FOREIGN KEY (CODIGO) REFERENCES CONTA_CLIENTE (CODIGO) ON DELETE CASCADE;
ALTER TABLE ITENS_INVENTARIO_ESTOQUE ADD CONSTRAINT FK_ITENS_INVENTARIO_ESTOQUE FOREIGN KEY (COD_INVENTARIO) REFERENCES INVENTARIO_ESTOQUE (COD_INVENTARIO) ON DELETE CASCADE;
ALTER TABLE ITENS_INVENTARIO_ESTOQUE ADD CONSTRAINT FK_ITENS_INVENTARIO_ESTOQUE1 FOREIGN KEY (COD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE ITENS_INVENTARIO_ESTOQUE ADD CONSTRAINT FK_ITENS_INVENTARIO_ESTOQUE2 FOREIGN KEY (COD_PRODUTO) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE LATICINIO ADD CONSTRAINT FK_LATICINIO FOREIGN KEY (CODIGO_ID) REFERENCES LATICINIOS (CODIGO) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE MD_BAIXA_PLAQUETA ADD CONSTRAINT FK_MD_BAIXA_PLAQUETA_1 FOREIGN KEY (ID_TORAS_ENTRADAS) REFERENCES MD_TORAS_ENTRADAS (ID);
ALTER TABLE MD_BAIXA_PLAQUETA ADD CONSTRAINT FK_MD_BAIXA_PLAQUETA_2 FOREIGN KEY (ID_SERRADO) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE MD_ENTRADA_TORAS ADD CONSTRAINT FK_MD_ENTRADA_TORAS_1 FOREIGN KEY (ID_FORNECEDOR) REFERENCES FORNECEDORES (CODIGO);
ALTER TABLE MD_ENTRADA_TORAS ADD CONSTRAINT FK_MD_ENTRADA_TORAS_2 FOREIGN KEY (ID_PATIO) REFERENCES MD_PATIO (ID);
ALTER TABLE MD_ENTRADA_TORAS ADD CONSTRAINT FK_MD_ENTRADA_TORAS_3 FOREIGN KEY (ID_MOTORISTA) REFERENCES CLIENTES (CODIGO);
ALTER TABLE MD_TORAS_ENTRADAS ADD CONSTRAINT FK_MD_TORAS_ENTRADAS_1 FOREIGN KEY (ID_ENTRADA_TORAS) REFERENCES MD_ENTRADA_TORAS (ID) ON DELETE CASCADE;
ALTER TABLE MD_TORAS_ENTRADAS ADD CONSTRAINT FK_MD_TORAS_ENTRADAS_2 FOREIGN KEY (ID_ESPECIE) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE MOVIMENTACAO_COMBUSTIVEL ADD CONSTRAINT FK_MOVIMENTACAO_COMBUSTIVEL FOREIGN KEY (NUMERO_VDA) REFERENCES PEDIDOS (CODIGO) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE MOVIMENTACAO_COMBUSTIVEL ADD CONSTRAINT FK_MOVIMENTACAO_COMBUSTIVEL1 FOREIGN KEY (COD_NOTA_ENT) REFERENCES NOTASFISCAIS (CODIGO_NOTA) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE MOVIMENTO_DIARIO ADD CONSTRAINT FK_MOVIMENTO_DIARIO FOREIGN KEY (CODIGO_VENDA) REFERENCES PEDIDOS (CODIGO) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE MOVIMENTO_DIARIO ADD CONSTRAINT FK_MOVIMENTO_DIARIO1 FOREIGN KEY (COD_CONTAS_PAGAR) REFERENCES CONTAS_PAGAR (CODIGO_GERA) ON DELETE CASCADE;
ALTER TABLE MOVIMENTO_DIARIO ADD CONSTRAINT FK_MOVIMENTO_DIARIO2 FOREIGN KEY (COD_CHEQUE) REFERENCES CHEQUES (CODIGO) ON DELETE CASCADE;
ALTER TABLE MOVIMENTO_DIARIO ADD CONSTRAINT FK_MOVIMENTO_DIARIO3 FOREIGN KEY (COD_CREDIARIO) REFERENCES CREDIARIO (CODIGO) ON DELETE CASCADE;
ALTER TABLE MOVIMENTO_DIARIO ADD CONSTRAINT FK_MOVIMENTO_DIARIO4 FOREIGN KEY (COD_COMPRA) REFERENCES NOTASFISCAIS (CODIGO_NOTA) ON DELETE CASCADE;
ALTER TABLE MOVIMENTO_DIARIO ADD CONSTRAINT FK_MOVIMENTO_DIARIO5 FOREIGN KEY (COD_PLANO) REFERENCES PLANOCONTAS (CODIGO);
ALTER TABLE MOVIMENTO_DIARIO ADD CONSTRAINT FK_MOVIMENTO_DIARIO6 FOREIGN KEY (COD_USUARIO) REFERENCES USUARIOS (CODIGO);
ALTER TABLE MOVIMENTO_DIARIO ADD CONSTRAINT FK_MOVIMENTO_DIARIO7 FOREIGN KEY (COD_ENTRADA) REFERENCES ENTRAHOSPEDE (ENT_CODENTRADA) ON DELETE CASCADE;
ALTER TABLE MOVIMENTO_DIARIO ADD CONSTRAINT FK_MOVIMENTO_DIARIO8 FOREIGN KEY (COD_APAGAR) REFERENCES CONTAS_APAGAR (CODIGO) ON DELETE CASCADE;
ALTER TABLE MOVIMENTO_DIARIO ADD CONSTRAINT FK_MOVIMENTO_DIARIO_1 FOREIGN KEY (ID_VALE) REFERENCES FUNCIONARIO_VALE (ID) ON DELETE CASCADE;
ALTER TABLE MV_CONTRATO ADD CONSTRAINT FK_MV_CONTRATO_1 FOREIGN KEY (ID_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE MV_CT_IMOVEL_ALUGUEL ADD CONSTRAINT FK_MV_CT_IMOVEL_ALUGUEL_1 FOREIGN KEY (ID_CONTRATO) REFERENCES MV_CONTRATO (ID) ON DELETE CASCADE;
ALTER TABLE MV_CT_IMOVEL_ALUGUEL ADD CONSTRAINT FK_MV_CT_IMOVEL_ALUGUEL_2 FOREIGN KEY (ID_INQUILINO) REFERENCES CLIENTES (CODIGO);
ALTER TABLE MV_CT_IMOVEL_ALUGUEL ADD CONSTRAINT FK_MV_CT_IMOVEL_ALUGUEL_3 FOREIGN KEY (ID_PROPRIETARIO) REFERENCES CLIENTES (CODIGO);
ALTER TABLE MV_CT_IMOVEL_ALUGUEL ADD CONSTRAINT FK_MV_CT_IMOVEL_ALUGUEL_4 FOREIGN KEY (ID_IMOVEL) REFERENCES PRODUTOS_IMOVEL (ID);
ALTER TABLE MV_CT_IMOVEL_ALUGUEL ADD CONSTRAINT FK_MV_CT_IMOVEL_ALUGUEL_5 FOREIGN KEY (ID_FIADOR) REFERENCES CLIENTES (CODIGO);
ALTER TABLE MV_CT_IMOVEL_COMPRA ADD CONSTRAINT FK_MV_CT_IMOVEL_COMPRA_1 FOREIGN KEY (ID_CONTRATO) REFERENCES MV_CONTRATO (ID) ON DELETE CASCADE;
ALTER TABLE MV_CT_IMOVEL_COMPRA ADD CONSTRAINT FK_MV_CT_IMOVEL_COMPRA_2 FOREIGN KEY (ID_VENDEDOR) REFERENCES CLIENTES (CODIGO);
ALTER TABLE MV_CT_IMOVEL_COMPRA ADD CONSTRAINT FK_MV_CT_IMOVEL_COMPRA_3 FOREIGN KEY (ID_IMOVEL) REFERENCES PRODUTOS_IMOVEL (ID);
ALTER TABLE MV_CT_IMOVEL_COMPRA ADD CONSTRAINT FK_MV_CT_IMOVEL_COMPRA_4 FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS (CODIGO);
ALTER TABLE MV_CT_IMOVEL_COMPRA ADD CONSTRAINT FK_MV_CT_IMOVEL_COMPRA_5 FOREIGN KEY (ID_CENTRO_CUSTO) REFERENCES CENTRO_CUSTO (COD_CENTRO);
ALTER TABLE MV_CT_IMOVEL_VENDA ADD CONSTRAINT FK_MV_CT_IMOVEL_VENDA_1 FOREIGN KEY (ID_CONTRATO) REFERENCES MV_CONTRATO (ID) ON DELETE CASCADE;
ALTER TABLE MV_CT_IMOVEL_VENDA ADD CONSTRAINT FK_MV_CT_IMOVEL_VENDA_2 FOREIGN KEY (ID_VENDEDOR) REFERENCES CLIENTES (CODIGO);
ALTER TABLE MV_CT_IMOVEL_VENDA ADD CONSTRAINT FK_MV_CT_IMOVEL_VENDA_3 FOREIGN KEY (ID_IMOVEL) REFERENCES PRODUTOS_IMOVEL (ID);
ALTER TABLE MV_CT_IMOVEL_VENDA ADD CONSTRAINT FK_MV_CT_IMOVEL_VENDA_4 FOREIGN KEY (ID_COMPRADOR) REFERENCES CLIENTES (CODIGO);
ALTER TABLE MV_CT_IMOVEL_VENDA ADD CONSTRAINT FK_MV_CT_IMOVEL_VENDA_5 FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS (CODIGO);
ALTER TABLE MV_CT_IMOVEL_VENDA ADD CONSTRAINT FK_MV_CT_IMOVEL_VENDA_6 FOREIGN KEY (ID_CENTRO_CUSTO) REFERENCES CENTRO_CUSTO (COD_CENTRO);
ALTER TABLE MV_CT_PARCELA ADD CONSTRAINT FK_MV_CT_PARCELA_1 FOREIGN KEY (ID_CONTRATO) REFERENCES MV_CONTRATO (ID) ON DELETE CASCADE;
ALTER TABLE MV_CT_PARCELA ADD CONSTRAINT FK_MV_CT_PARCELA_2 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE MV_PLANILHA_IMOVEL ADD CONSTRAINT FK_MV_PLANILHA_IMOVEL_1 FOREIGN KEY (ID_IMOVEL) REFERENCES PRODUTOS_IMOVEL (ID) ON DELETE CASCADE;
ALTER TABLE NFECE_ITENS ADD CONSTRAINT FK_NFECE_ITENS FOREIGN KEY (NR_NOTA, COD_EMPRESA) REFERENCES NFECE_NOTA (NR_NOTA, CD_EMPRESA) ON DELETE CASCADE;
ALTER TABLE NFECE_NOTA ADD CONSTRAINT FK_NFECE_NOTA FOREIGN KEY (CD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE NFE_FRETE ADD CONSTRAINT FK_NFE_FRETE FOREIGN KEY (NR_NOTA) REFERENCES NFE_NOTA (NR_NOTA) ON DELETE CASCADE;
ALTER TABLE NFE_FRETE ADD CONSTRAINT FK_NFE_FRETE1 FOREIGN KEY (CD_TRANSPORTADOR) REFERENCES TRANSPORTADOR (CD_TRANSPORTADOR);
ALTER TABLE NFE_FRETE ADD CONSTRAINT FK_NFE_FRETE2 FOREIGN KEY (COD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE NFE_ITENS ADD CONSTRAINT FK_NFE_ITENS FOREIGN KEY (NR_NOTA) REFERENCES NFE_NOTA (NR_NOTA) ON DELETE CASCADE;
ALTER TABLE NFE_NOTA ADD CONSTRAINT FK_NFE_NOTA FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE NFE_NOTA ADD CONSTRAINT FK_NFE_NOTA3 FOREIGN KEY (CD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE NFSE_NOTA ADD CONSTRAINT FK_NFSE_NOTA FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE NOTASFISCAIS ADD CONSTRAINT FK_NOTASFISCAIS FOREIGN KEY (COD_FORNECEDOR) REFERENCES FORNECEDORES (CODIGO);
ALTER TABLE NOTASFISCAIS ADD CONSTRAINT FK_NOTASFISCAIS1 FOREIGN KEY (COD_CENTRO_CUSTO) REFERENCES CENTRO_CUSTO (COD_CENTRO);
ALTER TABLE NOTASFISCAIS ADD CONSTRAINT FK_NOTASFISCAIS2 FOREIGN KEY (COD_IMOVEL) REFERENCES PRODUTOS_IMOVEL (ID_PRODUTOS);
ALTER TABLE NOTASFISCAIS_ITENS ADD CONSTRAINT FK_NOTASFISCAIS_ITENS FOREIGN KEY (CODIGO_NOTA) REFERENCES NOTASFISCAIS (CODIGO_NOTA) ON DELETE CASCADE;
ALTER TABLE NOTASFISCAIS_ITENS ADD CONSTRAINT FK_NOTASFISCAIS_ITENS1 FOREIGN KEY (CODIGO_PRODUTO) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE NOTA_FISCAL_CCE ADD CONSTRAINT FK_NOTA_FISCAL_CCE FOREIGN KEY (COD_NF) REFERENCES NFE_NOTA (NR_NOTA);
ALTER TABLE OD_AGENDA ADD CONSTRAINT FK_OD_AGENDA_1 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE OD_AGENDA ADD CONSTRAINT FK_OD_AGENDA_2 FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS (CODIGO);
ALTER TABLE OD_ANAMNESE ADD CONSTRAINT FK_OD_ANAMNESE_1 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE OD_EVOLUCOES ADD CONSTRAINT FK_OD_EVOLUCOES_1 FOREIGN KEY (ID_R_PROCEDIMENTO) REFERENCES OD_R_PROCEDIMENTO (ID) ON DELETE CASCADE;
ALTER TABLE OD_IMAGENS ADD CONSTRAINT FK_OD_IMAGENS_1 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE OD_R_PROCEDIMENTO ADD CONSTRAINT FK_OD_R_PROCEDIMENTO_1 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE OD_R_PROCEDIMENTO ADD CONSTRAINT FK_OD_R_PROCEDIMENTO_2 FOREIGN KEY (ID_PROCEDIMENTO) REFERENCES OD_PROCEDIMENTO (ID);
ALTER TABLE ORCAMENTOS ADD CONSTRAINT FK_ORCAMENTOS FOREIGN KEY (CODIGO_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE ORCAMENTOS ADD CONSTRAINT FK_ORCAMENTOS1 FOREIGN KEY (COD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE ORCAMENTOS_ITENS ADD CONSTRAINT FK_ORCAMENTOS_ITENS FOREIGN KEY (CODIGO_ID) REFERENCES ORCAMENTOS (CODIGO) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE ORCAMENTOS_ITENS ADD CONSTRAINT FK_ORCAMENTOS_ITENS1 FOREIGN KEY (CODIGO_PROD) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE ORCAMENTOS_PARCELAS ADD CONSTRAINT FK_ORCAMENTOS_PARCELAS FOREIGN KEY (ID_ORCAMENTO) REFERENCES ORCAMENTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE OS_AUTO ADD CONSTRAINT FK_OS_AUTO_1 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE OS_AUTO ADD CONSTRAINT FK_OS_AUTO_2 FOREIGN KEY (ID_ATENDIMENTO) REFERENCES OS_TIPOATENDIMENTO (ID_OS_TIPO);
ALTER TABLE OS_AUTO ADD CONSTRAINT FK_OS_AUTO_3 FOREIGN KEY (ID_VEICULO) REFERENCES VEICULO (CODIGO);
ALTER TABLE OS_AUTO ADD CONSTRAINT FK_OS_AUTO_4 FOREIGN KEY (ID_TECNICO) REFERENCES CLIENTES (CODIGO);
ALTER TABLE OS_AUTO_PRODUTOS ADD CONSTRAINT FK_OS_AUTO_PRODUTOS_1 FOREIGN KEY (ID_OS_AUTO) REFERENCES OS_AUTO (ID) ON DELETE CASCADE;
ALTER TABLE OS_AUTO_PRODUTOS ADD CONSTRAINT FK_OS_AUTO_PRODUTOS_2 FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE OS_BENS ADD CONSTRAINT FK_OS_BENS FOREIGN KEY (ID_OS_EQUIPAMENTO_TIPO) REFERENCES OS_BENS_TIPO (ID_OS_EQUIPAMENTO_TIPO);
ALTER TABLE OS_BENS ADD CONSTRAINT FK_OS_BENS1 FOREIGN KEY (ID_OS_EQUIPAMENTO_MARCA) REFERENCES OS_BENS_MARCAS (ID_OS_EQUIPAMENTO_MARCAS);
ALTER TABLE OS_LAUDO ADD CONSTRAINT FK_OS_LAUDO FOREIGN KEY (ID_OS_ORDEMSERVICO) REFERENCES OS_ORDEMSERVICO (ID_OS_ORDEMSERVICO) ON DELETE CASCADE;
ALTER TABLE OS_LAUDO ADD CONSTRAINT FK_OS_LAUDO1 FOREIGN KEY (ID_TECNICO) REFERENCES USUARIOS (CODIGO);
ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT FK_OS_ORDEMSERVICO FOREIGN KEY (ID_OS_PRIORIDADE) REFERENCES OS_PRIORIDADE (ID_OS_PRIORIDADE) ON UPDATE CASCADE;
ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT FK_OS_ORDEMSERVICO1 FOREIGN KEY (ID_OS_EQUIPAMENTO) REFERENCES OS_BENS (ID_OS_EQUIPAMENTOS) ON UPDATE CASCADE;
ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT FK_OS_ORDEMSERVICO2 FOREIGN KEY (ID_OS_STATUS) REFERENCES OS_STATUS_ATENDIMENTO (ID_OS_STATUS) ON UPDATE CASCADE;
ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT FK_OS_ORDEMSERVICO3 FOREIGN KEY (ID_OS_EQUIPAMENTO_COR) REFERENCES OS_BEM_COR (ID_OS_EQUIPAMENTO_COR) ON UPDATE CASCADE;
ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT FK_OS_ORDEMSERVICO4 FOREIGN KEY (ID_OS_EQUIP_LOCAL) REFERENCES OS_BENS_LOCAL (ID_OS_LOCALEQUIPAMENTO) ON UPDATE CASCADE;
ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT FK_OS_ORDEMSERVICO5 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES (CODIGO) ON UPDATE CASCADE;
ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT FK_OS_ORDEMSERVICO6 FOREIGN KEY (ID_TECNICORESPONSAVEL) REFERENCES USUARIOS (CODIGO) ON UPDATE CASCADE;
ALTER TABLE OS_ORDEMSERVICO ADD CONSTRAINT FK_OS_ORDEMSERVICO8 FOREIGN KEY (ID_OS_TIPOATENDIMENTO) REFERENCES OS_TIPOATENDIMENTO (ID_OS_TIPO);
ALTER TABLE OS_PRODUTOS_SERVICOS ADD CONSTRAINT FK_OS_PRODUTOS_SERVICOS FOREIGN KEY (ID_OS_ORDEMSERVICO) REFERENCES OS_ORDEMSERVICO (ID_OS_ORDEMSERVICO) ON DELETE CASCADE;
ALTER TABLE OTICA ADD CONSTRAINT FK_OTICA FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTES (CODIGO);
ALTER TABLE OTICA ADD CONSTRAINT FK_OTICA1 FOREIGN KEY (COD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE PARTIDAS ADD CONSTRAINT FK_PARTIDAS FOREIGN KEY (COD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE PEDIDOS ADD CONSTRAINT FK_PEDIDOS FOREIGN KEY (CODIGO_CLIENTE) REFERENCES CLIENTES (CODIGO) ON UPDATE CASCADE;
ALTER TABLE PEDIDOS ADD CONSTRAINT FK_PEDIDOS1 FOREIGN KEY (COD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE PEDIDOS_CHEQUES_DIN ADD CONSTRAINT FK_PEDIDOS_CHEQUES_DIN FOREIGN KEY (COD_VENDA) REFERENCES PEDIDOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE PEDIDOS_FORMAS_PAGAMENTO ADD CONSTRAINT FK_PEDIDOS_FORMAS_PAGAMENTO FOREIGN KEY (COD_VENDA) REFERENCES PEDIDOS (CODIGO) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE PEDIDOS_ITENS ADD CONSTRAINT FK_PEDIDOS_ITENS FOREIGN KEY (CODIGO_ID) REFERENCES PEDIDOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE PEDIDOS_ITENS ADD CONSTRAINT FK_PEDIDOS_ITENS1 FOREIGN KEY (CODIGO_PROD) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE PERDAS ADD CONSTRAINT FK_PERDAS FOREIGN KEY (COD_PRODUTO) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE PREVENDA ADD CONSTRAINT FK_PREVENA FOREIGN KEY (CODIGO_CLIENTE) REFERENCES CLIENTES (CODIGO) ON UPDATE CASCADE;
ALTER TABLE PREVENDA ADD CONSTRAINT FK_PREVENDA1 FOREIGN KEY (COD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE PREVENDA_ITENS ADD CONSTRAINT FK_PREVENDA_ITENS FOREIGN KEY (CODIGO_ID) REFERENCES PREVENDA (CODIGO) ON DELETE CASCADE;
ALTER TABLE PREVENDA_ITENS ADD CONSTRAINT FK_PREVENDA_ITENS1 FOREIGN KEY (CODIGO_PROD) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE PRODUTOS ADD CONSTRAINT FK_PRODUTOS FOREIGN KEY (COD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE PRODUTOS ADD CONSTRAINT FK_PRODUTOS1 FOREIGN KEY (CODIGO_GRUPO) REFERENCES GRUPOS (CODIGO);
ALTER TABLE PRODUTOS ADD CONSTRAINT FK_PRODUTOS2 FOREIGN KEY (CODIGO_MARCA) REFERENCES MARCAS (CODIGO);
ALTER TABLE PRODUTOS ADD CONSTRAINT FK_PRODUTOS3 FOREIGN KEY (CODIGO_FORNECEDORES) REFERENCES FORNECEDORES (CODIGO);
ALTER TABLE PRODUTOS ADD CONSTRAINT FK_PRODUTOS4 FOREIGN KEY (CATEGORIA) REFERENCES CATEGORIAS (CODIGO);
ALTER TABLE PRODUTOS ADD CONSTRAINT FK_PRODUTOS5 FOREIGN KEY (SECCAO) REFERENCES SECCAO (CODIGO);
ALTER TABLE PRODUTOS ADD CONSTRAINT FK_PRODUTOS6 FOREIGN KEY (GRUPO_TRIBUTACAO) REFERENCES GRUPO_TRIBUTACAO (COD_GRUPO);
ALTER TABLE PRODUTOS ADD CONSTRAINT FK_PRODUTOS7 FOREIGN KEY (CODIGO_LOCAL_ESTOQUE) REFERENCES LOCAIS_ESTOQUE (CODIGO);
ALTER TABLE PRODUTOS ADD CONSTRAINT FK_PRODUTOS8 FOREIGN KEY (UNIDADE) REFERENCES UNIDADES (CODIGO);
ALTER TABLE PRODUTOS_ESTOQUES_LOG ADD CONSTRAINT FK_PRODUTOS_ESTOQUES_LOG FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE PRODUTOS_FALTA ADD CONSTRAINT FK_PRODUTOS_FALTA FOREIGN KEY (COD_PRODUTO) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE PRODUTOS_FARDO ADD CONSTRAINT FK_PRODUTOS_FARDO FOREIGN KEY (CODIGO) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE PRODUTOS_IMOVEL ADD CONSTRAINT FK_PRODUTOS_IMOVEL FOREIGN KEY (ID_PRODUTOS) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE PRODUTOS_INFO_ADIC ADD CONSTRAINT FK_PRODUTOS_INFO_ADIC FOREIGN KEY (COD_PRODUTO) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE PRODUTOS_PRECOS_LOG ADD CONSTRAINT FK_PRODUTOS_PRECOS_LOG FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE PRODUTO_SIMILAR ADD CONSTRAINT FK_PRODUTO_SIMILAR FOREIGN KEY (CODIGO_PROD) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE PRODUTO_SIMILAR ADD CONSTRAINT FK_PRODUTO_SIMILAR1 FOREIGN KEY (CODIGO_SIMILAR) REFERENCES PRODUTOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE SPED_INVENTARIO_ITENS ADD CONSTRAINT FK_SPED_INVENTARIO_ITENS FOREIGN KEY (ID_INV) REFERENCES SPED_INVENTARIO (ID_INV) ON DELETE CASCADE;
ALTER TABLE SPED_REDUCAO_Z ADD CONSTRAINT FK_SPED_REDUCAO_Z FOREIGN KEY (ECF_CX) REFERENCES SPED_ECF (ECF_CX) ON DELETE CASCADE;
ALTER TABLE SPED_TOTAL_Z ADD CONSTRAINT FK_SPED_TOTAL_Z FOREIGN KEY (ECF_CX) REFERENCES SPED_ECF (ECF_CX) ON DELETE CASCADE;
ALTER TABLE TANQUE ADD CONSTRAINT FK_TANQUE FOREIGN KEY (COD_PRODUTOS) REFERENCES PRODUTOS (CODIGO);
ALTER TABLE TRANSFERENCIA_LOCAL_ESTOQUE ADD CONSTRAINT FK_TRANSFERENCIA_LOCAL_ESTOQUE FOREIGN KEY (COD_USU) REFERENCES USUARIOS (CODIGO);
ALTER TABLE TRANSFERENCIA_LOCAL_ESTOQUE ADD CONSTRAINT FK_TRANSFERENCIA_LOCAL_ESTOQUE1 FOREIGN KEY (CODIGO_LOCAL_ORIGEM) REFERENCES LOCAIS_ESTOQUE (CODIGO);
ALTER TABLE TRANSFERENCIA_LOCAL_ESTOQUE ADD CONSTRAINT FK_TRANSFERENCIA_LOCAL_ESTOQUE2 FOREIGN KEY (CODIGO_LOCAL_DESTINO) REFERENCES LOCAIS_ESTOQUE (CODIGO);
ALTER TABLE TRANSFERENCIA_LOCAL_ESTOQUE ADD CONSTRAINT FK_TRANSFERENCIA_LOCAL_ESTOQUE3 FOREIGN KEY (COD_EMP) REFERENCES EMPRESA (CODIGO);
ALTER TABLE TRANSPORTADOR ADD CONSTRAINT FK_TRANSPORTADOR FOREIGN KEY (CD_EMPRESA) REFERENCES EMPRESA (CODIGO);
ALTER TABLE ULT_LMC ADD CONSTRAINT FK_ULT_LMC FOREIGN KEY (LMC_CODIGO) REFERENCES LMC (CODIGO) ON DELETE CASCADE;
ALTER TABLE VALETROCO ADD CONSTRAINT FK_VALETROCO FOREIGN KEY (COD_VENDA) REFERENCES PEDIDOS (CODIGO) ON DELETE CASCADE;
ALTER TABLE VALE_TROCO_PAGTO ADD CONSTRAINT FK_VALE_TROCO_PAGTO FOREIGN KEY (COD_VALE) REFERENCES VALETROCO (CODIGO) ON DELETE CASCADE;
ALTER TABLE VEICULO ADD CONSTRAINT FK_VEICULO FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTES (CODIGO);


/******************************************************************************/
/***                                Indices                                 ***/
/******************************************************************************/

CREATE UNIQUE INDEX IDX_BAIRRO ON BAIRRO (COD_BAIRRO);
CREATE INDEX IDX_CHEQUES_EMITIDOS ON CHEQUES_EMITIDOS (PL_CONTA);
CREATE INDEX IDX_CIDADES ON CIDADES (COD_CIDADE);
CREATE INDEX IDX_CREDIARIO ON CREDIARIO (ID_CONTRATO);
CREATE INDEX IND_DATA ON CREDIARIO (DATA_VENCIMENTO);
CREATE INDEX IDX_ESTADOS ON ESTADOS (COD_ESTADO);
CREATE INDEX IDX_MOVIMENTO_DIARIO ON MOVIMENTO_DIARIO (DATA);
CREATE INDEX IDX_MOVIMENTO_DIARIO1 ON MOVIMENTO_DIARIO (VALOR_ENTRADA);
CREATE INDEX IDX_MOVIMENTO_DIARIO2 ON MOVIMENTO_DIARIO (VALOR_SAIDA);
CREATE INDEX IDX_MOVIMENTO_DIARIO3 ON MOVIMENTO_DIARIO (VALOR);
CREATE INDEX IDX_MOVIMENTO_DIARIO4 ON MOVIMENTO_DIARIO (TIPO_MOV);
CREATE INDEX IDX_MOVIMENTO_DIARIO5 ON MOVIMENTO_DIARIO (STATUS);
CREATE INDEX IDX_NFE_NOTA ON NFE_NOTA (N_SEQUENCIA);
CREATE INDEX IDX_ORCAMENTOS_ITENS ON ORCAMENTOS_ITENS (CODIGO_ID);
CREATE INDEX IDX_OS_BENS ON OS_BENS (ID_OS_EQUIPAMENTOS);
CREATE INDEX IDX_PEDIDOS ON PEDIDOS (CODIGO_CLIENTE);
CREATE INDEX IDX_PEDIDOS1 ON PEDIDOS (NUM_NOTA);
CREATE INDEX IDX_PEDIDOS2 ON PEDIDOS (DATA_PEDIDO);
CREATE INDEX IDX_PEDIDOS3 ON PEDIDOS (USUARIO);
CREATE INDEX IDX_PEDIDOS4 ON PEDIDOS (COD_VENDEDOR);
CREATE INDEX MESAKEY ON PEDIDOS (MESA);
CREATE INDEX IDX_PEDIDOS_ITENS ON PEDIDOS_ITENS (CODIGO_PRODUTO);
CREATE INDEX IDX_PEDIDOS_ITENS1 ON PEDIDOS_ITENS (VENDEDOR);
CREATE INDEX IDX_PEDIDOS_ITENS2 ON PEDIDOS_ITENS (COD_EMPRESA);
CREATE INDEX IDX_PEDIDOS_ITENS3 ON PEDIDOS_ITENS (ID_BICO);
CREATE INDEX IDX_PEDIDOS_ITENS4 ON PEDIDOS_ITENS (ID_TANQUE);
CREATE INDEX IDX_PEDIDOS_ITENS5 ON PEDIDOS_ITENS (ID_BOMBA);
CREATE INDEX IDX_PRODUTOS ON PRODUTOS (DESCRICAO);
CREATE INDEX IDX_PRODUTOS1 ON PRODUTOS (REFERENCIA);
CREATE INDEX IDX_PRODUTOS_ESTOQUES_LOG ON PRODUTOS_ESTOQUES_LOG (ID_AJUSTE);
CREATE INDEX IDX_PRODUTOS_ESTOQUES_LOG1 ON PRODUTOS_ESTOQUES_LOG (DATA, ID_PRODUTO);
CREATE INDEX IDX_PRODUTOS_SERIAL ON PRODUTOS_SERIAL (CODPRODUTO);
CREATE INDEX IDX_PRODUTO_PRECOS ON PRODUTO_PRECOS (CODPRODUTO);


/******************************************************************************/
/***                                Triggers                                ***/
/******************************************************************************/


SET TERM ^ ;



/******************************************************************************/
/***                          Triggers for tables                           ***/
/******************************************************************************/



/* Trigger: AI_PRODUTOS_FALTA_ */
CREATE TRIGGER AI_PRODUTOS_FALTA_ FOR PRODUTOS_FALTA
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(codigo_seq)  from
 produtos_falta  where produtos_falta.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.codigo_seq = cod + 1;
 end
^

/* Trigger: ATUALIZA_ESTOQUE_BAR */
CREATE TRIGGER ATUALIZA_ESTOQUE_BAR FOR BAR
ACTIVE AFTER UPDATE POSITION 1
AS
  DECLARE VARIABLE VL_LOCAL INTEGER;
  BEGIN
     /* BUSCA O LOCAL DO ESTOQUE */
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM CONFIGURACOES P
     WHERE P.COD_EMPRESA = NEW.BAR_EMPRESA
     INTO :VL_LOCAL;
        BEGIN
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.BAR_EMPRESA, OLD.bar_codproduto, OLD.BAR_quantidade, OLD.BAR_FRACAO, :VL_LOCAL);
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(NEW.BAR_empresa, NEW.bar_codproduto, (NEW.BAR_QUANTIDADE * -1), OLD.BAR_FRACAO, :VL_LOCAL);
        END
 END
^

/* Trigger: BAIXA_ESTOQUE_BAR */
CREATE TRIGGER BAIXA_ESTOQUE_BAR FOR BAR
ACTIVE AFTER INSERT POSITION 0
AS
  DECLARE VARIABLE VL_LOCAL INTEGER;
  BEGIN
     /* BUSCA O LOCAL DO ESTOQUE */
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM configuracoes P
     WHERE P.COD_EMPRESA = NEW.BAR_EMPRESA
     INTO :VL_LOCAL;
       BEGIN
           EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(NEW.BAR_EMPRESA, NEW.BAR_CODPRODUTO, (NEW.BAR_QUANTIDADE * -1), NEW.BAR_FRACAO, :VL_LOCAL);
        END
  END
^

/* Trigger: BENS_BI */
CREATE TRIGGER BENS_BI FOR BENS
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(codigo)  from
 BENS  where BENS.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.codigo = cod + 1;
 end
^

/* Trigger: BENS_UTILIZACAO_SEQ */
CREATE TRIGGER BENS_UTILIZACAO_SEQ FOR BENS_UTILIZACAO
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(SEQUENCIA)  from
 BENS_UTILIZACAO  where BENS_UTILIZACAO.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.SEQUENCIA = cod + 1;
 end
^

/* Trigger: BICOENC_BI */
CREATE TRIGGER BICOENC_BI FOR BICOENC
ACTIVE BEFORE INSERT POSITION 0
AS
begin
new.cod_bicoenc=gen_id(codigo_bicoenc, 1);
end
^

/* Trigger: BICOENC_TEMP_BI */
CREATE TRIGGER BICOENC_TEMP_BI FOR BICOENC_TEMP
ACTIVE BEFORE INSERT POSITION 0
AS
begin
new.cod_bicoenc_TEMP=gen_id(codigo_bicoenc_TEMP, 1);
end
^

/* Trigger: CENTRO_CUSTO_BI1 */
CREATE TRIGGER CENTRO_CUSTO_BI1 FOR CENTRO_CUSTO
ACTIVE BEFORE INSERT POSITION 1
AS declare variable cod integer;
begin
select max(COD_CENTRO)  from
 CENTRO_CUSTO where CENTRO_CUSTO.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.COD_CENTRO = cod + 1;
 end
^

/* Trigger: CLIENTES_CODIGO */
CREATE TRIGGER CLIENTES_CODIGO FOR CLIENTES
INACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(codigo)  from
 CLIENTES  where CLIENTES.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.codigo = cod + 1;
 end
^

/* Trigger: CLIENTES_CONTATO_BI */
CREATE TRIGGER CLIENTES_CONTATO_BI FOR CLIENTES_CONTATO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_clientes_contato_id,1);
end
^

/* Trigger: CLIENTES_DOCUMENT_BI */
CREATE TRIGGER CLIENTES_DOCUMENT_BI FOR CLIENTES_DOCUMENT
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_clientes_document_id,1);
end
^

/* Trigger: CLIENTES_PROFISSAO_BI */
CREATE TRIGGER CLIENTES_PROFISSAO_BI FOR CLIENTES_PROFISSAO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_clientes_profissao_id,1);
end
^

/* Trigger: CLIENTES_REFERENCIA_BI */
CREATE TRIGGER CLIENTES_REFERENCIA_BI FOR CLIENTES_REFERENCIA
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_clientes_referencia_id,1);
end
^

/* Trigger: COD_BAIRROS */
CREATE TRIGGER COD_BAIRROS FOR BAIRRO
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(cod_bairro)  from
 bairro  where bairro.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.cod_bairro = cod + 1;
 end
^

/* Trigger: COD_CONTRATO */
CREATE TRIGGER COD_CONTRATO FOR CONTRATO
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(codigo)  from
 contrato  where contrato.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.codigo = cod + 1;
 end
^

/* Trigger: CONTABILIDADE_BI */
CREATE TRIGGER CONTABILIDADE_BI FOR CONTABILIDADE
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_contabilidade_id,1);
end
^

/* Trigger: CONTAS_APAGAR_PAGO_BI */
CREATE TRIGGER CONTAS_APAGAR_PAGO_BI FOR CONTAS_APAGAR_PAGO
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
new.SEQ=gen_id(COD_PAGARPAGO, 1);
  
  
END
^

/* Trigger: CONTAS_PAGAR_BI */
CREATE TRIGGER CONTAS_PAGAR_BI FOR CONTAS_PAGAR
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.CODIGO_GERA=gen_id(CODIGO_CONTAS_PAGAR, 1);
end
^

/* Trigger: CONTA_CLIENTE_UP_COZINHA */
CREATE TRIGGER CONTA_CLIENTE_UP_COZINHA FOR CONTA_CLIENTE
ACTIVE AFTER UPDATE POSITION 0
AS
begin
  /* Trigger text */
  if ( ( old.HORA_FECHAMENTO is null ) and ( new.HORA_FECHAMENTO is not null ) ) then
      UPDATE COZINHA C SET C.hora_entregue=current_time WHERE CODIGO = new.codigo;
end
^

/* Trigger: CREDIARIO_BI */
CREATE TRIGGER CREDIARIO_BI FOR CREDIARIO
ACTIVE BEFORE INSERT POSITION 1
AS declare variable cod integer;
begin
select max(Numboleto1)  from
 Crediario  where Crediario.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.Numboleto1 = cod + 1;
 end
^

/* Trigger: CREDIARIO_RECEBIDO_BI */
CREATE TRIGGER CREDIARIO_RECEBIDO_BI FOR CREDIARIO_RECEBIDO
ACTIVE BEFORE INSERT POSITION 0
AS
begin
new.CODIGO=gen_id(CODIGO_CREDIARIO_RECEBIDO, 1);
end
^

/* Trigger: CREDIARIO_RECEBIDO_BU */
CREATE TRIGGER CREDIARIO_RECEBIDO_BU FOR CREDIARIO_RECEBIDO
ACTIVE AFTER DELETE POSITION 0
AS
   declare variable S integer;
begin

  /* Trigger text */
  select count(*) from crediario_recebido where DOC_REC_ADM=old.DOC_REC_ADM into S;
  if ( S < 1 ) then
     begin
          delete FROM contas_receber_adm_cartao  where DOC_REC_ADM = old.DOC_REC_ADM;
     end
end
^

/* Trigger: CUPOM_ITEM_BI */
CREATE TRIGGER CUPOM_ITEM_BI FOR CUPOM_ITEM
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(SEQ)  from
cupom_item  into :cod;  if (cod is null) then cod = 0;
 new.seq = cod + 1;
 end
^

/* Trigger: DELETA_ESTOQUE_BAR */
CREATE TRIGGER DELETA_ESTOQUE_BAR FOR BAR
ACTIVE AFTER DELETE POSITION 2
AS
  DECLARE VARIABLE VL_LOCAL INTEGER;
  BEGIN
     /* BUSCA O LOCAL DO ESTOQUE */
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM CONFIGURACOES P
     WHERE P.COD_EMPRESA = OLD.BAR_EMPRESA
     INTO :VL_LOCAL;
     /*IF (OLD.DEV = '' AND OLD.qnt_dev = '') THEN*/
        EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.BAR_EMPRESA, OLD.bar_codproduto, OLD.BAR_QUANTIDADE, OLD.BAR_fracao, :VL_LOCAL);
  END
^

/* Trigger: ESTADOS_CODIGO */
CREATE TRIGGER ESTADOS_CODIGO FOR ESTADOS
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(cod_estado)  from
 estados  where estados.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.cod_estado = cod + 1;
 end
^

/* Trigger: FORNECEDORES_BI */
CREATE TRIGGER FORNECEDORES_BI FOR FORNECEDORES
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(codigo)  from
 FORNECEDORES  where FORNECEDORES.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.codigo = cod + 1;
 end
^

/* Trigger: FUNCIONARIO_PAGO_BI */
CREATE TRIGGER FUNCIONARIO_PAGO_BI FOR FUNCIONARIO_PAGO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_funcionario_pago_id,1);
end
^

/* Trigger: FUNCIONARIO_VALE_BI */
CREATE TRIGGER FUNCIONARIO_VALE_BI FOR FUNCIONARIO_VALE
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_funcionario_vale_id,1);
end
^

/* Trigger: GRUPO_TRIBUTACAO_BI */
CREATE TRIGGER GRUPO_TRIBUTACAO_BI FOR GRUPO_TRIBUTACAO
INACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(cod_grupo)  from
 GRUPO_TRIBUTACAO  into :cod;  if (cod is null) then cod = 0;
 new.cod_grupo = cod + 1;
 end
^

/* Trigger: GT_ATUALIZA_EST_PEDIDOS_ITENS */
CREATE TRIGGER GT_ATUALIZA_EST_PEDIDOS_ITENS FOR PEDIDOS_ITENS
ACTIVE AFTER INSERT POSITION 0
AS
  DECLARE VARIABLE VL_LOCAL INTEGER;
  BEGIN
     /* BUSCA O LOCAL DO ESTOQUE */
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM configuracoes P
     WHERE P.COD_EMPRESA = NEW.COD_EMPRESA
     INTO :VL_LOCAL;
       BEGIN
           EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(NEW.COD_EMPRESA, NEW.CODIGO_PROD, (NEW.QUANTIDADE * -1), NEW.FRACAO, :VL_LOCAL);
        END
  END
^

/* Trigger: GT_DELETE_ESTQ_PEDIDOS_ITENS */
CREATE TRIGGER GT_DELETE_ESTQ_PEDIDOS_ITENS FOR PEDIDOS_ITENS
ACTIVE AFTER DELETE POSITION 2
AS
  DECLARE VARIABLE VL_LOCAL INTEGER;
  BEGIN
     /* BUSCA O LOCAL DO ESTOQUE */
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM CONFIGURACOES P
     WHERE P.COD_EMPRESA = OLD.COD_EMPRESA
     INTO :VL_LOCAL;
     /*IF (OLD.DEV = '' AND OLD.qnt_dev = '') THEN*/
        EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.COD_EMPRESA, OLD.CODIGO_PROD, OLD.QUANTIDADE, OLD.fracao, :VL_LOCAL);
  END
^

/* Trigger: GT_DEL_CREDIARIO */
CREATE TRIGGER GT_DEL_CREDIARIO FOR PEDIDOS
ACTIVE AFTER DELETE POSITION 0
AS
BEGIN
  DELETE FROM CREDIARIO WHERE CODIGO_COMPRA = OLD.CODIGO;
END
^

/* Trigger: GT_ITENS_ACERTO_ESTO_I */
CREATE TRIGGER GT_ITENS_ACERTO_ESTO_I FOR ITENS_ACERTO_ESTOQUE
ACTIVE AFTER INSERT POSITION 0
AS
  DECLARE VARIABLE VL_ENTSAI CHAR(1);
  BEGIN
     /* VERIFICA SE ENTRA OU SAI DO ESTOQUE */
     SELECT ENTSAI_MOT FROM MOTIVO_ACERTO WHERE MOTIVO_ACERTO.COD_MOT = NEW.COD_MOT
     INTO :VL_ENTSAI;
     IF (:VL_ENTSAI = 'S') THEN
        EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(NEW.COD_EMP, NEW.COD_PRO,
        (NEW.QUANT * -1), NEW.FRACAO, NEW.CODIGO_LOCAL_ESTOQUE);
     ELSE
        EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(NEW.COD_EMP, NEW.COD_PRO,
        NEW.QUANT, NEW.FRACAO, NEW.CODIGO_LOCAL_ESTOQUE);
 END
^

/* Trigger: GT_NOTASFISCAIS_ITENS_ATU */
CREATE TRIGGER GT_NOTASFISCAIS_ITENS_ATU FOR NOTASFISCAIS_ITENS
INACTIVE AFTER UPDATE POSITION 1
AS
 DECLARE VARIABLE VL_ATUALIZACUSTO   CHAR(1);
 DECLARE VARIABLE VL_ATUALIZAESTOQUE CHAR(1);
 DECLARE VARIABLE VL_ATUALIZAESTOQUEOLD CHAR(1);
 DECLARE VARIABLE VL_LOCAL INTEGER;
 BEGIN
    /***** TRATA O NOVO PRODUTO ******/
    /***** VERIFICA SE ATUALIZA O CUSTO DO NOVO PRODUTO ******/
   /* SELECT T.ATUALIZA_CUSTO_ENTRADAS, T.CONTROLA_ESTOQUE
    FROM ENTRADAS E
    INNER JOIN TIPO_ES T
    ON (E.CODIGO_ES = T.COD_ES)
    WHERE E.COD_ENT = NEW.COD_ENT
    INTO :VL_ATUALIZACUSTO, :VL_ATUALIZAESTOQUE;
    /******* ATUALIZA O CUSTO NOVO PRODUTO *********/
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM configuracoes P
     WHERE P.COD_EMPRESA = NEW.COD_EMPRESA
     INTO :VL_LOCAL;

    /*IF (VL_ATUALIZACUSTO = 'S') THEN*/
        BEGIN
          UPDATE PRODUTOS SET PRECO_CUSTO = NEW.valor_uni, ICMS = (NEW.VALOR_ICMS / NEW.quantidade)
          WHERE PRODUTOS.CODIGO = NEW.CODIGO_PRODUTO;
       END
    /*********  ATUALIZA O ESTOQUE  *********/
    /*IF (VL_ATUALIZAESTOQUE = 'S') THEN */
       BEGIN
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(NEW.cod_empresa, NEW.CODIGO_PRODUTO, NEW.QUANTIDADE, NEW.FRACAO, :VL_LOCAL);
       END
    /****** TRATA O PRODUTO VELHO *******/
   /* EXECUTE PROCEDURE SP_ATUALIZA_ULTIMO_CUSTO(OLD.COD_PRO);
    SELECT T.CONTROLA_ESTOQUE
    FROM ENTRADAS E
    INNER JOIN TIPO_ES T
    ON (E.CODIGO_ES = T.COD_ES)
    WHERE E.COD_ENT = OLD.COD_ENT
    INTO :VL_ATUALIZAESTOQUEOLD;
    IF (VL_ATUALIZAESTOQUEOLD = 'S') THEN*/
       BEGIN
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.COD_EMPRESA, OLD.CODIGO_PRODUTO, (OLD.QUANTIDADE * -1), OLD.FRACAO, :Vl_LOCAL);
       END
 END
^

/* Trigger: GT_NOTASFISCAIS_ITENS_DEL */
CREATE TRIGGER GT_NOTASFISCAIS_ITENS_DEL FOR NOTASFISCAIS_ITENS
INACTIVE AFTER DELETE POSITION 2
AS
 DECLARE VARIABLE VL_ATUALIZAESTOQUE CHAR(1);
  DECLARE VARIABLE VL_LOCAL INTEGER;
 BEGIN

     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM configuracoes P
     WHERE P.COD_EMPRESA = OLD.COD_EMPRESA
     INTO :VL_LOCAL;

   /* SELECT T.CONTROLA_ESTOQUE
    FROM ENTRADAS E
    INNER JOIN TIPO_ES T
    ON (E.CODIGO_ES = T.COD_ES)
    WHERE E.COD_ENT = OLD.COD_ENT
    INTO :VL_ATUALIZAESTOQUE;
    IF (VL_ATUALIZAESTOQUE = 'S') THEN*/
       BEGIN
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.COD_EMPRESA, OLD.CODIGO_PRODUTO, ((OLD.QUANTIDADE *  OLD.FRACAO) * -1), OLD.FRACAO, :VL_LOCAL);
       END
    /*EXECUTE PROCEDURE SP_ATUALIZA_ULTIMO_CUSTO(OLD.COD_PRO);*/
 END
^

/* Trigger: GT_NOTAS_FISCAIS_ITENS_INS */
CREATE TRIGGER GT_NOTAS_FISCAIS_ITENS_INS FOR NOTASFISCAIS_ITENS
INACTIVE AFTER INSERT POSITION 0
AS
 DECLARE VARIABLE VL_ATUALIZACUSTO   CHAR(1);
 DECLARE VARIABLE VL_ATUALIZAESTOQUE CHAR(1);
 DECLARE VARIABLE VL_LOCAL INTEGER;
 BEGIN
    /***** VERIFICA SE ATUALIZA O CUSTO/ESTOQUE ******/
   /* SELECT T.ATUALIZA_CUSTO_ENTRADAS, T.CONTROLA_ESTOQUE
    FROM ENTRADAS E
    INNER JOIN TIPO_ES T
    ON (E.CODIGO_ES = T.COD_ES)
    WHERE E.COD_ENT = NEW.COD_ENT
    INTO :VL_ATUALIZACUSTO, :VL_ATUALIZAESTOQUE;
    /***** ATUALIZA O CUSTO ******/
  /*  IF (VL_ATUALIZACUSTO = 'S') THEN*/

      /* BUSCA O LOCAL DO ESTOQUE */
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM configuracoes P
     WHERE P.COD_EMPRESA = NEW.COD_EMPRESA
     INTO :VL_LOCAL;
        BEGIN
          UPDATE PRODUTOS SET PRECO_CUSTO = NEW.VALOR_UNI, ICMS = (NEW.VALOR_ICMS / NEW.QUANTIDADE)
          WHERE PRODUTOS.CODIGO = NEW.CODIGO_PRODUTO;
       END
    /*********  ATUALIZA O ESTOQUE  *********/
   /* IF (VL_ATUALIZAESTOQUE = 'S') THEN */
       BEGIN
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(NEW.COD_EMPRESA, NEW.CODIGO_PRODUTO, (NEW.QUANTIDADE * NEW.fracao) , NEW.fracao, :VL_LOCAL);
       END
 END
^

/* Trigger: GT_UPDATE_EST_PEDIDOS_ITENS */
CREATE TRIGGER GT_UPDATE_EST_PEDIDOS_ITENS FOR PEDIDOS_ITENS
ACTIVE AFTER UPDATE POSITION 1
AS
  DECLARE VARIABLE VL_LOCAL INTEGER;
  BEGIN
     /* BUSCA O LOCAL DO ESTOQUE */
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM CONFIGURACOES P
     WHERE P.COD_EMPRESA = NEW.COD_EMPRESA
     INTO :VL_LOCAL;
     IF ((OLD.dev = '' AND OLD.QNT_DEV = '') AND (NEW.DEV = '' AND NEW.QNT_DEV = '')) THEN
        BEGIN
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.COD_EMPRESA, OLD.codigo_prod, OLD.quantidade, OLD.FRACAO, :VL_LOCAL);
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(NEW.cod_empresa, NEW.CODIGO_PROD, (NEW.QUANTIDADE * -1), OLD.FRACAO, :VL_LOCAL);
        END
     IF ((OLD.DEV = '' AND OLD.qnt_dev = '') AND (NEW.DEV = 'T' or NEW.DEV = 'P' OR NEW.QNT_DEV > 0)) THEN
        BEGIN
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.COD_EMPRESA, OLD.CODIGO_PROD, OLD.QUANTIDADE, OLD.FRACAO, :VL_LOCAL);
        END
  END
^

/* Trigger: INSCODITENS_NOTA */
CREATE TRIGGER INSCODITENS_NOTA FOR NOTASFISCAIS_ITENS
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.CODIGO_ITEM=gen_id(CODIGO_NOTASFISCAIS_ITENS, 1);
end
^

/* Trigger: INSCOD_CHEQUES */
CREATE TRIGGER INSCOD_CHEQUES FOR CHEQUES
ACTIVE BEFORE INSERT POSITION 0
AS
begin
new.CODIGO=gen_id(CODIGO_CHEQUES, 1);
end
^

/* Trigger: INSCOD_CREDIARIO */
CREATE TRIGGER INSCOD_CREDIARIO FOR CREDIARIO
ACTIVE BEFORE INSERT POSITION 0
AS
begin
new.CODIGO=gen_id(CODIGO_CREDIARIO, 1);
end
^

/* Trigger: INSCOD_EST_COM_RET_PEDIDOS */
CREATE TRIGGER INSCOD_EST_COM_RET_PEDIDOS FOR EST_COM_RET_PEDIDOS
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.CODIGO=gen_id(CODIGO_EST_COM_RET_PEDIDOS, 1);
end
^

/* Trigger: INSCOD_MOVIMENTO_DIARIO */
CREATE TRIGGER INSCOD_MOVIMENTO_DIARIO FOR MOVIMENTO_DIARIO
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.CODIGO=gen_id(CODIGO_MOVIMENTO_DIARIO, 1);
end
^

/* Trigger: INSCOD_ORCAMENTO_ITENS */
CREATE TRIGGER INSCOD_ORCAMENTO_ITENS FOR ORCAMENTOS_ITENS
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.CODIGO=gen_id(CODIGO_ORCAMENTO_ITENS, 1);
end
^

/* Trigger: INSCOD_PAG_RET_PEDIDOS */
CREATE TRIGGER INSCOD_PAG_RET_PEDIDOS FOR PAG_RET_PEDIDOS
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.CODIGO=gen_id(CODIGO_PAG_RET_PEDIDOS, 1);
end
^

/* Trigger: INSCOD_PEDIDOS_ITENS */
CREATE TRIGGER INSCOD_PEDIDOS_ITENS FOR PEDIDOS_ITENS
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.CODIGO=gen_id(CODIGO_PEDIDOS_ITENS, 1);
end
^

/* Trigger: INSERCOD_CODIGO_AGREG */
CREATE TRIGGER INSERCOD_CODIGO_AGREG FOR AGREGADOS
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
      NEW.CODIGO_AGREG = GEN_ID(INSERT_CODIGO_AGREG, 1);
END
^

/* Trigger: INSERE_COD_CIDADES */
CREATE TRIGGER INSERE_COD_CIDADES FOR CIDADES
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(cod_Cidade)  from
 CIDADES  where Cidades.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.cod_cidade = cod + 1;
 end
^

/* Trigger: INSERE_COD_PRODUTOS */
CREATE TRIGGER INSERE_COD_PRODUTOS FOR PRODUTOS
INACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(codigo)  from
produtos  where produtos.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.codigo = cod + 1;
 end
^

/* Trigger: INSERT_CODIGO_OS_ORDEMSERVICO */
CREATE TRIGGER INSERT_CODIGO_OS_ORDEMSERVICO FOR OS_ORDEMSERVICO
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   IF (NEW.ID_OS_ORDEMSERVICO IS NULL) THEN
      NEW.ID_OS_ORDEMSERVICO = GEN_ID(INSERT_COD_OS_ORDEMSERVICO, 1);
END
^

/* Trigger: INSERT_COD_BOLETO */
CREATE TRIGGER INSERT_COD_BOLETO FOR BOLETO
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(codigo_boleto)  from
 boleto  where boleto.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.codigo_boleto = cod + 1;
 end
^

/* Trigger: ITENS_ACERTO_ESTOQUE_AU */
CREATE TRIGGER ITENS_ACERTO_ESTOQUE_AU FOR ITENS_ACERTO_ESTOQUE
ACTIVE AFTER DELETE POSITION 0
AS
  DECLARE VARIABLE VL_ENTSAI CHAR(1);
  BEGIN
     /* VERIFICA SE ENTRA OU SAI DO ESTOQUE */
     SELECT ENTSAI_MOT FROM MOTIVO_ACERTO WHERE MOTIVO_ACERTO.COD_MOT = OLD.COD_MOT
     INTO :VL_ENTSAI;
     IF (:VL_ENTSAI = 'S') THEN
        EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.COD_EMP, OLD.COD_PRO,
        OLD.QUANT, OLD.FRACAO, OLD.CODIGO_LOCAL_ESTOQUE);
     ELSE
        EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.COD_EMP, OLD.COD_PRO,
        (OLD.QUANT * -1), OLD.FRACAO, OLD.CODIGO_LOCAL_ESTOQUE);
 END
^

/* Trigger: ITENS_COMPOSICAO_BI */
CREATE TRIGGER ITENS_COMPOSICAO_BI FOR ITENS_COMPOSICAO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_itens_composicao_id,1);
end
^

/* Trigger: ITENS_COMPOSTO_BI */
CREATE TRIGGER ITENS_COMPOSTO_BI FOR ITENS_COMPOSTO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_itens_composto_id,1);
end
^

/* Trigger: ITENS_CONTA_CLIENTE_BI */
CREATE TRIGGER ITENS_CONTA_CLIENTE_BI FOR ITENS_CONTA_CLIENTE
ACTIVE BEFORE INSERT OR UPDATE OR DELETE POSITION 10
AS
declare variable COZ char(1);
declare variable COP char(1);
begin
  /* Trigger text */
  if ( (inserting) or (updating) ) then
     begin
        select p.alerta_copa, p.alerta_cozinha from produtos p where p.codigo=new.cod_pro into
        :cop, :coz;
        if ( ( ( :cop='S' ) or ( :coz ='S' ) )  ) then
           begin
                    if ( exists( select * from COZINHA where COD_EMP=new.cod_emp and
                    CODIGO=new.codigo and ORDEM=new.ordem ) ) then
                       begin
                          update COZINHA SET COD_PRO=new.cod_pro, COD_VEND=new.cod_vend,
                            QUANT=new.quant, CANCELADO=new.cancelado, observacao=new.observacao,
                            cozinha =:coz, copa=:cop, PEDIDO_NUMERO=new.pedido_numero,
                            PEDIDO_DATA_HORA=new.pedido_data_hora,
                            PEDIDO_FECHADO=new.pedido_fechado
                            where COD_EMP=new.cod_emp and
                            CODIGO=new.codigo and ORDEM=new.ordem;
                       end
                    else
                       begin
                          INSERT INTO COZINHA( CODIGO, ordem,  COD_PRO, COD_VEND,
                          QUANT, CANCELADO, OBSERVACAO, COD_EMP, HORA_PEDIDO, COZINHA, COPA,
                           PEDIDO_NUMERO, PEDIDO_DATA_HORA, PEDIDO_FECHADO) VALUES(
                          new.codigo, new.ordem, new.cod_pro, new.cod_vend,
                          new.quant,  new.cancelado, new.observacao, new.cod_emp, current_time, :coz,  :cop,
                          new.pedido_numero, new.pedido_data_hora, new.pedido_fechado );
                       end
           end
     end
   if (  deleting ) then
      begin
         delete from cozinha where COD_EMP=old.cod_emp and
        CODIGO=old.codigo and ORDEM=new.ordem;
      end
end
^

/* Trigger: LANVANDERIA_BAIXA_EST */
CREATE TRIGGER LANVANDERIA_BAIXA_EST FOR LAVANDERIA
ACTIVE AFTER INSERT POSITION 0
AS
  DECLARE VARIABLE VL_LOCAL INTEGER;
  BEGIN
     /* BUSCA O LOCAL DO ESTOQUE */
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM configuracoes P
     WHERE P.COD_EMPRESA = NEW.LAV_EMPRESA
     INTO :VL_LOCAL;
       BEGIN
           EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(NEW.LAV_EMPRESA, NEW.LAV_CODPRODUTO, (NEW.LAV_QUANTIDADE * -1), NEW.LAV_FRACAO, :VL_LOCAL);
        END
  END
^

/* Trigger: LATICINIO_BI */
CREATE TRIGGER LATICINIO_BI FOR LATICINIO
INACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(codigo)  from
 LATICINIO  where LATICINIO.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.codigo = cod + 1;
 end
^

/* Trigger: LAVANDERIA_ATUALIZA */
CREATE TRIGGER LAVANDERIA_ATUALIZA FOR LAVANDERIA
ACTIVE AFTER UPDATE POSITION 1
AS
  DECLARE VARIABLE VL_LOCAL INTEGER;
  BEGIN
     /* BUSCA O LOCAL DO ESTOQUE */
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM CONFIGURACOES P
     WHERE P.COD_EMPRESA = NEW.LAV_EMPRESA
     INTO :VL_LOCAL;
        BEGIN
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.LAV_EMPRESA, OLD.LAV_codproduto, OLD.LAV_quantidade, OLD.LAV_FRACAO, :VL_LOCAL);
          EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(NEW.LAV_empresa, NEW.LAV_codproduto, (NEW.LAV_QUANTIDADE * -1), OLD.LAV_FRACAO, :VL_LOCAL);
        END
 END
^

/* Trigger: LAVANDERIA_CODIGO */
CREATE TRIGGER LAVANDERIA_CODIGO FOR LAVANDERIA
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(LAV_CONTROLE)  from
LAVANDERIA  where LAVANDERIA.LAV_empresa = new.LAV_empresa into :cod;  if (cod is null) then cod = 0;
 new.LAV_CONTROLE = cod + 1;
 end
^

/* Trigger: LAVANDERIA_EXCLUIR */
CREATE TRIGGER LAVANDERIA_EXCLUIR FOR LAVANDERIA
ACTIVE AFTER DELETE POSITION 2
AS
  DECLARE VARIABLE VL_LOCAL INTEGER;
  BEGIN
     /* BUSCA O LOCAL DO ESTOQUE */
     SELECT P.CODIGO_LOCAL_ESTOQUE_VENDAS
     FROM CONFIGURACOES P
     WHERE P.COD_EMPRESA = OLD.LAV_EMPRESA
     INTO :VL_LOCAL;
     /*IF (OLD.DEV = '' AND OLD.qnt_dev = '') THEN*/
        EXECUTE PROCEDURE SP_ATUALIZA_ESTOQUE(OLD.LAV_EMPRESA, OLD.LAV_codproduto, OLD.LAV_QUANTIDADE, OLD.LAV_fracao, :VL_LOCAL);
  END
^

/* Trigger: MD_BAIXA_PLAQUETA_BI */
CREATE TRIGGER MD_BAIXA_PLAQUETA_BI FOR MD_BAIXA_PLAQUETA
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_md_baixa_plaqueta_id,1);
end
^

/* Trigger: MD_ENTRADA_TORAS_BI */
CREATE TRIGGER MD_ENTRADA_TORAS_BI FOR MD_ENTRADA_TORAS
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_md_entrada_toras_id,1);
end
^

/* Trigger: MD_PATIO_BI */
CREATE TRIGGER MD_PATIO_BI FOR MD_PATIO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_md_patio_id,1);
end
^

/* Trigger: MD_TORAS_ENTRADAS_BI */
CREATE TRIGGER MD_TORAS_ENTRADAS_BI FOR MD_TORAS_ENTRADAS
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_md_toras_entradas_id,1);
end
^

/* Trigger: MOVIMENTACAO_COMBUSTIVEL_BI */
CREATE TRIGGER MOVIMENTACAO_COMBUSTIVEL_BI FOR MOVIMENTACAO_COMBUSTIVEL
ACTIVE BEFORE INSERT POSITION 1
as
begin
     new.CODIGO=gen_id(CODIGO_MOV_COMB, 1);
end
^

/* Trigger: MOV_COMB_AFT_DEL */
CREATE TRIGGER MOV_COMB_AFT_DEL FOR MOVIMENTACAO_COMBUSTIVEL
ACTIVE BEFORE DELETE POSITION 0
AS
 BEGIN
    if (old.lancado = 1) then
    BEGIN
      if (old.movimento in (1, 13, 16)) then
      BEGIN
        UPDATE tanque SET
            vlr_ent = vlr_ent - old.movimento_estoque,
            est_atu = est_atu - old.movimento_estoque,
            litros_atual = litros_atual - old.movimento_estoque
        WHERE id_tanque = old.tan_num_fis;
      END
      else
      if (old.movimento in (2, 5, 9, 11, 12, 14)) then
      BEGIN
        UPDATE tanque SET
            vlr_sai = vlr_sai - old.movimento_estoque,
            est_atu =  est_atu + old.movimento_estoque,
            litros_atual = litros_atual + old.movimento_estoque
        WHERE id_tanque = old.tan_num_fis;
      END
    END
 END
^

/* Trigger: MOV_COMB_AFT_INS */
CREATE TRIGGER MOV_COMB_AFT_INS FOR MOVIMENTACAO_COMBUSTIVEL
ACTIVE AFTER INSERT POSITION 0
AS
 BEGIN
    if (new.movimento in (1, 13, 16)) then
      UPDATE tanque SET
          vlr_ent = vlr_ent + new.movimento_estoque,
          est_atu = est_ini + new.movimento_estoque - vlr_sai,
          litros_atual = litros_atual + new.movimento_estoque,
          dat_ult_ent = new.data,
          num_nf = new.cod_nota_ent
      WHERE id_tanque = new.tan_num_fis;
    else
    if (new.movimento in (2, 5, 9, 11, 12, 14)) then
      UPDATE tanque SET
          vlr_sai = vlr_sai + (new.movimento_estoque),
          est_atu = est_atu - new.movimento_estoque,
          litros_atual = litros_atual - new.movimento_estoque,
          dat_ult_sai = new.data
      WHERE id_tanque = new.tan_num_fis;
 END
^

/* Trigger: MOV_COMB_AFT_UPD */
CREATE TRIGGER MOV_COMB_AFT_UPD FOR MOVIMENTACAO_COMBUSTIVEL
ACTIVE AFTER UPDATE POSITION 0
AS
 BEGIN
    IF (OLD.lancado = 1) THEN
    BEGIN
      if (new.movimento in (1, 13, 16)) then
      BEGIN
        UPDATE tanque SET
            vlr_ent = vlr_ent + NEW.movimento_estoque - OLD.movimento_estoque,
            est_atu = est_ini + vlr_ent - vlr_sai,
            litros_atual = litros_atual + NEW.movimento_estoque - OLD.movimento_estoque
        WHERE id_tanque = NEW.tan_num_fis;
      END
      ELSE
      if (new.movimento in (2, 5, 9, 11, 12, 14)) then
      BEGIN
        UPDATE tanque SET
            vlr_sai = vlr_sai - (OLD.movimento_estoque * (-1)) + NEW.movimento_estoque,
            est_atu = est_ini + vlr_ent - vlr_sai,
            litros_atual = litros_atual - (NEW.movimento_estoque - OLD.movimento_estoque)
        WHERE id_tanque = NEW.tan_num_fis;
      END
    END
 END
^

/* Trigger: MOV_COMB_BEF_INS */
CREATE TRIGGER MOV_COMB_BEF_INS FOR MOVIMENTACAO_COMBUSTIVEL
ACTIVE BEFORE INSERT POSITION 0
AS
 BEGIN
  if (new.movimento_estoque IS null) then
  BEGIN
    if (new.movimento IS null) then
      new.movimento = 0;
    if (NEW.movimento in (0,10)) then
      NEW.movimento_estoque = NEW.qtde;
    if (NEW.movimento in (1,3,7,8,12,13,16,21)) then
      new.movimento_estoque = NEW.qtde;
    if (NEW.movimento in (2,4,5,6,9,11,14,15,17,18,19,20)) then
      new.movimento_estoque = NEW.qtde * (-1);
  END
 END
^

/* Trigger: MOV_COMB_BEF_UPD */
CREATE TRIGGER MOV_COMB_BEF_UPD FOR MOVIMENTACAO_COMBUSTIVEL
ACTIVE BEFORE UPDATE POSITION 0
AS
 BEGIN
    if (new.movimento_estoque IS null) then
    BEGIN
      new.movimento = 0;
      if (new.movimento in (0, 10)) then
        new.movimento_estoque = new.qtde;
      if (new.movimento in (1, 3, 7, 8, 12, 13, 14, 16)) then
        new.movimento_estoque = new.qtde;
      if (new.movimento in (2, 4, 5, 6, 9, 11, 15, 17, 18, 19, 20)) then
        new.movimento_estoque = new.qtde * (-1);
    END
  END
^

/* Trigger: MV_CT_IMOVEL_ALUGUEL_AI0 */
CREATE TRIGGER MV_CT_IMOVEL_ALUGUEL_AI0 FOR MV_CT_IMOVEL_ALUGUEL
ACTIVE AFTER INSERT POSITION 0
AS
begin
  Update produtos_imovel set situacao = 'ALUGADO' where id = new.id_imovel;
end
^

/* Trigger: MV_CT_IMOVEL_ALUGUEL_BD0 */
CREATE TRIGGER MV_CT_IMOVEL_ALUGUEL_BD0 FOR MV_CT_IMOVEL_ALUGUEL
ACTIVE BEFORE DELETE POSITION 0
AS
begin
  Update produtos_imovel set situacao = 'ALUGAR' where id = old.id_imovel;
end
^

/* Trigger: MV_CT_IMOVEL_ALUGUEL_BI */
CREATE TRIGGER MV_CT_IMOVEL_ALUGUEL_BI FOR MV_CT_IMOVEL_ALUGUEL
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_mv_ct_imovel_aluguel_id,1);
end
^

/* Trigger: MV_CT_IMOVEL_ALUGUEL_BU0 */
CREATE TRIGGER MV_CT_IMOVEL_ALUGUEL_BU0 FOR MV_CT_IMOVEL_ALUGUEL
ACTIVE BEFORE UPDATE POSITION 0
AS
begin
  if (old.id_imovel <> new.id_imovel) then
  begin
    Update produtos_imovel set situacao = 'ALUGAR' where id = old.id_imovel;
    Update produtos_imovel set situacao = 'ALUGADO' where id = new.id_imovel;
  end

end
^

/* Trigger: MV_CT_IMOVEL_VENDA_AI0 */
CREATE TRIGGER MV_CT_IMOVEL_VENDA_AI0 FOR MV_CT_IMOVEL_VENDA
ACTIVE AFTER INSERT POSITION 0
AS
begin
  Update produtos_imovel set situacao = 'VENDIDO' where id = new.id_imovel;
end
^

/* Trigger: MV_CT_IMOVEL_VENDA_BD0 */
CREATE TRIGGER MV_CT_IMOVEL_VENDA_BD0 FOR MV_CT_IMOVEL_VENDA
ACTIVE BEFORE DELETE POSITION 0
AS
begin
  Update produtos_imovel set situacao = 'VENDER' where id = old.id_imovel;
end
^

/* Trigger: MV_CT_IMOVEL_VENDA_BI */
CREATE TRIGGER MV_CT_IMOVEL_VENDA_BI FOR MV_CT_IMOVEL_VENDA
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_mv_ct_imovel_venda_id,1);
end
^

/* Trigger: MV_CT_IMOVEL_VENDA_BU0 */
CREATE TRIGGER MV_CT_IMOVEL_VENDA_BU0 FOR MV_CT_IMOVEL_VENDA
ACTIVE BEFORE UPDATE POSITION 0
AS
begin
  if (old.id_imovel <> new.id_imovel) then
  begin
    Update produtos_imovel set situacao = 'VENDER' where id = old.id_imovel;
    Update produtos_imovel set situacao = 'VENDIDO' where id = new.id_imovel;
  end
end
^

/* Trigger: MV_PLANILHA_IMOVEL_BI */
CREATE TRIGGER MV_PLANILHA_IMOVEL_BI FOR MV_PLANILHA_IMOVEL
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_mv_planilha_imovel_id,1);
end
^

/* Trigger: NFECE_ITENS_BI */
CREATE TRIGGER NFECE_ITENS_BI FOR NFECE_ITENS
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.NR_SEQUENCIA=gen_id(CODIGO_NFCE_ITENS, 1);
end
^

/* Trigger: NFECE_NOTA_BI */
CREATE TRIGGER NFECE_NOTA_BI FOR NFECE_NOTA
INACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(nr_nota)  from
nfece_nota  where nfece_nota.cd_empresa = new.cd_empresa into :cod;  if (cod is null) then cod = 0;
 new.nr_nota = cod + 1;
 end
^

/* Trigger: NFE_ITENS_BI */
CREATE TRIGGER NFE_ITENS_BI FOR NFE_ITENS
ACTIVE BEFORE INSERT POSITION 1
as
begin
     new.NR_SEQUENCIA=gen_id(codigo_nfe_itens, 1);
end
^

/* Trigger: NFSE_ITENS_BI */
CREATE TRIGGER NFSE_ITENS_BI FOR NFSE_ITENS
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.NR_SEQUENCIA=gen_id(codigo_nfse_itens, 1);
end
^

/* Trigger: NOTAS_MANIFESTACAO_BI */
CREATE TRIGGER NOTAS_MANIFESTACAO_BI FOR NOTAS_MANIFESTACAO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.cod is null) then
    new.cod = gen_id(gen_notas_manifestacao_id,1);
end
^

/* Trigger: NOTA_FISCAL_CCE_BI */
CREATE TRIGGER NOTA_FISCAL_CCE_BI FOR NOTA_FISCAL_CCE
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.cod is null) then
    new.cod = gen_id(gen_nota_fiscal_cce_id,1);
  update nfe_nota set CORRECAO='S' where nr_nota = new.cod_nf;
end
^

/* Trigger: NOTA_FISCAL_CCE_BI1 */
CREATE TRIGGER NOTA_FISCAL_CCE_BI1 FOR NOTA_FISCAL_CCE
ACTIVE BEFORE UPDATE POSITION 1
AS
begin
  /* Trigger text */
  update nfe_nota set CORRECAO='S' where nr_Nota = new.cod_nf;
end
^

/* Trigger: NOTA_FISCAL_CCE_BU */
CREATE TRIGGER NOTA_FISCAL_CCE_BU FOR NOTA_FISCAL_CCE
ACTIVE BEFORE DELETE POSITION 2
AS
   declare variable S integer;
begin

  /* Trigger text */
  select count(*) from nota_fiscal_cce where COD_NF=old.cod_nf into S;
  if ( S = 1 ) then
     begin
          update nfe_nota set CORRECAO='N' where nr_nota = old.cod_nf;
     end
end
^

/* Trigger: NOVOCODSINTEGRAINFO */
CREATE TRIGGER NOVOCODSINTEGRAINFO FOR SINTEGRA_INFO
ACTIVE BEFORE INSERT POSITION 0
as
begin
 new.Cod_Sintegra_Info = gen_id(GCod_Sintegra_Info,1);
end
^

/* Trigger: NOVOCODSINTEGRALOOKUP */
CREATE TRIGGER NOVOCODSINTEGRALOOKUP FOR SINTEGRA_LOOKUP
ACTIVE BEFORE INSERT POSITION 0
as
begin
 new.Cod_Sintegra_Lookup = gen_id(GCod_Sintegra_Lookup,1);
end
^

/* Trigger: NOVOCOD_SINTEGRA_GNRE */
CREATE TRIGGER NOVOCOD_SINTEGRA_GNRE FOR SINTEGRA_GNRE
ACTIVE BEFORE INSERT POSITION 0
as
begin
 new.COD_SINTEGRA_GNRE = gen_id(GCOD_SINTEGRA_GNRE,1);
end
^

/* Trigger: NOVOCOD_SINTEGRA_R60 */
CREATE TRIGGER NOVOCOD_SINTEGRA_R60 FOR SINTEGRA_R60
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.COD_SINTEGRA_R60 = gen_id(GCOD_SINTEGRA_R60,1);
end
^

/* Trigger: OD_AGENDA_BI */
CREATE TRIGGER OD_AGENDA_BI FOR OD_AGENDA
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_od_agenda_id,1);
end
^

/* Trigger: OD_ANAMNESE_BI */
CREATE TRIGGER OD_ANAMNESE_BI FOR OD_ANAMNESE
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_od_anamnese_id,1);
end
^

/* Trigger: OD_EVOLUCOES_BI */
CREATE TRIGGER OD_EVOLUCOES_BI FOR OD_EVOLUCOES
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_od_evolucoes_id,1);
end
^

/* Trigger: OD_IMAGENS_BI */
CREATE TRIGGER OD_IMAGENS_BI FOR OD_IMAGENS
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_od_imagens_id,1);
end
^

/* Trigger: OD_PROCEDIMENTO_BI */
CREATE TRIGGER OD_PROCEDIMENTO_BI FOR OD_PROCEDIMENTO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_od_procedimento_id,1);
end
^

/* Trigger: OD_R_PROCEDIMENTO_BI */
CREATE TRIGGER OD_R_PROCEDIMENTO_BI FOR OD_R_PROCEDIMENTO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_od_r_procedimento_id,1);
end
^

/* Trigger: ORCAMENTOS_PARCELAS_BI */
CREATE TRIGGER ORCAMENTOS_PARCELAS_BI FOR ORCAMENTOS_PARCELAS
ACTIVE BEFORE INSERT POSITION 0
AS
begin
new.CODIGO=gen_id(CODIGO_ORC_PARC, 1);
end
^

/* Trigger: OS_AUTO_BI */
CREATE TRIGGER OS_AUTO_BI FOR OS_AUTO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_os_auto_id,1);
end
^

/* Trigger: OS_AUTO_PRODUTOS_BI */
CREATE TRIGGER OS_AUTO_PRODUTOS_BI FOR OS_AUTO_PRODUTOS
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.id is null) then
    new.id = gen_id(gen_os_auto_produtos_id,1);
end
^

/* Trigger: OS_ORDEMSERVICO_BU */
CREATE TRIGGER OS_ORDEMSERVICO_BU FOR OS_ORDEMSERVICO
ACTIVE BEFORE DELETE POSITION 2
AS
begin
  IF (NOT(OLD.ID_VENDA)IS NULL) THEN DELETE FROM PEDIDOS PV WHERE PV.CODIGO = OLD.id_venda;
end
^

/* Trigger: OS_PRODUTOS_SERVICOS_BI */
CREATE TRIGGER OS_PRODUTOS_SERVICOS_BI FOR OS_PRODUTOS_SERVICOS
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.id_os_produtos_servicos=gen_id(CODIGO_OS_PRODUTOS, 1);
end
^

/* Trigger: PREVENDA_ITENS_BI */
CREATE TRIGGER PREVENDA_ITENS_BI FOR PREVENDA_ITENS
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.CODIGO=gen_id(CODIGO_PREVENDA_ITENS, 1);
end
^

/* Trigger: PRODUTOS_ESTOQUES_LOG_BI */
CREATE TRIGGER PRODUTOS_ESTOQUES_LOG_BI FOR PRODUTOS_ESTOQUES_LOG
INACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(ID_AJUSTE)  from
 produtos_estoques_log  WHERE id_filial = new.id_filial  into :cod;  if (cod is null) then cod = 0;
 new.ID_AJUSTE = cod + 1;
 end
^

/* Trigger: PRODUTOS_ESTOQUES_LOG_BI1 */
CREATE TRIGGER PRODUTOS_ESTOQUES_LOG_BI1 FOR PRODUTOS_ESTOQUES_LOG
ACTIVE BEFORE INSERT POSITION 1
as
begin
     new.ID_AJUSTE=gen_id(CODIGO_PRODUTOS_LOG, 1);
end
^

/* Trigger: PRODUTOS_IMOVEL_BI */
CREATE TRIGGER PRODUTOS_IMOVEL_BI FOR PRODUTOS_IMOVEL
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(id)  from
produtos_imovel  into :cod;  if (cod is null) then cod = 0;
 new.id = cod + 1;
 end
^

/* Trigger: SPED_INVENTARIO_ITENS_BI */
CREATE TRIGGER SPED_INVENTARIO_ITENS_BI FOR SPED_INVENTARIO_ITENS
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.SEQUENCIA=gen_id(CODIGO_INV, 1);
end
^

/* Trigger: SPED_PARTICIPANTES_BI */
CREATE TRIGGER SPED_PARTICIPANTES_BI FOR SPED_PARTICIPANTES
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(cod_SPED)  from
SPED_PARTICIPANTES  where sped_participantes.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.cod_sped = cod + 1;
 end
^

/* Trigger: TRI_CRIACONTROLEBAR */
CREATE TRIGGER TRI_CRIACONTROLEBAR FOR BAR
ACTIVE BEFORE INSERT POSITION 0
AS

begin
 NEW.BAR_CONTROLE = GEN_ID(GEN_BAR01,1);

end
^

/* Trigger: TRI_CRIACONTROLELIGACAO */
CREATE TRIGGER TRI_CRIACONTROLELIGACAO FOR LIGACAO
ACTIVE BEFORE INSERT POSITION 0
AS

begin
 NEW.LIG_CONTROLE = GEN_ID(GEN_LIGACAO01,1);

end
^

/* Trigger: ULT_LMC_BI */
CREATE TRIGGER ULT_LMC_BI FOR ULT_LMC
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  new.CODIGO=gen_id(codigo_ult_lmc, 1);
END
^

/* Trigger: UNIDADES_BI */
CREATE TRIGGER UNIDADES_BI FOR UNIDADES
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.CODIGO=gen_id(CODIGO_UNIDADES, 1);
end
^

/* Trigger: VALIDA_DATA_OS */
CREATE TRIGGER VALIDA_DATA_OS FOR OS_ORDEMSERVICO
INACTIVE BEFORE INSERT POSITION 0
AS
DECLARE VARIABLE ABERTURA TIMESTAMP;
DECLARE VARIABLE DATAHORA TIMESTAMP;
begin

  ABERTURA = CAST(NEW.DATA_ENTRADA || ' ' || NEW.HORA_ENTRADA as TIMESTAMP);

  --Previso de Concluso
  DATAHORA = CAST(NEW.PRAZO_DATACONCLUSAO || ' ' || NEW.PRAZO_HORACONCLUSAO as TIMESTAMP);
  IF (DATAHORA < ABERTURA) THEN EXCEPTION DATA_INVALIDA 'A data/hora de previso deve ser maior que a data/hora de abertura.                           ';

  --Agendamento
  DATAHORA = CAST(NEW.CAMPO_DATAAGENDA || ' ' || NEW.CAMPO_HORAAGENDA as TIMESTAMP);
  IF (DATAHORA < ABERTURA) THEN EXCEPTION DATA_INVALIDA 'A data/hora de agendamento deve ser maior que a data/hora de abertura.                        ';

  --Atendimento Externo Sada
  DATAHORA = CAST(NEW.CAMPO_DATASAIDA || ' ' || NEW.CAMPO_HORASAIDA as TIMESTAMP);
  IF (DATAHORA < ABERTURA) THEN EXCEPTION DATA_INVALIDA 'A data/hora de sada (Atendimento Externo) deve ser maior que a data/hora de abertura.        ';

  --Atendimento Externo Chegada
  DATAHORA = CAST(NEW.CAMPO_DATACHEGADA || ' ' || NEW.CAMPO_HORACHEGADA as TIMESTAMP);
  IF (DATAHORA < ABERTURA) THEN EXCEPTION DATA_INVALIDA 'A data/hora de chegada (Atendimento Externo) deve ser maior que a data/hora de abertura.   ';

  --Atendimento Externo Chegada
  DATAHORA = CAST(NEW.CAMPO_DATARETORNO || ' ' || NEW.CAMPO_HORARETORNO as TIMESTAMP);
  IF (DATAHORA < ABERTURA) THEN EXCEPTION DATA_INVALIDA 'A data/hora de retorno (Atendimento Externo) deve ser maior que a data/hora de abertura.      ';
end
^

/* Trigger: VER_CEP_JA_EXISTE */
CREATE TRIGGER VER_CEP_JA_EXISTE FOR CIDADES
ACTIVE BEFORE INSERT POSITION 0
As
  DECLARE NUMROWS INTEGER;
  Begin
    IF (NOT(NEW.CEP IS NULL)) THEN BEGIN
      Select COUNT(*) from CIDADES
        where CEP = new.CEP INTO NUMROWS;
        IF (NUMROWS > 0) then
        exception CEP_JA_EXISTE;
    END
END
^

/* Trigger: VER_CIDADES_CEP_UP */
CREATE TRIGGER VER_CIDADES_CEP_UP FOR CIDADES
ACTIVE BEFORE UPDATE POSITION 0
As
  DECLARE NUMROWS INTEGER;
  Begin
    IF (NOT(NEW.CEP IS NULL)) THEN BEGIN
       Select COUNT(*) from CIDADES
         where CEP = new.CEP AND COD_CIDADE <> NEW.COD_CIDADE INTO NUMROWS;
         IF (NUMROWS >= 1) then
         exception CEP_JA_EXISTE;
    END
END
^

/* Trigger: VER_CIDADES_NOME_UP */
CREATE TRIGGER VER_CIDADES_NOME_UP FOR CIDADES
ACTIVE BEFORE UPDATE POSITION 0
As
  DECLARE NUMROWS INTEGER;
  Begin
    Select COUNT(*) from CIDADES
       where NOME = new.NOME AND COD_ESTADO = NEW.COD_ESTADO AND COD_CIDADE <> NEW.COD_CIDADE  INTO NUMROWS;
       IF (NUMROWS >= 1) then
       exception CIDADE_JA_EXISTE;
END
^

/* Trigger: VER_CIDADE_JA_EXISTE */
CREATE TRIGGER VER_CIDADE_JA_EXISTE FOR CIDADES
ACTIVE BEFORE INSERT POSITION 0
As
  DECLARE NUMROWS INTEGER;
  Begin
    Select COUNT(*) from CIDADES
       where NOME = new.NOME and COD_ESTADO = NEW.cod_estado INTO NUMROWS ;
     IF (NUMROWS > 0) then
       exception CIDADE_JA_EXISTE;
END
^

/* Trigger: ZONA_VENDA_BI */
CREATE TRIGGER ZONA_VENDA_BI FOR ZONA_VENDA
ACTIVE BEFORE INSERT POSITION 0
AS declare variable cod integer;
begin
select max(cod_zona)  from
 zona_venda  where zona_venda.cod_empresa = new.cod_empresa into :cod;  if (cod is null) then cod = 0;
 new.cod_zona = cod + 1;
 end
^

/* Trigger: "os_ordem_codigo" */
CREATE TRIGGER "os_ordem_codigo" FOR OS_ORDEMSERVICO
INACTIVE BEFORE INSERT POSITION 1
AS declare variable cod integer;
begin
select max(Id_os_ordemServico)  from
 os_ordemservico  where os_ordemservico.id_empresa = new.id_empresa into :cod;  if (cod is null) then cod = 0;
 new.id_os_ordemServico = cod + 1;
 end
^

SET TERM ; ^



/******************************************************************************/
/***                           Stored Procedures                            ***/
/******************************************************************************/


SET TERM ^ ;

ALTER PROCEDURE COD_CLIENTE
RETURNS (
    CODIGO INTEGER,
    COD_EMPRESA INTEGER)
AS
declare variable cod integer;
begin
select max(codigo)  from
CLIENTES  where CLIENTES.cod_empresa = cod_empresa into :cod;
 if (cod is null) then cod = 0;
 codigo = cod + 1;

  SUSPEND;
END^


ALTER PROCEDURE COD_CONTRATOS
RETURNS (
    ID_CONTRATO INTEGER,
    COD_EMPRESA INTEGER)
AS
declare variable cod integer;
begin
select max(ID_CONTRATO)  from
CONTRATOS  where CONTRATOS.cod_empresa = cod_empresa into :cod;
 if (cod is null) then cod = 0;
 ID_CONTRATO = cod + 1;
  SUSPEND;
END^


ALTER PROCEDURE COD_NOTA
RETURNS (
    NR_NOTA INTEGER,
    CD_EMPRESA INTEGER)
AS
declare variable cod integer;
begin
select max(NR_NOTA)  from
nfe_nota  where nfe_nota.cd_empresa = cd_empresa into :cod;
 if (cod is null) then cod = 0;
 NR_NOTA = cod + 1;
  SUSPEND;
END^


ALTER PROCEDURE COD_OTICA
RETURNS (
    CODIGO INTEGER,
    COD_EMPRESA INTEGER)
AS
declare variable cod integer;
begin
select max(CODIGO)  from
OTICA  where OTICA.cod_empresa = cod_empresa into :cod;
 if (cod is null) then cod = 0;
 codigo = cod + 1;
  SUSPEND;
END^


ALTER PROCEDURE COD_PARTIDA
RETURNS (
    CODIGO INTEGER,
    COD_EMPRESA INTEGER)
AS
declare variable cod integer;
begin
select max(codigo)  from
partidas  where partidas.cod_empresa = cod_empresa into :cod;
 if (cod is null) then cod = 0;
 codigo = cod + 1;
  SUSPEND;
END^


ALTER PROCEDURE COD_PRODUTO
RETURNS (
    CODIGO INTEGER,
    COD_EMPRESA INTEGER)
AS
declare variable cod integer;
begin
select max(codigo)  from
produtos  where produtos.cod_empresa = cod_empresa into :cod;
 if (cod is null) then cod = 0;
 codigo = cod + 1;

  SUSPEND;
END^


ALTER PROCEDURE COD_TRANSPORTADOR
RETURNS (
    CODIGO INTEGER,
    CD_EMPRESA INTEGER)
AS
declare variable cod integer;
begin
select max(cd_transportador)  from
transportador  where transportador.cd_empresa = cd_empresa into :cod;
 if (cod is null) then cod = 0;
 codigo = cod + 1;

  SUSPEND;
END^


ALTER PROCEDURE CODIGO_CRED_CARTAO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_CREDIARIO_CARTAO, 1);
  SUSPEND;
END^


ALTER PROCEDURE EFD_IU (
    REFERENCIA VARCHAR(6))
AS
BEGIN
  UPDATE OR INSERT INTO EFD (REFERENCIA)
                         VALUES (:REFERENCIA)
                       MATCHING (REFERENCIA);
END^


ALTER PROCEDURE EXPORTA_BALANCAS (
    MODELO INTEGER)
RETURNS (
    CODIGO INTEGER,
    CODIGO_BARRAS VARCHAR(13),
    DESCRICAO VARCHAR(70),
    DESCRICAOEXP VARCHAR(25),
    PRECOEXP NUMERIC(18,2),
    DEPTO VARCHAR(2),
    ETQTA_DEPTO VARCHAR(2),
    TIPO_PRODUTO VARCHAR(1),
    VALIDADE_PRODUTO VARCHAR(3),
    ESP_COD_AUX VARCHAR(50))
AS
DECLARE VARIABLE PRECO_VENDA NUMERIC (18, 2);
DECLARE VARIABLE PRECO_PROMOCAO NUMERIC (18, 2);
DECLARE VARIABLE DT_INICIO_PROMO DATE;
DECLARE VARIABLE DT_FIM_PROMO DATE;
DECLARE VARIABLE FLAG_PROMOCAO CHAR(1) CHARACTER SET NONE;
DECLARE VARIABLE DESC_UNIDADE VARCHAR(6);
DECLARE VARIABLE V_DATAHOJE DATE;
begin
  --Data Atual
  SELECT CAST('NOW' AS DATE)  FROM RDB$DATABASE INTO :V_DATAHOJE;
  --Toledo
  IF (:MODELO = 1) THEN BEGIN
     FOR SELECT A.CODIGO,A.CODIGO_BARRAS,A.DESCRICAO,SUBSTRING(A.DESCRICAO FROM 1 FOR 25),
        A.PRECO_VENDA,A.PRECO_PROMOCAO,A.DT_INICIO_PROMO,A.DT_FIM_PROMO,A.FLAG_PROMOCAO,
        A.DESC_UNIDADE, A.ESP_COD_AUX, VALIDADE_PRODUTO
        FROM PRODUTOS A  WHERE A.BALANCA = 'S'
        INTO
        :CODIGO,
        :CODIGO_BARRAS,
        :DESCRICAO,
        :DESCRICAOEXP,
        :PRECO_VENDA,
        :PRECO_PROMOCAO,
        :DT_INICIO_PROMO,
        :DT_FIM_PROMO,
        :FLAG_PROMOCAO,
        :DESC_UNIDADE,
        :ESP_COD_AUX,
        :VALIDADE_PRODUTO DO BEGIN
        DEPTO = '01';
        ETQTA_DEPTO = '01';
        IF (:DESC_UNIDADE = 'UN') THEN TIPO_PRODUTO = '1';
        ELSE TIPO_PRODUTO = '0';

        IF ((FLAG_PROMOCAO = 'S') AND (:V_DATAHOJE BETWEEN  :DT_INICIO_PROMO AND :DT_FIM_PROMO)) THEN PRECOEXP = PRECO_PROMOCAO;
         ELSE PRECOEXP = PRECO_VENDA;
        SUSPEND;
     END
  END
  --Filizola
  ELSE IF (:MODELO = 2) THEN BEGIN
     FOR SELECT CODIGO,A.CODIGO_BARRAS,A.DESCRICAO,SUBSTRING(A.DESCRICAO FROM 1 FOR 22),
        A.PRECO_VENDA,A.PRECO_PROMOCAO,A.DT_INICIO_PROMO,A.DT_FIM_PROMO,A.FLAG_PROMOCAO,
        A.DESC_UNIDADE, A.ESP_COD_AUX, VALIDADE_PRODUTO
        FROM PRODUTOS A WHERE A.BALANCA = 'S'
        INTO :CODIGO,
        :CODIGO_BARRAS,
        :DESCRICAO,
        :DESCRICAOEXP,
        :PRECO_VENDA,
        :PRECO_PROMOCAO,
        :DT_INICIO_PROMO,
        :DT_FIM_PROMO,
        :FLAG_PROMOCAO,
        :DESC_UNIDADE,
        :ESP_COD_AUX,
        :VALIDADE_PRODUTO DO BEGIN
        DEPTO = '01';
        ETQTA_DEPTO = '01';
        IF (:DESC_UNIDADE = 'UN') THEN TIPO_PRODUTO = 'U';
        ELSE TIPO_PRODUTO = 'P';
        IF ((FLAG_PROMOCAO = 'S') AND (:V_DATAHOJE BETWEEN  :DT_INICIO_PROMO AND :DT_FIM_PROMO)) THEN PRECOEXP = PRECO_PROMOCAO;
        ELSE PRECOEXP = PRECO_VENDA;
        SUSPEND;
     END
  END
  --Terminal de Consulta Gertec
  ELSE IF (:MODELO = 3) THEN BEGIN
     FOR SELECT A.CODIGO,A.CODIGO_BARRAS,A.DESCRICAO,SUBSTRING(A.DESCRICAO FROM 1 FOR 20),
        A.PRECO_VENDA,A.PRECO_PROMOCAO,A.DT_INICIO_PROMO,A.DT_FIM_PROMO,A.FLAG_PROMOCAO
        FROM PRODUTOS A WHERE A.ATIVO = 'A'
        INTO
        :CODIGO,
        :CODIGO_BARRAS,
        :DESCRICAO,
        :DESCRICAOEXP,
        :PRECO_VENDA,
        :PRECO_PROMOCAO,
        :DT_INICIO_PROMO,
        :DT_FIM_PROMO,
        :FLAG_PROMOCAO DO BEGIN
        IF ((FLAG_PROMOCAO = 'S') AND (:V_DATAHOJE BETWEEN  :DT_INICIO_PROMO AND :DT_FIM_PROMO)) THEN PRECOEXP = PRECO_PROMOCAO;
        ELSE PRECOEXP = PRECO_VENDA;
        SUSPEND;
     END
  END
END^


ALTER PROCEDURE EXPORTA_BALANCAS_CATEGORIAS
RETURNS (
    CATEGORIA VARCHAR(60),
    SEQUENCIA INTEGER,
    CODIGO INTEGER,
    CODIGO_BARRAS VARCHAR(13))
AS
begin
  SEQUENCIA = 0;
  FOR SELECT A.CODIGO, A.CODIGO_BARRAS, SUBSTRING(B.DESCRICAO FROM 1 FOR 12)
        FROM PRODUTOS A, CATEGORIAS B  WHERE A.BALANCA = 'S' AND A.CATEGORIA = B.CODIGO ORDER BY A.CODIGO
        INTO
        :CODIGO,
        :CODIGO_BARRAS,
        :CATEGORIA DO BEGIN
        SEQUENCIA = SEQUENCIA + 1;
        SUSPEND;
     END
end^


ALTER PROCEDURE EXTRATO_CONTA_CORRENTE (
    DT_INICIO DATE,
    DT_FIM DATE,
    CONTA_MONETARIA INTEGER)
RETURNS (
    LCTO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(900),
    DEBITO DECIMAL(18,2),
    CREDITO DECIMAL(18,2),
    ORIGEM VARCHAR(2),
    SALDO DECIMAL(18,2),
    ORDEM INTEGER,
    NUMERO_CC VARCHAR(10),
    NUMERO_CH VARCHAR(10))
AS
declare variable SALDO_INICIAL decimal(10,2);
declare variable SALDO_FINAL decimal(10,2);
declare variable SALDO_ATUAL decimal(10,2);
declare variable SALDO_LIMITE decimal(10,2);
declare variable TOTAL_CREDITO decimal(10,2);
declare variable TOTAL_DEBITO decimal(10,2);
BEGIN

     --SALDO ANTERIOR
    SELECT A.SALDO FROM SP_SALDO_BANCARIO_CC (:DT_INICIO, :CONTA_MONETARIA) A INTO :TOTAL_CREDITO;

   /* --CAPTURA O SALDO INICIAL
    SELECT SALDO_INICIAL FROM PLANO_CONTA WHERE ID_CONTA_CONTABIL = :CONTA_MONETARIA
    INTO SALDO_INICIAL; */

    --TRATA NULOS
    IF (SALDO_INICIAL IS NULL) THEN SALDO_INICIAL = 0.00;
    IF (TOTAL_CREDITO IS NULL) THEN TOTAL_CREDITO = 0.00;
    IF (TOTAL_DEBITO IS NULL)  THEN TOTAL_DEBITO = 0.00;
    SALDO_INICIAL = (TOTAL_CREDITO);
    HISTORICO = 'SALDO ANTERIOR';
    DEBITO    = NULL;
    CREDITO   = NULL;
    SALDO     = SALDO_INICIAL;
    ORIGEM    = NULL;
    DATA = NULL;
    ORDEM     = 0;
    SUSPEND;
    -- RETORNA A PRIMEIRA LINHA CONTENDO O SALDO ANTERIOR


    -- SELECIONA OS REGISTROS, CREDITO

    FOR SELECT DATA, HISTORICO, VALOR_SAIDA,VALOR_ENTRADA,NUMERO_CC, CODIGO, N_CHEQUE
    FROM MOVIMENTO_DIARIO
    WHERE (DATA BETWEEN :DT_INICIO AND :DT_FIM) AND CODIGO_CC = :CONTA_MONETARIA AND TIPO='B'
    ORDER BY  DATA, CODIGO
    INTO :DATA,:HISTORICO,:DEBITO,:CREDITO,:NUMERO_CC, :LCTO, :NUMERO_CH

    DO
    BEGIN
      IF (CREDITO > 0) THEN BEGIN
          DEBITO = NULL;
          SALDO = SALDO + CREDITO;
      END
      IF (DEBITO > 0) THEN BEGIN
          CREDITO = NULL;
          SALDO = SALDO - DEBITO;
      END
      ORDEM = 1;
      SUSPEND;
    END
END^


ALTER PROCEDURE INSERECOD_AGENCIAS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_AGENCIAS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_AGREGADOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_codigo_agreg, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_BANCOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_BANCOS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_CAIXA
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_CAIXA, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_CATEGORIA
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(codigo_categorias, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_CHEQUES
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_CHEQUES, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_CLIENTES
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_CLIENTES, 1);
END^


ALTER PROCEDURE INSERECOD_COND_PAGAMENTO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_COND_PAGAMENTO, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_CONTA_BANCARIA
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_CONTA_BANCARIA, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_CONTAS_PAGAR
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_CONTAS_PAGAR, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_CONTASPAGAR
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_CONTASPAGAR, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_CREDIARIO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_CREDIARIO, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_FORNECEDORES
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_FORNECEDORES, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_GRUPOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_GRUPOS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_LATICINIO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_LATICINIO, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_LATICINIOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_LATICINIOS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_MARCAS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_MARCAS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_NOTASFISCAIS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_NOTASFISCAIS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_NOTASFISCAISITENS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_NOTASFISCAIS_ITENS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_OB_BENS_MARCAS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_os_bens_marcas, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_ORCAMENTOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_ORCAMENTOS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_ORCAMENTOS_ITENS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_ORCAMENTO_ITENS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_OS_BEM
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_os_bens, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_OS_BEM_COR
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_os_bem_cor, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_OS_BENS_MARCA
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_os_bens_marcas, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_OS_LOCAL
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_os_bens_local, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_OS_TIPO_BENS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_os_bens_tipo, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_PEDIDOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_PEDIDOS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_PEDIDOS_ITENS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(codigo_pedidos_itens, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_PLANOCONTAS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_PLANOCONTAS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_PRIORIDADE_ATEND
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_cod_os_prioridade, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_PROD_SIMILAR
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_cod_produto_similar, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_PRODUTOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_PRODUTOS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_RECIBO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_RECIBO, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_REG_PEDIDOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_REG_PEDIDOS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_RETORNO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_RETORNO, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_SECCAO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(codigo_seccao, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_STATUS_ATEND
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_cod_os_status_atend, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_SUBGRUPOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_SUBGRUPOS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_TIPO_ATENDIMENTO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(insert_cod_os_tipoatendimento, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_UNIDADES
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_UNIDADES, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_USUARIOS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_USUARIOS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERECOD_VENDAS
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGO_VENDAS, 1);
  SUSPEND;
END^


ALTER PROCEDURE INSERTCOD_OS_ORDEMSERVICO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(INSERT_COD_OS_ORDEMSERVICO, 1);
END^


ALTER PROCEDURE REL_CONVENIO_DETALHADO (
    CODCON INTEGER,
    CODEMP INTEGER,
    DATAINI DATE,
    DATAFIN DATE)
RETURNS (
    CODCTR INTEGER,
    CODCLI INTEGER,
    SEQCTR VARCHAR(10) CHARACTER SET WIN1252,
    DATACTR DATE,
    VALORCTR NUMERIC(18,2),
    NOMECLI VARCHAR(60) CHARACTER SET WIN1252,
    DOCCLI VARCHAR(20) CHARACTER SET WIN1252)
AS
BEGIN
     IF (CODEMP IS NULL) THEN
        FOR SELECT R.CODIGO, R.CODIGO_CLIENTE, R.PARCELA, R.DATA_COMPRA, R.VALOR_COMPRA, C.NOME_RS, C.RG_IE
            FROM CREDIARIO R
            INNER JOIN CLIENTES C
            ON (R.CODIGO_CLIENTE = C.CODIGO)
            WHERE R.DATA_COMPRA BETWEEN :DATAINI AND :DATAFIN AND R.COD_CONV = :CODCON AND R.SITUACAO ='A'
            INTO :CODCTR, :CODCLI, :SEQCTR, :DATACTR, :VALORCTR, :NOMECLI, :DOCCLI
        DO
          SUSPEND;
     ELSE
        FOR SELECT R.CODIGO, R.CODIGO_CLIENTE, R.PARCELA, R.DATA_COMPRA, R.VALOR_COMPRA, C.NOME_RS, C.RG_IE
            FROM CREDIARIO R
            INNER JOIN CLIENTES C
            ON (R.CODIGO_CLIENTE = C.CODIGO)
            WHERE R.DATA_COMPRA BETWEEN :DATAINI AND :DATAFIN AND R.COD_CONV = :CODCON AND R.SITUACAO = 'A'  AND
                  R.COD_EMPRESA = :CODEMP
            INTO :CODCTR, :CODCLI, :SEQCTR, :DATACTR, :VALORCTR, :NOMECLI, :DOCCLI
        DO
          SUSPEND;
  END^


ALTER PROCEDURE REL_CONVENIO_RESUMIDO (
    CODCON INTEGER,
    CODEMP INTEGER,
    DATAINI DATE,
    DATAFIN DATE)
RETURNS (
    CODCLI INTEGER,
    NOMECLI VARCHAR(60) CHARACTER SET WIN1252,
    DOCCLI VARCHAR(20) CHARACTER SET WIN1252,
    TOTAL NUMERIC(18,2))
AS
BEGIN
     IF (CODEMP IS NULL) THEN
        FOR SELECT SUM(VALOR_COMPRA), R.CODIGO_CLIENTE, C.NOME_RS, C.RG_IE
           FROM crediario R
           INNER JOIN CLIENTES C
           ON (R.CODIGO_CLIENTE = C.CODIGO)
           WHERE R.DATA_COMPRA BETWEEN :DATAINI AND :DATAFIN AND R.COD_CONV = :CODCON AND R.SITUACAO='A'
           GROUP BY R.CODIGO_CLIENTE, C.NOME_RS, C.RG_IE
           INTO :TOTAL, :CODCLI, :NOMECLI, :DOCCLI
       DO
         SUSPEND;
     ELSE
        FOR SELECT SUM(VALOR_COMPRA), R.CODIGO_CLIENTE, C.NOME_RS, C.RG_IE
           FROM CREDIARIO R
           INNER JOIN CLIENTES C
           ON (R.CODIGO_CLIENTE = C.CODIGO)
           WHERE R.DATA_COMPRA BETWEEN :DATAINI AND :DATAFIN AND R.COD_CONV = :CODCON AND R.SITUACAO='A' AND
                 R.COD_EMPRESA = :CODEMP
           GROUP BY R.CODIGO_CLIENTE, C.NOME_RS, C.RG_IE
           INTO :TOTAL, :CODCLI, :NOMECLI, :DOCCLI
        DO
          SUSPEND;
  END^


ALTER PROCEDURE REL_VENDAS_PRODUTOS (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(70),
    QUANT NUMERIC(18,4))
AS
BEGIN
  FOR
    SELECT DISTINCT 
      PEDIDOS_ITENS.CODIGO_PROD,
      PEDIDOS_ITENS.CODIGO_PRODUTO,
      PEDIDOS_ITENS.DESCRICAO_PRODUTO,
      SUM(PEDIDOS_ITENS.QUANTIDADE) AS QUANT
    FROM
     PEDIDOS
     INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
     WHERE DATA_PEDIDO between :datai and :dataf
    GROUP BY
      PEDIDOS_ITENS.CODIGO_PROD,
      PEDIDOS_ITENS.CODIGO_PRODUTO,
      PEDIDOS_ITENS.DESCRICAO_PRODUTO
    

    INTO
      :CODIGO_PROD,
      :CODIGO_PRODUTO,
      :DESCRICAO_PRODUTO,
      :QUANT
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE REL_VENDAS_S (
    DATAI DATE,
    DATAF DATE,
    CODPED INTEGER,
    CODCLI INTEGER,
    VALORI NUMERIC(18,2),
    VALORF NUMERIC(18,2))
RETURNS (
    CODIGO INTEGER,
    VALOR_TOTAL NUMERIC(18,4),
    VALOR_ITENS NUMERIC(18,4),
    VALOR_COMISSAO NUMERIC(18,4),
    DATA_PEDIDO DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    VALOR_DESCONTO NUMERIC(18,4),
    SITUACAO CHAR(1),
    CODIGO_ID INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(50),
    PRECO_UNITARIO NUMERIC(18,4),
    DESCONTO NUMERIC(18,4),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,4),
    COMISSAO NUMERIC(18,4),
    DEV CHAR(1),
    QNT_DEV NUMERIC(18,4),
    VAL_DEV NUMERIC(18,4),
    ENC_FINANCEIRO NUMERIC(18,4),
    PAGAMENTO VARCHAR(35))
AS
BEGIN
  FOR SELECT CODIGO,
             VALOR_TOTAL,
             VALOR_ITENS,
             VALOR_COMISSAO,
             DATA_PEDIDO,
             CODIGO_CLIENTE,
             NOME_CLIENTE,
             VALOR_DESCONTO,
             SITUACAO,
             CODIGO_ID,
             CODIGO_PRODUTO,
             DESCRICAO_PRODUTO,
             PRECO_UNITARIO,
             DESCONTO,
             QUANTIDADE,
             PRECO_TOTAL,
             COMISSAO,
             DEV,
             QNT_DEV,
             VAL_DEV,
             ENC_FINANCEIRO,
             PAGAMENTO
      FROM REL_VENDAS
      where  DATA_PEDIDO between  :datai and :dataf AND VALOR_TOTAL between  :valori and :valorf and CODIGO starting :codped and CODIGO_CLIENTE starting :codcli
      INTO :CODIGO,
           :VALOR_TOTAL,
           :VALOR_ITENS,
           :VALOR_COMISSAO,
           :DATA_PEDIDO,
           :CODIGO_CLIENTE,
           :NOME_CLIENTE,
           :VALOR_DESCONTO,
           :SITUACAO,
           :CODIGO_ID,
           :CODIGO_PRODUTO,
           :DESCRICAO_PRODUTO,
           :PRECO_UNITARIO,
           :DESCONTO,
           :QUANTIDADE,
           :PRECO_TOTAL,
           :COMISSAO,
           :DEV,
           :QNT_DEV,
           :VAL_DEV,
           :ENC_FINANCEIRO,
           :PAGAMENTO
  DO
      BEGIN
        SUSPEND;
      END
END^


ALTER PROCEDURE SP_AJUSTE_PRODUTOS (
    CODIGO INTEGER,
    CODIGO_B VARCHAR(14),
    REF VARCHAR(15),
    DESCRICAO VARCHAR(50),
    QUANT NUMERIC(18,4),
    CUSTO NUMERIC(18,2),
    VENDA NUMERIC(18,2),
    VENDA2 NUMERIC(18,2),
    ATIV VARCHAR(1),
    DATA_ALT DATE,
    USU VARCHAR(15),
    FRACAO INTEGER,
    QUANT_FRACAO NUMERIC(18,4))
AS
begin
     update PRODUTOS set ESTOQUE_ATUAL=:Quant, ESTOQUE=:Quant,CODIGO_BARRAS=:CODIGO_B,
     REFERENCIA=:REF,DESCRICAO=:DESCRICAO,PRECO_CUSTO=:CUSTO,PRECO_VENDA=:VENDA,PRECO_VENDA2=:VENDA2,
     ATIVO=:ATIV, DATAULTALTERACAO=:DATA_ALT, USERCAD=:USU, FRACAO =:FRACAO, ESTOQUE_FRACAO =:Quant_FRACAO
     where codigo=:Codigo;
end^


ALTER PROCEDURE SP_ATUALIZA_ESTOQUE (
    CODEMP INTEGER,
    CODPRO INTEGER,
    QUANT NUMERIC(18,3),
    FRACAO INTEGER,
    LOCAL INTEGER)
AS
DECLARE VARIABLE VL_CODIGOPRO INTEGER;
  DECLARE VARIABLE VL_PRODUTO INTEGER;
  DECLARE VARIABLE VL_CONTROLA CHAR(1);
  DECLARE VARIABLE FRACAO1 CHAR(1);
  declare variable QUANT_INT NUMERIC (18,4);
  BEGIN
  QUANT_INT =COALESCE((QUANT/FRACAO),0);
     /* BUSCA O PRODUTO QUE CONTROLA O ESTOQUE */
     SELECT CODIGO
     FROM PRODUTOS
     WHERE CODIGO = :CODPRO
     INTO :VL_PRODUTO;
     
     SELECT P.USA_FRACAO
     FROM configuracoes P
     WHERE P.COD_EMPRESA = :CODEMP
     INTO :FRACAO1;
     /* VERIFICA SE CONTROLA O ESTOQUE */
     /*  SELECT CONTOLAESTOQUE
     FROM PRODUTOS
     WHERE CODIGO = :VL_PRODUTO
     INTO :VL_CONTROLA;
     IF (VL_CONTROLA = 'S') THEN*/
        BEGIN
          SELECT COD_PRO
           FROM ESTOQUE
           WHERE COD_PRO = :VL_PRODUTO AND CODIGO_LOCAL_ESTOQUE = :LOCAL AND COD_EMP = :CODEMP
           INTO :VL_CODIGOPRO;
           IF (VL_CODIGOPRO IS NULL) THEN
              BEGIN
                 INSERT INTO ESTOQUE (COD_PRO, COD_EMP, ESTOQUE,  QTDE_FRACIONADA, CODIGO_LOCAL_ESTOQUE)
                 VALUES(:VL_PRODUTO, :CODEMP, :QUANT, :FRACAO, :LOCAL);
                END
           ELSE
              BEGIN
                 UPDATE ESTOQUE SET ESTOQUE = ESTOQUE + :QUANT, QTDE_FRACIONADA = QTDE_FRACIONADA + :QUANT
                 WHERE COD_PRO = :VL_PRODUTO AND CODIGO_LOCAL_ESTOQUE = :LOCAL AND COD_EMP = :CODEMP;
                END
           END
          IF (:FRACAO1 = 'N') THEN
          BEGIN
           update PRODUTOS set ESTOQUE=(COALESCE(ESTOQUE,0) + :QUANT), ESTOQUE_ATUAL=(COALESCE(ESTOQUE_ATUAL,0) + :QUANT)
           where codigo = :VL_PRODUTO AND CODIGO_LOCAL_ESTOQUE = :LOCAL AND COD_EMPRESA = :CODEMP;
          END ELSE
          IF (:FRACAO1 = 'S') THEN
          BEGIN
           update PRODUTOS set ESTOQUE_FRACAO = (COALESCE(ESTOQUE_FRACAO,0) +:Quant), ESTOQUE =(COALESCE(ESTOQUE,0) +:Quant_int), ESTOQUE_ATUAL =(COALESCE(ESTOQUE_ATUAL,0) +:Quant_int), ESTOQUE_VENDIDO =(COALESCE(ESTOQUE_VENDIDO,0) +:Quant_int)
           where codigo = :VL_PRODUTO AND CODIGO_LOCAL_ESTOQUE = :LOCAL AND COD_EMPRESA = :CODEMP;
           END
  END^


ALTER PROCEDURE SP_BAIXA_CHEQUE (
    CODIGO INTEGER,
    COMPENSADO CHAR(1),
    USUARIO_BAIXA VARCHAR(20),
    DATA_BAIXA DATE,
    CODIGO_CC VARCHAR(15),
    NUMERO_CC VARCHAR(15))
AS
begin
     Update V_CHEQUES_BAIXAR set COMPENSADO = 'S',DATA_BAIXA =:DATA_BAIXA,
     USUARIO_BAIXA=:USUARIO_BAIXA, CODIGO_CC =:CODIGO_CC, NUMERO_CC=:NUMERO_CC
     where CODIGO=:CODIGO;
end^


ALTER PROCEDURE SP_BAIXA_EST_ATUAL (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4))
AS
begin
     update PRODUTOS set ESTOQUE_ATUAL =(COALESCE(ESTOQUE_ATUAL,0) -:Quant)
     where codigo=:Codigo;
end^


ALTER PROCEDURE SP_BAIXA_ESTOQUE_FRACAO (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4),
    FRACAO INTEGER)
AS
declare variable QUANT_INT NUMERIC (18,4);
Begin
QUANT_INT =COALESCE((QUANT/FRACAO),0);

     update PRODUTOS set ESTOQUE_FRACAO = (COALESCE(ESTOQUE_FRACAO,0) -:Quant), ESTOQUE =(COALESCE(ESTOQUE,0) -:Quant_int), ESTOQUE_ATUAL =(COALESCE(ESTOQUE_ATUAL,0) -:Quant_int), ESTOQUE_VENDIDO =(COALESCE(ESTOQUE_VENDIDO,0) +:Quant_int)
     where codigo=:Codigo;
end^


ALTER PROCEDURE SP_BAIXA_PARCELA_CREDIARIO (
    CODIGO INTEGER,
    SITUACAO CHAR(1),
    USUARIO_BAIXA VARCHAR(20),
    DATA_BAIXA DATE)
AS
begin
    Update V_CREDIARIO_RECEBER set
    SITUACAO = 'F',
    DATA_BAIXA =:DATA_BAIXA,
    USUARIO_BAIXA=:USUARIO_BAIXA
    where CODIGO=:CODIGO;
end^


ALTER PROCEDURE SP_BAIXA_PARCELA_CREDIARIO_T (
    CODIGO INTEGER,
    USUARIO_BAIXA VARCHAR(20),
    DATA_BAIXA DATE)
AS
begin
     Update V_CREDIARIO_RECEBER set  VALOR_PAGO = (VALOR_TOTAL + VALOR_PAGO),SITUACAO = 'F',DATA_BAIXA =:DATA_BAIXA,USUARIO_BAIXA=:USUARIO_BAIXA
     where CODIGO=:CODIGO;
end^


ALTER PROCEDURE SP_BAIXA_PARCIAL_CREDIARIO (
    CODIGO INTEGER,
    ACRESCIMO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    PAGO NUMERIC(18,2),
    JUROS NUMERIC(18,2))
AS
begin
     Update CREDIARIO  set
     VALOR_ACRESCIMO = (VALOR_ACRESCIMO + :ACRESCIMO),
     VALOR_DESCONTO = (VALOR_DESCONTO + :DESCONTO),
     VALOR_PAGO = (VALOR_PAGO + :PAGO),
     JUROS_POSTERGADOS = (COALESCE(JUROS_POSTERGADOS,0) + :JUROS)
     where CODIGO=:CODIGO;
end^


ALTER PROCEDURE SP_BUSCAITENS (
    CODPRO INTEGER,
    COD_VEN INTEGER,
    ITEM INTEGER)
RETURNS (
    CODIGO INTEGER,
    CODIGO_ID INTEGER,
    ITEN INTEGER,
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(70),
    PRECO_UNITARIO NUMERIC(18,5),
    DESCONTO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    COMISSAO NUMERIC(18,2),
    DEV CHAR(1),
    QNT_DEV NUMERIC(18,4),
    VAL_DEV NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    UNIDADE VARCHAR(6),
    SIT_TRIBUTARIA VARCHAR(5),
    VENDEDOR INTEGER,
    FRACAO INTEGER,
    COD_NCM CHAR(10),
    PROD_SERV VARCHAR(1),
    PERC_ISS NUMERIC(18,2),
    BASE_ISS NUMERIC(18,2),
    VL_ISS NUMERIC(18,2),
    PERC_ICM NUMERIC(18,2),
    BASE_ICMS NUMERIC(18,2),
    VL_ICM NUMERIC(18,2),
    PERC_IPI NUMERIC(18,2),
    BASE_IPI NUMERIC(18,2),
    VL_IPI NUMERIC(18,2),
    PERC_COFINS NUMERIC(18,2),
    BASE_COFINS NUMERIC(18,2),
    VL_COFINS NUMERIC(18,2),
    PERC_ICMS_SUBST NUMERIC(18,2),
    BASE_ICMS_SUBST NUMERIC(18,2),
    VL_ICMS_SUBST NUMERIC(18,2),
    PERC_PIS NUMERIC(18,2),
    BASE_PIS NUMERIC(18,2),
    VL_PIS NUMERIC(18,2),
    IMPRIME VARCHAR(3),
    COD_EMPRESA INTEGER,
    ID_BICO INTEGER,
    ID_TANQUE VARCHAR(5),
    ID_BOMBA VARCHAR(5),
    BICO VARCHAR(2),
    ICMS NUMERIC(18,2),
    COD_ANP VARCHAR(9),
    COMBUSTIVEL VARCHAR(1),
    APLICACAO VARCHAR(500),
    IPI_IRPJ NUMERIC(18,2),
    OUTROS_IMPOSTOS NUMERIC(18,2),
    NCM_SH VARCHAR(8),
    QTD_CAIXA SMALLINT,
    UND_TRIB VARCHAR(3),
    ML_QUANT_BEB NUMERIC(18,3),
    SIT_COFINS_VENDA_EST VARCHAR(2),
    SIT_PIS_VENDA_INTER_EST VARCHAR(2),
    SIT_COFINS_VENDA_INTER_EST VARCHAR(2),
    SIT_PIS_VENDA_EST VARCHAR(2),
    CST_IPI_SAIDA VARCHAR(2),
    CST_VENDA_INTER VARCHAR(3),
    PERC_ALIQUOTA_PIS NUMERIC(18,2),
    PERC_ALIQUOTA_COFINS NUMERIC(18,2),
    CFOP_INTER_VENDA VARCHAR(4),
    FLAG_PIS_COFINS VARCHAR(1),
    CFOP_EST_VENDA VARCHAR(4),
    CST_VENDA VARCHAR(3),
    NCM_SH1 VARCHAR(8),
    PERC_TRIBU NUMERIC(18,2),
    FONTE CHAR(18),
    ALIC_NAC NUMERIC(18,2),
    ALIC_IMP NUMERIC(18,2),
    VEICULO VARCHAR(1),
    CHASSI VARCHAR(44),
    COR INTEGER,
    COR_DESC VARCHAR(30),
    N_MOTOR VARCHAR(30),
    ANO_FAB VARCHAR(4),
    ANO_MOD_FAB VARCHAR(4),
    TIPO_VEIC VARCHAR(10),
    N_SERIE VARCHAR(30),
    COD_MODELO VARCHAR(30),
    ESPECIE_VEICULO VARCHAR(10),
    COD_COR_DENATRAN VARCHAR(10),
    TIPO_COMBUSTIVEL VARCHAR(10),
    PESOBRUTO NUMERIC(18,3),
    PESOLIQUIDO NUMERIC(18,3),
    CEST VARCHAR(10))
AS
BEGIN
  FOR
    SELECT I.*, P.ICMS, P.COD_ANP, P.COMBUSTIVEL,P.APLICACAO, P.IPI_IRPJ, P.OUTROS_IMPOSTOS, P.NCM_SH, P.QTD_CAIXA, P.UND_TRIB,
    P.ML_QUANT_BEB, G.SIT_COFINS_VENDA_EST, G.SIT_PIS_VENDA_INTER_EST, G.SIT_COFINS_VENDA_INTER_EST, G.SIT_PIS_VENDA_EST,
    G.CST_IPI_SAIDA, G.CST_VENDA_INTER, G.PERC_ALIQUOTA_PIS, G.PERC_ALIQUOTA_COFINS, G.CFOP_INTER_VENDA, G.FLAG_PIS_COFINS,
    G.CFOP_EST_VENDA, G.CST_VENDA, GR.NCM_SH, GR.PERC_TRIBU, GR.FONTE, ncm.alic_nac, ncm.alic_imp, P.VEICULO, P.CHASSI, P.COR,
    P.COR_DESC, P.N_MOTOR, P.ANO_FAB, P.ANO_MOD_FAB, P.TIPO_VEIC, P.N_SERIE, P.COD_MODELO, P.ESPECIE_VEICULO, P.COD_COR_DENATRAN,
    P.TIPO_COMBUSTIVEL, P.PESOBRUTO, P.PESOLIQUIDO, P.CEST
    FROM PEDIDOS_ITENS I
    INNER JOIN PRODUTOS P
    ON (I.CODIGO_PROD = P.CODIGO)
    INNER JOIN grupo_tributacao G
    ON (G.COD_GRUPO = P.GRUPO_TRIBUTACAO)
    LEFT JOIN grupos GR
    ON (GR.CODIGO = P.CODIGO_GRUPO)
    left join tabela_ncm ncm on (ncm.codigo_ncm = p.ncm_sh)
    WHERE I.CODIGO_PROD = :CODPRO and codigo_id = :Cod_Ven AND I.ITEN =:ITEM
    

    INTO
      :CODIGO,
      :CODIGO_ID,
      :ITEN,
      :CODIGO_PROD,
      :CODIGO_PRODUTO,
      :DESCRICAO_PRODUTO,
      :PRECO_UNITARIO,
      :DESCONTO,
      :QUANTIDADE,
      :PRECO_TOTAL,
      :COMISSAO,
      :DEV,
      :QNT_DEV,
      :VAL_DEV,
      :ENC_FINANCEIRO,
      :UNIDADE,
      :SIT_TRIBUTARIA,
      :VENDEDOR,
      :FRACAO,
      :COD_NCM,
      :PROD_SERV,
      :PERC_ISS,
      :BASE_ISS,
      :VL_ISS,
      :PERC_ICM,
      :BASE_ICMS,
      :VL_ICM,
      :PERC_IPI,
      :BASE_IPI,
      :VL_IPI,
      :PERC_COFINS,
      :BASE_COFINS,
      :VL_COFINS,
      :PERC_ICMS_SUBST,
      :BASE_ICMS_SUBST,
      :VL_ICMS_SUBST,
      :PERC_PIS,
      :BASE_PIS,
      :VL_PIS,
      :IMPRIME,
      :COD_EMPRESA,
      :ID_BICO,
      :ID_TANQUE,
      :ID_BOMBA,
      :BICO,
      :ICMS,
      :COD_ANP,
      :COMBUSTIVEL,
      :APLICACAO,
      :IPI_IRPJ,
      :OUTROS_IMPOSTOS,
      :NCM_SH,
      :QTD_CAIXA,
      :UND_TRIB,
      :ML_QUANT_BEB,
      :SIT_COFINS_VENDA_EST,
      :SIT_PIS_VENDA_INTER_EST,
      :SIT_COFINS_VENDA_INTER_EST,
      :SIT_PIS_VENDA_EST,
      :CST_IPI_SAIDA,
      :CST_VENDA_INTER,
      :PERC_ALIQUOTA_PIS,
      :PERC_ALIQUOTA_COFINS,
      :CFOP_INTER_VENDA,
      :FLAG_PIS_COFINS,
      :CFOP_EST_VENDA,
      :CST_VENDA,
      :NCM_SH1,
      :PERC_TRIBU,
      :FONTE,
      :ALIC_NAC,
      :ALIC_IMP,
      :VEICULO,
      :CHASSI,
      :COR,
      :COR_DESC,
      :N_MOTOR,
      :ANO_FAB,
      :ANO_MOD_FAB,
      :TIPO_VEIC,
      :N_SERIE,
      :COD_MODELO,
      :ESPECIE_VEICULO,
      :COD_COR_DENATRAN,
      :TIPO_COMBUSTIVEL,
      :PESOBRUTO,
      :PESOLIQUIDO,
      :CEST
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_CANCELA_PEDIDOS (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,4),
    VALOR_DESCONTO NUMERIC(18,4),
    VALOR_TOTAL NUMERIC(18,4),
    VALOR_COMISSAO NUMERIC(18,4),
    ENC_FINANCEIRO NUMERIC(18,4),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(20),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  ENC_FINANCEIRO,
  USUARIO,
  USUARIO_ENTREGA,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO,
  TP,
  OBSERVACOES
  from   PEDIDOS
     where  DATA_PEDIDO between  :datai and :dataf
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :ENC_FINANCEIRO,
  :USUARIO,
  :USUARIO_ENTREGA,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :PAGAMENTO,
  :TP,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_CHEQUES (
    CODIGO_COMPRA INTEGER,
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNARDO CHAR(3),
    RETORNADO_PAGO CHAR(3),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    USUARIO_CADASTRO VARCHAR(20),
    COMPENSADO CHAR(1),
    COD_EMPRESA INTEGER,
    COD_CLIENTE INTEGER)
AS
begin
     insert into CHEQUES
(
  CODIGO_COMPRA,
  QNT,
  VALOR_CHEQUE,
  CLIENTE,
  RETORNARDO,
  RETORNADO_PAGO,
  DATA_CADASTRO,
  DATA_DEPOSITO,
  USUARIO_CADASTRO,
  COMPENSADO,
  COD_EMPRESA,
  COD_CLIENTE)
  values
  (
  :CODIGO_COMPRA,
  :QNT,
  :VALOR_CHEQUE,
  :CLIENTE,
  :RETORNARDO,
  :RETORNADO_PAGO,
  :DATA_CADASTRO,
  :DATA_DEPOSITO,
  :USUARIO_CADASTRO,
  :COMPENSADO,
  :COD_EMPRESA,
  :COD_CLIENTE
);
end^


ALTER PROCEDURE SP_CHEQUES_BAIXADOS_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
begin
 for select
  CODIGO,
  CODIGO_COMPRA,
  BANCO,
  AGENCIA,
  CONTA_CORRENTE,
  CONTA_DESDE,
  TITULAR,
  TIPO_CHEQUE,
  N_CHEQUE,
  QNT,
  VALOR_CHEQUE,
  CLIENTE,
  RETORNADO_PAGO,
  MOTIVO_RETORNO,
  DATA_CADASTRO,
  DATA_DEPOSITO,
  DATA_RETORNO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_BAIXA,
  CODIGO_CC,
  NUMERO_CC
 from   V_CHEQUES_BAIXADOS
     where  DATA_BAIXA between  :datai and :dataf
  into
  :CODIGO,
  :CODIGO_COMPRA,
  :BANCO,
  :AGENCIA,
  :CONTA_CORRENTE,
  :CONTA_DESDE,
  :TITULAR,
  :TIPO_CHEQUE,
  :N_CHEQUE,
  :QNT,
  :VALOR_CHEQUE,
  :CLIENTE,
  :RETORNADO_PAGO,
  :MOTIVO_RETORNO,
  :DATA_CADASTRO,
  :DATA_DEPOSITO,
  :DATA_RETORNO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_BAIXA,
  :CODIGO_CC,
  :NUMERO_CC
     do suspend;
end^


ALTER PROCEDURE SP_CHEQUES_BAIXADOS_TITULAR (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
begin
 for select
  CODIGO,
  CODIGO_COMPRA,
  BANCO,
  AGENCIA,
  CONTA_CORRENTE,
  CONTA_DESDE,
  TITULAR,
  TIPO_CHEQUE,
  N_CHEQUE,
  QNT,
  VALOR_CHEQUE,
  CLIENTE,
  RETORNADO_PAGO,
  MOTIVO_RETORNO,
  DATA_CADASTRO,
  DATA_DEPOSITO,
  DATA_RETORNO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_BAIXA,
  CODIGO_CC,
  NUMERO_CC
 from   V_CHEQUES_BAIXADOS
     where (TITULAR starting :Param)
  into
  :CODIGO,
  :CODIGO_COMPRA,
  :BANCO,
  :AGENCIA,
  :CONTA_CORRENTE,
  :CONTA_DESDE,
  :TITULAR,
  :TIPO_CHEQUE,
  :N_CHEQUE,
  :QNT,
  :VALOR_CHEQUE,
  :CLIENTE,
  :RETORNADO_PAGO,
  :MOTIVO_RETORNO,
  :DATA_CADASTRO,
  :DATA_DEPOSITO,
  :DATA_RETORNO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_BAIXA,
  :CODIGO_CC,
  :NUMERO_CC
     do suspend;
end^


ALTER PROCEDURE SP_CHEQUES_BAIXAR_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    USUARIO_CADASTRO VARCHAR(20))
AS
begin
 for select
  CODIGO,
  CODIGO_COMPRA,
  BANCO,
  AGENCIA,
  CONTA_CORRENTE,
  CONTA_DESDE,
  TITULAR,
  TIPO_CHEQUE,
  N_CHEQUE,
  QNT,
  VALOR_CHEQUE,
  CLIENTE,
  DATA_CADASTRO,
  DATA_DEPOSITO,
  USUARIO_CADASTRO
 from   V_CHEQUES_BAIXAR
     where  DATA_DEPOSITO between  :datai and :dataf
  into
  :CODIGO,
  :CODIGO_COMPRA,
  :BANCO,
  :AGENCIA,
  :CONTA_CORRENTE,
  :CONTA_DESDE,
  :TITULAR,
  :TIPO_CHEQUE,
  :N_CHEQUE,
  :QNT,
  :VALOR_CHEQUE,
  :CLIENTE,
  :DATA_CADASTRO,
  :DATA_DEPOSITO,
  :USUARIO_CADASTRO
     do suspend;
end^


ALTER PROCEDURE SP_CHEQUES_BAIXAR_TITULAR (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    USUARIO_CADASTRO VARCHAR(20))
AS
begin
 for select
  CODIGO,
  CODIGO_COMPRA,
  BANCO,
  AGENCIA,
  CONTA_CORRENTE,
  CONTA_DESDE,
  TITULAR,
  TIPO_CHEQUE,
  N_CHEQUE,
  QNT,
  VALOR_CHEQUE,
  CLIENTE,
  DATA_CADASTRO,
  DATA_DEPOSITO,
  USUARIO_CADASTRO
 from   V_CHEQUES_BAIXAR
     where (TITULAR starting :Param)
  into
  :CODIGO,
  :CODIGO_COMPRA,
  :BANCO,
  :AGENCIA,
  :CONTA_CORRENTE,
  :CONTA_DESDE,
  :TITULAR,
  :TIPO_CHEQUE,
  :N_CHEQUE,
  :QNT,
  :VALOR_CHEQUE,
  :CLIENTE,
  :DATA_CADASTRO,
  :DATA_DEPOSITO,
  :USUARIO_CADASTRO
     do suspend;
end^


ALTER PROCEDURE SP_CHEQUES_PAGAMENTO_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20))
AS
begin
 for select
  CODIGO,
  CODIGO_COMPRA,
  BANCO,
  AGENCIA,
  CONTA_CORRENTE,
  CONTA_DESDE,
  TITULAR,
  TIPO_CHEQUE,
  N_CHEQUE,
  QNT,
  VALOR_CHEQUE,
  CLIENTE,
  RETORNADO_PAGO,
  MOTIVO_RETORNO,
  DATA_CADASTRO,
  DATA_DEPOSITO,
  DATA_RETORNO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_BAIXA
 from   V_CHEQUES_PAGAMENTO
     where  DATA_BAIXA between  :datai and :dataf
  into
  :CODIGO,
  :CODIGO_COMPRA,
  :BANCO,
  :AGENCIA,
  :CONTA_CORRENTE,
  :CONTA_DESDE,
  :TITULAR,
  :TIPO_CHEQUE,
  :N_CHEQUE,
  :QNT,
  :VALOR_CHEQUE,
  :CLIENTE,
  :RETORNADO_PAGO,
  :MOTIVO_RETORNO,
  :DATA_CADASTRO,
  :DATA_DEPOSITO,
  :DATA_RETORNO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_BAIXA
     do suspend;
end^


ALTER PROCEDURE SP_CHEQUES_PAGAMENTO_TITULAR (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20))
AS
begin
 for select
  CODIGO,
  CODIGO_COMPRA,
  BANCO,
  AGENCIA,
  CONTA_CORRENTE,
  CONTA_DESDE,
  TITULAR,
  TIPO_CHEQUE,
  N_CHEQUE,
  QNT,
  VALOR_CHEQUE,
  CLIENTE,
  RETORNADO_PAGO,
  MOTIVO_RETORNO,
  DATA_CADASTRO,
  DATA_DEPOSITO,
  DATA_RETORNO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_BAIXA
 from   V_CHEQUES_PAGAMENTO
     where (TITULAR starting :Param)
  into
  :CODIGO,
  :CODIGO_COMPRA,
  :BANCO,
  :AGENCIA,
  :CONTA_CORRENTE,
  :CONTA_DESDE,
  :TITULAR,
  :TIPO_CHEQUE,
  :N_CHEQUE,
  :QNT,
  :VALOR_CHEQUE,
  :CLIENTE,
  :RETORNADO_PAGO,
  :MOTIVO_RETORNO,
  :DATA_CADASTRO,
  :DATA_DEPOSITO,
  :DATA_RETORNO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_BAIXA
     do suspend;
end^


ALTER PROCEDURE SP_CHEQUES_RETORNADOS_A_BAIXAR (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
begin
 for select
  CODIGO,
  CODIGO_COMPRA,
  BANCO,
  AGENCIA,
  CONTA_CORRENTE,
  CONTA_DESDE,
  TITULAR,
  TIPO_CHEQUE,
  N_CHEQUE,
  QNT,
  VALOR_CHEQUE,
  CLIENTE,
  RETORNADO_PAGO,
  MOTIVO_RETORNO,
  DATA_CADASTRO,
  DATA_DEPOSITO,
  DATA_RETORNO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_BAIXA,
  CODIGO_CC,
  NUMERO_CC
 from   V_CHEQUES_RETORNADOS_A_PAGAR
     where  DATA_RETORNO between  :datai and :dataf
  into
  :CODIGO,
  :CODIGO_COMPRA,
  :BANCO,
  :AGENCIA,
  :CONTA_CORRENTE,
  :CONTA_DESDE,
  :TITULAR,
  :TIPO_CHEQUE,
  :N_CHEQUE,
  :QNT,
  :VALOR_CHEQUE,
  :CLIENTE,
  :RETORNADO_PAGO,
  :MOTIVO_RETORNO,
  :DATA_CADASTRO,
  :DATA_DEPOSITO,
  :DATA_RETORNO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_BAIXA,
  :CODIGO_CC,
  :NUMERO_CC
     do suspend;
end^


ALTER PROCEDURE SP_CHEQUES_RETORNADOS_BAIXADOS (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
begin
 for select
  CODIGO,
  CODIGO_COMPRA,
  BANCO,
  AGENCIA,
  CONTA_CORRENTE,
  CONTA_DESDE,
  TITULAR,
  TIPO_CHEQUE,
  N_CHEQUE,
  QNT,
  VALOR_CHEQUE,
  CLIENTE,
  RETORNADO_PAGO,
  MOTIVO_RETORNO,
  DATA_CADASTRO,
  DATA_DEPOSITO,
  DATA_RETORNO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_BAIXA,
  CODIGO_CC,
  NUMERO_CC
 from   V_CHEQUES_RETORNADOS_PAGOS
     where  DATA_RETORNO between  :datai and :dataf
  into
  :CODIGO,
  :CODIGO_COMPRA,
  :BANCO,
  :AGENCIA,
  :CONTA_CORRENTE,
  :CONTA_DESDE,
  :TITULAR,
  :TIPO_CHEQUE,
  :N_CHEQUE,
  :QNT,
  :VALOR_CHEQUE,
  :CLIENTE,
  :RETORNADO_PAGO,
  :MOTIVO_RETORNO,
  :DATA_CADASTRO,
  :DATA_DEPOSITO,
  :DATA_RETORNO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_BAIXA,
  :CODIGO_CC,
  :NUMERO_CC
     do suspend;
end^


ALTER PROCEDURE SP_CHEQUES_RETORNADOS_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_COMPRA INTEGER,
    BANCO VARCHAR(40),
    AGENCIA VARCHAR(15),
    CONTA_CORRENTE VARCHAR(15),
    CONTA_DESDE DATE,
    TITULAR VARCHAR(50),
    TIPO_CHEQUE VARCHAR(20),
    N_CHEQUE VARCHAR(15),
    QNT VARCHAR(10),
    VALOR_CHEQUE NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    RETORNADO_PAGO VARCHAR(3),
    MOTIVO_RETORNO VARCHAR(40),
    DATA_CADASTRO DATE,
    DATA_DEPOSITO DATE,
    DATA_RETORNO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
begin
 for select
  CODIGO,
  CODIGO_COMPRA,
  BANCO,
  AGENCIA,
  CONTA_CORRENTE,
  CONTA_DESDE,
  TITULAR,
  TIPO_CHEQUE,
  N_CHEQUE,
  QNT,
  VALOR_CHEQUE,
  CLIENTE,
  RETORNADO_PAGO,
  MOTIVO_RETORNO,
  DATA_CADASTRO,
  DATA_DEPOSITO,
  DATA_RETORNO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_BAIXA,
  CODIGO_CC,
  NUMERO_CC
 from   V_CHEQUES_RETORNADOS
     where  DATA_RETORNO between  :datai and :dataf
  into
  :CODIGO,
  :CODIGO_COMPRA,
  :BANCO,
  :AGENCIA,
  :CONTA_CORRENTE,
  :CONTA_DESDE,
  :TITULAR,
  :TIPO_CHEQUE,
  :N_CHEQUE,
  :QNT,
  :VALOR_CHEQUE,
  :CLIENTE,
  :RETORNADO_PAGO,
  :MOTIVO_RETORNO,
  :DATA_CADASTRO,
  :DATA_DEPOSITO,
  :DATA_RETORNO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_BAIXA,
  :CODIGO_CC,
  :NUMERO_CC
     do suspend;
end^


ALTER PROCEDURE SP_COBRANCA (
    DATAI DATE,
    DATAF DATE,
    BANCO INTEGER)
RETURNS (
    CODIGO INTEGER,
    CODIGO_CLIENTE INTEGER,
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_VENDA VARCHAR(20),
    USUARIO_BAIXA VARCHAR(20),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,4),
    VALOR_JUROS NUMERIC(18,4),
    VALOR_ACRESCIMO NUMERIC(18,4),
    VALOR_DESCONTO NUMERIC(18,4),
    VALOR_PAGAR NUMERIC(18,4),
    VALOR_PAGO NUMERIC(18,4),
    VALOR_TOTAL NUMERIC(18,4),
    CODIGO_COMPRA INTEGER,
    PARCELA VARCHAR(10),
    NUMBOLETO VARCHAR(20),
    BANCO_PORTADOR INTEGER,
    REMESSA VARCHAR(1),
    DATACREDITO DATE,
    ID_PORTADOR INTEGER,
    ENVIADO VARCHAR(1),
    COD_EMPRESA INTEGER,
    NUMBOLETO1 INTEGER,
    COD_AVALISTA INTEGER)
AS
BEGIN
  FOR
    SELECT
       V_COBRANCA.CODIGO,
       V_COBRANCA.CODIGO_CLIENTE,
       V_COBRANCA.DATA_COMPRA,
       V_COBRANCA.DATA_VENCIMENTO,
       V_COBRANCA.DATA_BAIXA,
       V_COBRANCA.HISTORICO,
       V_COBRANCA.USUARIO_VENDA,
       V_COBRANCA.USUARIO_BAIXA,
       V_COBRANCA.SITUACAO,
       V_COBRANCA.VALOR_COMPRA,
       V_COBRANCA.VALOR_JUROS,
       V_COBRANCA.VALOR_ACRESCIMO,
       V_COBRANCA.VALOR_DESCONTO,
       V_COBRANCA.VALOR_PAGAR,
       V_COBRANCA.VALOR_PAGO,
       V_COBRANCA.VALOR_TOTAL,
       V_COBRANCA.CODIGO_COMPRA,
       V_COBRANCA.PARCELA,
       V_COBRANCA.NUMBOLETO,
       V_COBRANCA.BANCO_PORTADOR,
       V_COBRANCA.REMESSA,
       V_COBRANCA.DATACREDITO,
       V_COBRANCA.ID_PORTADOR,
       V_COBRANCA.ENVIADO,
       V_COBRANCA.COD_EMPRESA,
       V_COBRANCA.NUMBOLETO1,
       V_COBRANCA.COD_AVALISTA
    FROM   V_COBRANCA
     where  DATA_VENCIMENTO between  :datai and :dataf and BANCO_PORTADOR starting :BANCO
    INTO
      :CODIGO,
      :CODIGO_CLIENTE,
      :DATA_COMPRA,
      :DATA_VENCIMENTO,
      :DATA_BAIXA,
      :HISTORICO,
      :USUARIO_VENDA,
      :USUARIO_BAIXA,
      :SITUACAO,
      :VALOR_COMPRA,
      :VALOR_JUROS,
      :VALOR_ACRESCIMO,
      :VALOR_DESCONTO,
      :VALOR_PAGAR,
      :VALOR_PAGO,
      :VALOR_TOTAL,
      :CODIGO_COMPRA,
      :PARCELA,
      :NUMBOLETO,
      :BANCO_PORTADOR,
      :REMESSA,
      :DATACREDITO,
      :ID_PORTADOR,
      :ENVIADO,
      :COD_EMPRESA,
      :NUMBOLETO1,
      :COD_AVALISTA
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_COMISSAO_AVISTA (
    VENDEDOR INTEGER,
    DATAI DATE,
    DATAF DATE,
    PERC_COMISSAO NUMERIC(18,2))
RETURNS (
    VENDA_ID INTEGER,
    VALOR_ITEM NUMERIC(18,2),
    VENDA_DATA DATE,
    CLIENTE_ID INTEGER,
    CLIENTE_NOME VARCHAR(50),
    VENDEDOR_ID INTEGER,
    VALOR_BASE NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2))
AS
BEGIN
  FOR
    SELECT
      P.CODIGO,
      PITS.PRECO_TOTAL,
      P.DATA_PEDIDO,
      P.CODIGO_CLIENTE,
      P.NOME_CLIENTE,
      PITS.VENDEDOR,
      (PITS.PRECO_TOTAL * ((P.VALOR_AVISTA * 100) / P.VALOR_TOTAL)) / 100
    FROM
        PEDIDOS_ITENS PITS
        JOIN PEDIDOS P ON(P.CODIGO = PITS.CODIGO_ID)
        WHERE P.VALOR_AVISTA > 0
        AND PITS.VENDEDOR =:VENDEDOR
        AND P.DATA_PEDIDO BETWEEN :DATAI AND :DATAF
    INTO
      :VENDA_ID,
      :VALOR_ITEM,
      :VENDA_DATA,
      :CLIENTE_ID,
      :CLIENTE_NOME,
      :VENDEDOR_ID,
      :VALOR_BASE
  DO
  BEGIN
    VALOR_COMISSAO = (PERC_COMISSAO * VALOR_BASE) / 100;
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_COMISSAO_PRAZO (
    VENDEDOR INTEGER,
    DATAI DATE,
    DATAF DATE,
    PERC_COMISSAO NUMERIC(18,2))
RETURNS (
    VENDA_ID INTEGER,
    VALOR_ITEM NUMERIC(18,2),
    VENDA_DATA DATE,
    CLIENTE_ID INTEGER,
    CLIENTE_NOME VARCHAR(50),
    VENDEDOR_ID INTEGER,
    VALOR_BASE NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2))
AS
BEGIN
  FOR
    SELECT
      P.CODIGO,
      PITS.PRECO_TOTAL,
      P.DATA_PEDIDO,
      P.CODIGO_CLIENTE,
      P.NOME_CLIENTE,
      PITS.VENDEDOR,
      IIF(((PITS.PRECO_TOTAL * (((SELECT SUM((CDR.VALOR_PAGO + CDR.DESCONTO) - (CDR.JUROS + CDR.MULTA))
                                FROM CREDIARIO CD
                                JOIN CREDIARIO_RECEBIDO CDR ON(CDR.COD_CREDIAIRIO = CD.CODIGO)
                                JOIN PEDIDOS PD ON(PD.CODIGO = CD.CODIGO_COMPRA)
                                WHERE PD.CODIGO = P.CODIGO
                                AND CDR.VALOR_PAGO > 0
                                AND CDR.DATA_BAIXA BETWEEN :DATAI AND :DATAF) * 100) / P.VALOR_PRAZO)) / 100) + 0.99 >= PITS.PRECO_TOTAL,
                                PITS.PRECO_TOTAL,
                                ((PITS.PRECO_TOTAL * (((SELECT SUM((CDR.VALOR_PAGO + CDR.DESCONTO) - (CDR.JUROS + CDR.MULTA))
                                FROM CREDIARIO CD
                                JOIN CREDIARIO_RECEBIDO CDR ON(CDR.COD_CREDIAIRIO = CD.CODIGO)
                                JOIN PEDIDOS PD ON(PD.CODIGO = CD.CODIGO_COMPRA)
                                WHERE PD.CODIGO = P.CODIGO
                                AND CDR.VALOR_PAGO > 0
                                AND CDR.DATA_BAIXA BETWEEN :DATAI AND :DATAF) * 100) / P.VALOR_PRAZO)) / 100))
    FROM
        PEDIDOS_ITENS PITS
        JOIN PEDIDOS P ON(P.CODIGO = PITS.CODIGO_ID)
        WHERE P.VALOR_PRAZO > 0
        AND PITS.VENDEDOR =:VENDEDOR
        AND P.CODIGO IN(SELECT DISTINCT CD.CODIGO_COMPRA
                        FROM CREDIARIO CD
                        JOIN CREDIARIO_RECEBIDO CDR ON(CDR.COD_CREDIAIRIO = CD.CODIGO)
                        WHERE CDR.VALOR_PAGO > 0
                        AND CDR.DATA_BAIXA BETWEEN :DATAI AND :DATAF)
    INTO
      :VENDA_ID,
      :VALOR_ITEM,
      :VENDA_DATA,
      :CLIENTE_ID,
      :CLIENTE_NOME,
      :VENDEDOR_ID,
      :VALOR_BASE
  DO
  BEGIN
    VALOR_COMISSAO = (PERC_COMISSAO * VALOR_BASE) / 100;
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_COMISSAO_VENDA (
    VEND INTEGER,
    PROD_TP VARCHAR(1),
    DATAI DATE,
    DATAF DATE,
    PERC_COMISSAO NUMERIC(18,2))
RETURNS (
    DATA_PEDIDO DATE,
    CODIGO_PROD INTEGER,
    DESCRICAO_PRODUTO VARCHAR(50),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    PRECO_TOTAL NUMERIC(18,2),
    VENDEDOR INTEGER,
    USUARIO VARCHAR(30),
    COMISSAO_REC NUMERIC(18,2),
    PROD_SERV VARCHAR(1),
    VALOR_BASE NUMERIC(18,2),
    N_VENDA INTEGER,
    NOME_CLIENTE VARCHAR(50),
    QUANTIDADE NUMERIC(18,3))
AS
BEGIN
  FOR
    SELECT
    PEDIDOS.DATA_PEDIDO,
    PEDIDOS_ITENS.CODIGO_PROD,
    PEDIDOS_ITENS.DESCRICAO_PRODUTO,
    PEDIDOS_ITENS.PRECO_UNITARIO,
    PEDIDOS_ITENS.DESCONTO,
    PEDIDOS_ITENS.PRECO_TOTAL,
    PEDIDOS_ITENS.VENDEDOR,
    USUARIOS.USUARIO,
    produtos.prod_serv,
    PEDIDOS.codigo,
    PEDIDOS.nome_cliente,
    PEDIDOS_ITENS.quantidade
    FROM
     PEDIDOS
      INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
       INNER JOIN PRODUTOS ON (PRODUTOS.CODIGO=PEDIDOS_ITENS.CODIGO_PROD)
      INNER JOIN USUARIOS ON (PEDIDOS_ITENS.VENDEDOR=USUARIOS.CODIGO)
        where PEDIDOS_ITENS.VENDEDOR =:Vend AND PRODUTOS.PROD_SERV =:PROD_TP and DATA_PEDIDO between  :datai and :dataf
INTO
      :DATA_PEDIDO,
      :CODIGO_PROD,
      :DESCRICAO_PRODUTO,
      :PRECO_UNITARIO,
      :DESCONTO,
      :PRECO_TOTAL,
      :VENDEDOR,
      :USUARIO,
      :PROD_SERV,
      :N_VENDA,
      :NOME_CLIENTE,
      :QUANTIDADE
  DO
  BEGIN
    COMISSAO_REC =(PERC_COMISSAO * ((PRECO_UNITARIO * QUANTIDADE) -DESCONTO))/100;
    VALOR_BASE = ((PRECO_UNITARIO * QUANTIDADE)-DESCONTO);
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_COMISSAO_VENDA_RESUMO (
    VEND INTEGER,
    DATAI DATE,
    DATAF DATE,
    PROD_TP VARCHAR(1),
    PERC_COMISSAO NUMERIC(18,2))
RETURNS (
    DATA_PEDIDO DATE,
    NOME_CLIENTE VARCHAR(70),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    PRECO_TOTAL NUMERIC(18,2),
    VENDEDOR INTEGER,
    USUARIO VARCHAR(30),
    COMISSAO_REC NUMERIC(18,2),
    VALOR_BASE NUMERIC(18,2),
    N_VENDA INTEGER)
AS
BEGIN
FOR
    SELECT
    PEDIDOS.DATA_PEDIDO,
    pedidos.nome_cliente,
    SUM(PEDIDOS_ITENS.PRECO_UNITARIO) AS PRECO_UNITARIO,
    SUM(PEDIDOS_ITENS.DESCONTO) AS DESCONTO,
    SUM(PEDIDOS_ITENS.PRECO_TOTAL) AS PRECO_TOTAL,
    PEDIDOS_ITENS.VENDEDOR,
    USUARIOS.USUARIO,
    PEDIDOS.codigo AS N_VENDA
    FROM
     PEDIDOS
      INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
       INNER JOIN PRODUTOS ON (PRODUTOS.CODIGO=PEDIDOS_ITENS.CODIGO_PROD)
      INNER JOIN USUARIOS ON (PEDIDOS_ITENS.VENDEDOR=USUARIOS.CODIGO)
        where PEDIDOS_ITENS.VENDEDOR =:Vend AND PRODUTOS.PROD_SERV =:PROD_TP AND DATA_PEDIDO between  :datai and :dataf
   GROUP BY
      PEDIDOS.DATA_PEDIDO,
      pedidos.nome_cliente,
      PEDIDOS_ITENS.VENDEDOR,
      USUARIOS.USUARIO,
      PEDIDOS.codigo
INTO
      :DATA_PEDIDO,
      :NOME_CLIENTE,
      :PRECO_UNITARIO,
      :DESCONTO,
      :PRECO_TOTAL,
      :VENDEDOR,
      :USUARIO,
      :N_VENDA
  DO
  BEGIN
    COMISSAO_REC =(PERC_COMISSAO * (PRECO_TOTAL -DESCONTO))/100;
    VALOR_BASE = (PRECO_TOTAL -DESCONTO);
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_COMISSAO_VENDA_S (
    VEND INTEGER,
    PROD_TP VARCHAR(1),
    DATAI DATE,
    DATAF DATE,
    PERC_COMISSAO NUMERIC(18,2))
RETURNS (
    DATA_PEDIDO DATE,
    CODIGO_PROD INTEGER,
    DESCRICAO_PRODUTO VARCHAR(50),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    PRECO_TOTAL NUMERIC(18,2),
    VENDEDOR INTEGER,
    USUARIO VARCHAR(30),
    COMISSAO_REC NUMERIC(18,2),
    PROD_SERV VARCHAR(1),
    VALOR_BASE NUMERIC(18,2),
    N_VENDA INTEGER,
    NOME_CLIENTE VARCHAR(50),
    QUANTIDADE NUMERIC(18,3))
AS
BEGIN
  FOR
    SELECT
    PEDIDOS.DATA_PEDIDO,
    PEDIDOS_ITENS.CODIGO_PROD,
    PEDIDOS_ITENS.DESCRICAO_PRODUTO,
    PEDIDOS_ITENS.PRECO_UNITARIO,
    PEDIDOS_ITENS.DESCONTO,
    PEDIDOS_ITENS.PRECO_TOTAL,
    PEDIDOS_ITENS.VENDEDOR,
    USUARIOS.USUARIO,
    produtos.prod_serv,
    PEDIDOS.codigo,
    PEDIDOS.nome_cliente,
    PEDIDOS_ITENS.quantidade
    FROM
     PEDIDOS
      INNER JOIN PEDIDOS_ITENS ON (PEDIDOS.CODIGO=PEDIDOS_ITENS.CODIGO_ID)
       INNER JOIN PRODUTOS ON (PRODUTOS.CODIGO=PEDIDOS_ITENS.CODIGO_PROD)
      INNER JOIN USUARIOS ON (PEDIDOS_ITENS.VENDEDOR=USUARIOS.CODIGO)
        where PEDIDOS_ITENS.VENDEDOR =:Vend AND PRODUTOS.PROD_SERV =:PROD_TP and DATA_PEDIDO between  :datai and :dataf
INTO
      :DATA_PEDIDO,
      :CODIGO_PROD,
      :DESCRICAO_PRODUTO,
      :PRECO_UNITARIO,
      :DESCONTO,
      :PRECO_TOTAL,
      :VENDEDOR,
      :USUARIO,
      :PROD_SERV,
      :N_VENDA,
      :NOME_CLIENTE,
      :QUANTIDADE
  DO
  BEGIN
  COMISSAO_REC =(PERC_COMISSAO * ((PRECO_UNITARIO * QUANTIDADE) -DESCONTO))/100;
    VALOR_BASE = ((PRECO_UNITARIO * QUANTIDADE)-DESCONTO);
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_COND_PAGTO_VENDA (
    ID_VENDA INTEGER)
RETURNS (
    TITULO INTEGER,
    TIPO_PAGTO VARCHAR(100),
    PARCELA VARCHAR(10),
    DATA_VENCIMENTO DATE,
    VALOR NUMERIC(18,2))
AS
DECLARE VARIABLE TITUL INTEGER;
DECLARE VARIABLE TOTAL DECIMAL(18,2);
DECLARE VARIABLE VECTO DATE;
DECLARE VARIABLE PARC  VARCHAR (10) CHARACTER SET NONE;
BEGIN
   
  FOR SELECT CODIGO_VENDA, DATA, VALOR_ENTRADA, ORIGEM FROM movimento_diario A WHERE
  ORIGEM='VEN' AND VALOR_ENTRADA > 0 AND CODIGO_VENDA= :ID_VENDA
   INTO
   :TITULO,
   :VECTO,
   :VALOR,
   :PARC
   DO
   BEGIN
   TIPO_PAGTO = 'DINHEIRO';
   TITUL = TITULO;
   TOTAL = VALOR;
   SUSPEND;
  END

 FOR SELECT CODIGO_VENDA, DATA, VALOR_ENTRADA, ORIGEM FROM movimento_diario A WHERE
  ORIGEM='CON' AND CODIGO_VENDA= :ID_VENDA
   INTO
   :TITULO,
   :VECTO,
   :VALOR,
   :PARC
   DO
   BEGIN
   TIPO_PAGTO = 'CONSUMO';
   TITUL = TITULO;
   TOTAL = VALOR;
   SUSPEND;
  END
  
  FOR SELECT CODIGO_VENDA, DATA, VALOR_ENTRADA, ORIGEM FROM movimento_diario A WHERE
  ORIGEM='DAN'  AND CODIGO_VENDA= :ID_VENDA
   INTO
   :TITULO,
   :VECTO,
   :VALOR,
   :PARC
   DO
   BEGIN
   TIPO_PAGTO = 'DANIFICADO';
   TITUL = TITULO;
   TOTAL = VALOR;
   SUSPEND;
  END
  
  FOR SELECT CODIGO_VENDA, DATA, VALOR_ENTRADA, ORIGEM FROM movimento_diario A WHERE
  ORIGEM='BRI' AND CODIGO_VENDA= :ID_VENDA
   INTO
   :TITULO,
   :VECTO,
   :VALOR,
   :PARC
   DO
   BEGIN
   TIPO_PAGTO = 'BRINDE';
   TITUL = TITULO;
   TOTAL = VALOR;
   SUSPEND;
  END
  
   FOR SELECT CODIGO_VENDA, DATA, VALOR_ENTRADA, ORIGEM FROM movimento_diario A WHERE
  ORIGEM='GAR' AND CODIGO_VENDA= :ID_VENDA
   INTO
   :TITULO,
   :VECTO,
   :VALOR,
   :PARC
   DO
   BEGIN
   TIPO_PAGTO = 'GARANTIA';
   TITUL = TITULO;
   TOTAL = VALOR;
   SUSPEND;
  END
  
  FOR SELECT CODIGO_VENDA, DATA, VALOR_ENTRADA, ORIGEM FROM movimento_diario F WHERE
  ORIGEM='VAL' AND CODIGO_VENDA= :ID_VENDA
   INTO
   :TITULO,
   :VECTO,
   :VALOR,
   :PARC
   DO
   BEGIN
   TIPO_PAGTO = 'VALE-TROCO';
   TITUL = TITULO;
   TOTAL = VALOR;
   SUSPEND;
  END
  
FOR SELECT CODIGO_COMPRA, DATA_VENCIMENTO, VALOR_COMPRA, PARCELA FROM CREDIARIO C WHERE
   CODIGO_COMPRA= :ID_VENDA
   INTO
   :TITULO,
   :DATA_VENCIMENTO,
   :VALOR,
   :PARCELA
   DO
    BEGIN
    TIPO_PAGTO = 'A PRAZO';
    TITUL = TITULO;
    VECTO = DATA_VENCIMENTO;
    TOTAL = VALOR;
    PARC  = PARCELA;
    SUSPEND;
  END

FOR SELECT COD_VEN, VENCIMENTO, VALOR, PARCELA FROM contas_receber_adm_cartao D WHERE
   COD_VEN= :ID_VENDA
   INTO
   :TITULO,
   :DATA_VENCIMENTO,
   :VALOR,
   :PARCELA
   DO
    BEGIN
    TIPO_PAGTO = 'NO CARTAO';
    TITUL = TITULO;
    VECTO = DATA_VENCIMENTO;
    TOTAL = VALOR;
    PARC  = PARCELA;
    SUSPEND;
  END

FOR SELECT CODIGO_COMPRA, DATA_DEPOSITO, VALOR_CHEQUE, QNT FROM CHEQUES C WHERE
   CODIGO_COMPRA= :ID_VENDA
   INTO
   :TITULO,
   :DATA_VENCIMENTO,
   :VALOR,
   :PARCELA
   DO
   BEGIN
    TIPO_PAGTO = 'EM CHEQUE';
    TITUL = TITULO;
    VECTO = DATA_VENCIMENTO;
    TOTAL = VALOR;
    PARC  = PARCELA;
   SUSPEND;
   END
   
FOR SELECT COD_VENDA, DATA, VALOR, PARC FROM PEDIDOS_CHEQUES_DIN CH WHERE
   COD_VENDA= :ID_VENDA
   INTO
   :TITULO,
   :DATA_VENCIMENTO,
   :VALOR,
   :PARCELA
   DO
   BEGIN
    TIPO_PAGTO = 'EM CHEQUE';
    TITUL = TITULO;
    VECTO = DATA_VENCIMENTO;
    TOTAL = VALOR;
    PARC  = PARCELA;
   SUSPEND;
   end
end^


ALTER PROCEDURE SP_CONS_EXTORNO_COMISSAO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_EST VARCHAR(20),
    USUARIO_PEDIDO VARCHAR(20),
    VALOR NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(20))
AS
begin
 for select
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO_EST,
  USUARIO_PEDIDO,
  VALOR,
  CLIENTE,
  PAGAMENTO
 from   EST_COM_RET_PEDIDOS
  where  DATA between  :datai and :dataf and USUARIO_PEDIDO starting :Param
  into
  :CODIGO,
  :DATA,
  :HISTORICO,
  :USUARIO_EST,
  :USUARIO_PEDIDO,
  :VALOR,
  :CLIENTE,
  :PAGAMENTO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_A_FOR (
    PARAM VARCHAR(50),
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
    CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_AUTORIZADA
     where (FORNECEDOR starting :Param AND DATA_EMISSAO between  :datai and :dataf)
  into
:CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_A_FORF (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
    CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_AUTORIZADAS_FOR
     where (FORNECEDOR starting :Param)
  into
:CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_A_FORP (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
    CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_AUTORIZADAS_PLC
     where (FORNECEDOR starting :Param)
  into
:CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_A_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_AUTORIZADA
     where  DATA_VENCIMENTO between  :datai and :dataf
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_A_PERIODO_FOR (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_AUTORIZADAS_FOR
     where  DATA_VENCIMENTO between  :datai and :dataf
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_A_PERIODO_PLC (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_AUTORIZADAS_PLC
     where  DATA_VENCIMENTO between  :datai and :dataf
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_NA_FOR (
    PARAM VARCHAR(50),
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAR
     where (FORNECEDOR starting :Param AND DATA_EMISSAO between  :datai and :dataf)
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_NA_FORF (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAR_FOR
     where (FORNECEDOR starting :Param)
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_NA_FORP (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAR_PLC
     where (FORNECEDOR starting :Param)
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_NA_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAR
     where  DATA_VENCIMENTO between  :datai and :dataf
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_NA_PERIODO_FOR (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAR_FOR
     where  DATA_VENCIMENTO between  :datai and :dataf
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_NA_PERIODO_PLC (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    USUARIO_CADASTRO VARCHAR(30),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  USUARIO_CADASTRO,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAR_PLC
     where  DATA_VENCIMENTO between  :datai and :dataf
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :USUARIO_CADASTRO,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_P_FOR (
    PARAM VARCHAR(50),
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  USUARIO_BAIXA,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAS
    where (FORNECEDOR starting :Param AND  DATA_BAIXA between  :datai and :dataf)
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :USUARIO_BAIXA,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_P_FORF (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  USUARIO_BAIXA,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAS_FOR
    where (FORNECEDOR starting :Param)
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :USUARIO_BAIXA,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_P_FORP (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  USUARIO_BAIXA,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAS_PLC
    where (FORNECEDOR starting :Param)
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :USUARIO_BAIXA,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_P_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  USUARIO_BAIXA,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAS
     where  DATA_BAIXA between  :datai and :dataf
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :USUARIO_BAIXA,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_P_PERIODO_FOR (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  USUARIO_BAIXA,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAS_FOR
     where  DATA_BAIXA between  :datai and :dataf
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :USUARIO_BAIXA,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTAS_PAGAR_P_PERIODO_PLC (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA_CADASTRO DATE,
    DATA_EMISSAO DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    USUARIO_CADASTRO VARCHAR(30),
    USUARIO_AUTORIZACAO VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    DESCONTO NUMERIC(18,4),
    MULTA NUMERIC(18,4),
    JUROS NUMERIC(18,4),
    TIPO_DOCUMENTO VARCHAR(50),
    FORNECEDOR VARCHAR(50),
    VALOR_DOCUMENTO NUMERIC(18,4),
    VALOR_PARCELA NUMERIC(18,4),
    VALOR_BAIXA NUMERIC(18,4),
    N_DOCUMENTO VARCHAR(10),
    PARCELA VARCHAR(5),
    SERIE VARCHAR(5),
    AUTORIZACAO CHAR(1))
AS
begin
 for select
  CODIGO,
  DATA_CADASTRO,
  DATA_EMISSAO,
  DATA_VENCIMENTO,
  DATA_BAIXA,
  USUARIO_CADASTRO,
  USUARIO_AUTORIZACAO,
  USUARIO_BAIXA,
  DESCONTO,
  MULTA,
  JUROS,
  TIPO_DOCUMENTO,
  FORNECEDOR,
  VALOR_DOCUMENTO,
  VALOR_PARCELA,
  VALOR_BAIXA,
  N_DOCUMENTO,
  PARCELA,
  SERIE,
  AUTORIZACAO
 from   V_CONTAS_PAGAS_PLC
     where  DATA_BAIXA between  :datai and :dataf
  into
  :CODIGO,
  :DATA_CADASTRO,
  :DATA_EMISSAO,
  :DATA_VENCIMENTO,
  :DATA_BAIXA,
  :USUARIO_CADASTRO,
  :USUARIO_AUTORIZACAO,
  :USUARIO_BAIXA,
  :DESCONTO,
  :MULTA,
  :JUROS,
  :TIPO_DOCUMENTO,
  :FORNECEDOR,
  :VALOR_DOCUMENTO,
  :VALOR_PARCELA,
  :VALOR_BAIXA,
  :N_DOCUMENTO,
  :PARCELA,
  :SERIE,
  :AUTORIZACAO
     do suspend;
end^


ALTER PROCEDURE SP_CONTASPAGAR_DEL (
    NOTA INTEGER)
AS
begin
   DELETE
FROM CONTAS_APAGAR where CODNOTA =:NOTA;
end^


ALTER PROCEDURE SP_CREDIARIO (
    CODIGO_COMPRA INTEGER,
    CODIGO_CLIENTE INTEGER,
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    HISTORICO VARCHAR(70),
    USUARIO_VENDA VARCHAR(20),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,2),
    VALOR_JUROS NUMERIC(18,2),
    VALOR_ACRESCIMO NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_PAGO NUMERIC(18,2),
    PARCELA VARCHAR(10),
    COD_EMPRESA INTEGER,
    TIPO VARCHAR(10),
    NOME_SACADO VARCHAR(70),
    ANO VARCHAR(4),
    MES VARCHAR(2),
    ID_CONTRATO INTEGER,
    VLR_GRAFICA NUMERIC(18,2),
    N_OS VARCHAR(10))
AS
begin
     insert into CREDIARIO
(
  CODIGO_COMPRA,
  CODIGO_CLIENTE,
  DATA_COMPRA,
  DATA_VENCIMENTO,
  HISTORICO,
  USUARIO_VENDA,
  SITUACAO,
  VALOR_COMPRA,
  VALOR_JUROS,
  VALOR_ACRESCIMO,
  VALOR_DESCONTO,
  VALOR_PAGO,
  PARCELA,
  COD_EMPRESA,
  TIPO,
  NOME_SACADO,
  ANO,
  MES,
  ID_CONTRATO,
  vlr_grafica,
  N_OS)
  values
  (
  :CODIGO_COMPRA,
  :CODIGO_CLIENTE,
  :DATA_COMPRA,
  :DATA_VENCIMENTO,
  :HISTORICO,
  :USUARIO_VENDA,
  :SITUACAO,
  :VALOR_COMPRA,
  :VALOR_JUROS,
  :VALOR_ACRESCIMO,
  :VALOR_DESCONTO,
  :VALOR_PAGO,
  :PARCELA,
  :COD_EMPRESA,
  :TIPO,
  :NOME_SACADO,
  :ANO,
  :MES,
  :ID_CONTRATO,
  :Vlr_grafica,
  :N_OS
);
end^


ALTER PROCEDURE SP_CREDIARIO_CONV (
    CODIGO_COMPRA INTEGER,
    CODIGO_CLIENTE INTEGER,
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    HISTORICO VARCHAR(70),
    USUARIO_VENDA VARCHAR(20),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,2),
    VALOR_JUROS NUMERIC(18,2),
    VALOR_ACRESCIMO NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_PAGO NUMERIC(18,2),
    PARCELA VARCHAR(10),
    COD_EMPRESA INTEGER,
    TIPO VARCHAR(10),
    NOME_SACADO VARCHAR(70),
    ANO VARCHAR(4),
    MES VARCHAR(2),
    ID_CONTRATO INTEGER,
    VLR_GRAFICA NUMERIC(18,2),
    N_OS VARCHAR(10),
    COD_CONV INTEGER)
AS
begin
     insert into CREDIARIO
(
  CODIGO_COMPRA,
  CODIGO_CLIENTE,
  DATA_COMPRA,
  DATA_VENCIMENTO,
  HISTORICO,
  USUARIO_VENDA,
  SITUACAO,
  VALOR_COMPRA,
  VALOR_JUROS,
  VALOR_ACRESCIMO,
  VALOR_DESCONTO,
  VALOR_PAGO,
  PARCELA,
  COD_EMPRESA,
  TIPO,
  NOME_SACADO,
  ANO,
  MES,
  ID_CONTRATO,
  vlr_grafica,
  N_OS,
  COD_CONV)
  values
  (
  :CODIGO_COMPRA,
  :CODIGO_CLIENTE,
  :DATA_COMPRA,
  :DATA_VENCIMENTO,
  :HISTORICO,
  :USUARIO_VENDA,
  :SITUACAO,
  :VALOR_COMPRA,
  :VALOR_JUROS,
  :VALOR_ACRESCIMO,
  :VALOR_DESCONTO,
  :VALOR_PAGO,
  :PARCELA,
  :COD_EMPRESA,
  :TIPO,
  :NOME_SACADO,
  :ANO,
  :MES,
  :ID_CONTRATO,
  :Vlr_grafica,
  :N_OS,
  :COD_CONV
);
end^


ALTER PROCEDURE SP_CREDIARIO_DEL (
    CODIGO_COMPRA INTEGER)
AS
begin
   DELETE
FROM CREDIARIO where codigo_COMPRA =:CODIGO_COMPRA;
end^


ALTER PROCEDURE SP_CREDIARIO_FRETE (
    CODIGO_COMPRA INTEGER,
    CODIGO_CLIENTE INTEGER,
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    HISTORICO VARCHAR(70),
    USUARIO_VENDA VARCHAR(20),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,2),
    VALOR_JUROS NUMERIC(18,2),
    VALOR_ACRESCIMO NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_PAGO NUMERIC(18,2),
    PARCELA VARCHAR(10),
    COD_EMPRESA INTEGER,
    TIPO VARCHAR(10),
    NOME_SACADO VARCHAR(70),
    ANO VARCHAR(4),
    MES VARCHAR(2),
    ID_CONTRATO INTEGER,
    VLR_GRAFICA NUMERIC(18,2),
    N_OS VARCHAR(10),
    COD_FRETE INTEGER)
AS
begin
     insert into CREDIARIO
(
  CODIGO_COMPRA,
  CODIGO_CLIENTE,
  DATA_COMPRA,
  DATA_VENCIMENTO,
  HISTORICO,
  USUARIO_VENDA,
  SITUACAO,
  VALOR_COMPRA,
  VALOR_JUROS,
  VALOR_ACRESCIMO,
  VALOR_DESCONTO,
  VALOR_PAGO,
  PARCELA,
  COD_EMPRESA,
  TIPO,
  NOME_SACADO,
  ANO,
  MES,
  ID_CONTRATO,
  vlr_grafica,
  N_OS,
  COD_FRETE)
  values
  (
  :CODIGO_COMPRA,
  :CODIGO_CLIENTE,
  :DATA_COMPRA,
  :DATA_VENCIMENTO,
  :HISTORICO,
  :USUARIO_VENDA,
  :SITUACAO,
  :VALOR_COMPRA,
  :VALOR_JUROS,
  :VALOR_ACRESCIMO,
  :VALOR_DESCONTO,
  :VALOR_PAGO,
  :PARCELA,
  :COD_EMPRESA,
  :TIPO,
  :NOME_SACADO,
  :ANO,
  :MES,
  :ID_CONTRATO,
  :Vlr_grafica,
  :N_OS,
  :COD_FRETE
);
end^


ALTER PROCEDURE SP_CREDIARIO_HOTEL (
    CODIGO_COMPRA INTEGER,
    CODIGO_CLIENTE INTEGER,
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    HISTORICO VARCHAR(50),
    USUARIO_VENDA VARCHAR(20),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,2),
    VALOR_JUROS NUMERIC(18,2),
    VALOR_ACRESCIMO NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_PAGO NUMERIC(18,2),
    PARCELA VARCHAR(10),
    COD_EMPRESA INTEGER,
    TIPO VARCHAR(10),
    NOME_SACADO VARCHAR(50),
    ANO VARCHAR(4),
    MES VARCHAR(2),
    ID_CONTRATO INTEGER,
    VLR_GRAFICA NUMERIC(18,2),
    N_OS VARCHAR(10),
    COD_ENTRADA VARCHAR(6))
AS
begin
     insert into CREDIARIO
(
  CODIGO_COMPRA,
  CODIGO_CLIENTE,
  DATA_COMPRA,
  DATA_VENCIMENTO,
  HISTORICO,
  USUARIO_VENDA,
  SITUACAO,
  VALOR_COMPRA,
  VALOR_JUROS,
  VALOR_ACRESCIMO,
  VALOR_DESCONTO,
  VALOR_PAGO,
  PARCELA,
  COD_EMPRESA,
  TIPO,
  NOME_SACADO,
  ANO,
  MES,
  ID_CONTRATO,
  vlr_grafica,
  N_OS,
  COD_ENTRADA)
  values
  (
  :CODIGO_COMPRA,
  :CODIGO_CLIENTE,
  :DATA_COMPRA,
  :DATA_VENCIMENTO,
  :HISTORICO,
  :USUARIO_VENDA,
  :SITUACAO,
  :VALOR_COMPRA,
  :VALOR_JUROS,
  :VALOR_ACRESCIMO,
  :VALOR_DESCONTO,
  :VALOR_PAGO,
  :PARCELA,
  :COD_EMPRESA,
  :TIPO,
  :NOME_SACADO,
  :ANO,
  :MES,
  :ID_CONTRATO,
  :Vlr_grafica,
  :N_OS,
  :COD_ENTRADA
);
end^


ALTER PROCEDURE SP_CREDIARIO_JUROS_DIA (
    CODIGO INTEGER,
    VALOR_JUROS NUMERIC(18,2),
    JUROS NUMERIC(18,2),
    VALOR_ACRESCIMO NUMERIC(18,2),
    MULTA NUMERIC(18,2),
    DIAS_VENC INTEGER)
AS
begin
     update CREDIARIO set VALOR_JUROS = ((((VALOR_COMPRA - VALOR_PAGO) * :JUROS) /100) + COALESCE(JUROS_POSTERGADOS,0)),
     VALOR_ACRESCIMO =(VALOR_COMPRA * :MULTA) /100, DIAS_VENCIDO =:DIAS_VENC
     where CODIGO=:CODIGO;
end^


ALTER PROCEDURE SP_CREDIARIO_RECEBER_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_CLIENTE INTEGER,
    CODIGO_COMPRA INTEGER,
    PARCELA CHAR(10),
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_VENDA VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,4),
    VALOR_JUROS NUMERIC(18,4),
    VALOR_ACRESCIMO NUMERIC(18,4),
    VALOR_DESCONTO NUMERIC(18,4),
    VALOR_PAGAR NUMERIC(18,4),
    VALOR_PAGO NUMERIC(18,4),
    VALOR_TOTAL NUMERIC(18,4),
    NOME_SACADO VARCHAR(50))
AS
begin
 for select
  CODIGO,
  CODIGO_CLIENTE,
  CODIGO_COMPRA,
  PARCELA,
  DATA_COMPRA,
  DATA_VENCIMENTO,
  DATA_BAIXA,
  HISTORICO,
  USUARIO_VENDA,
  USUARIO_BAIXA,
  SITUACAO,
  VALOR_COMPRA,
  VALOR_JUROS,
  VALOR_ACRESCIMO,
  VALOR_DESCONTO,
  VALOR_PAGAR,
  VALOR_PAGO,
  VALOR_TOTAL,
  NOME_SACADO
 from   CREDIARIO
     where SITUACAO ='A' AND DATA_VENCIMENTO between  :datai and :dataf
  into
  :CODIGO,
  :CODIGO_CLIENTE,
  :CODIGO_COMPRA,
  :PARCELA,
  :DATA_COMPRA,
  :DATA_VENCIMENTO,
  :DATA_BAIXA,
  :HISTORICO,
  :USUARIO_VENDA,
  :USUARIO_BAIXA,
  :SITUACAO,
  :VALOR_COMPRA,
  :VALOR_JUROS,
  :VALOR_ACRESCIMO,
  :VALOR_DESCONTO,
  :VALOR_PAGAR,
  :VALOR_PAGO,
  :VALOR_TOTAL,
  :NOME_SACADO
     do suspend;
end^


ALTER PROCEDURE SP_CREDIARIO_RECEBIDO (
    CODIGO INTEGER,
    COD_CREDIAIRIO INTEGER,
    COD_EMPRESA INTEGER,
    PARCELA VARCHAR(6),
    VALOR_PARCELA NUMERIC(18,2),
    JUROS NUMERIC(18,2),
    MULTA NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    DATA_BAIXA DATE,
    USUARIO VARCHAR(20),
    COD_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    COD_COMPRA INTEGER,
    SALDO_PAGAR NUMERIC(18,2),
    DATA_VENCIMENTO DATE,
    VALOR_PAGO NUMERIC(18,2),
    DOC_REC_ADM INTEGER)
AS
BEGIN
 insert into CREDIARIO_RECEBIDO
(
  CODIGO,
  COD_CREDIAIRIO,
  COD_EMPRESA,
  PARCELA,
  VALOR_PARCELA,
  JUROS,
  MULTA,
  DESCONTO,
  VALOR_TOTAL,
  DATA_BAIXA,
  USUARIO,
  COD_cliente,
  nome_cliente,
  cod_compra,
  saldo_pagar,
  data_vencimento,
  VALOR_PAGO,
  DOC_REC_ADM)
     values (
  : CODIGO,
  :COD_CREDIAIRIO,
  :COD_EMPRESA,
  :PARCELA,
  :VALOR_PARCELA,
  :JUROS,
  :MULTA,
  :DESCONTO,
  :VALOR_TOTAL,
  :DATA_BAIXA,
  :USUARIO,
  :COD_cliente,
  :nome_cliente,
  :cod_compra,
  :saldo_pagar,
  :data_vencimento,
  :VALOR_PAGO,
  :DOC_REC_ADM
);
end^


ALTER PROCEDURE SP_CREDIARIO_RECEBIDO_P (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    COD_CREDIAIRIO INTEGER,
    COD_EMPRESA INTEGER,
    PARCELA VARCHAR(6),
    VALOR_PARCELA NUMERIC(18,2),
    JUROS NUMERIC(18,2),
    MULTA NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    DATA_BAIXA DATE,
    USUARIO VARCHAR(20),
    COD_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    COD_COMPRA INTEGER,
    VALOR_PAGO NUMERIC(18,2),
    SALDO_PAGAR NUMERIC(18,2),
    DATA_VENCIMENTO DATE)
AS
BEGIN
  FOR
    SELECT DISTINCT 
      CREDIARIO_RECEBIDO.CODIGO,
      CREDIARIO_RECEBIDO.COD_CREDIAIRIO,
      CREDIARIO_RECEBIDO.COD_EMPRESA,
      CREDIARIO_RECEBIDO.PARCELA,
      CREDIARIO_RECEBIDO.VALOR_PARCELA,
      CREDIARIO_RECEBIDO.JUROS,
      CREDIARIO_RECEBIDO.MULTA,
      CREDIARIO_RECEBIDO.DESCONTO,
      CREDIARIO_RECEBIDO.VALOR_TOTAL,
      CREDIARIO_RECEBIDO.DATA_BAIXA,
      CREDIARIO_RECEBIDO.USUARIO,
      CREDIARIO_RECEBIDO.COD_CLIENTE,
      CREDIARIO_RECEBIDO.NOME_CLIENTE,
      CREDIARIO_RECEBIDO.COD_COMPRA,
      CREDIARIO_RECEBIDO.VALOR_PAGO,
      CREDIARIO_RECEBIDO.SALDO_PAGAR,
      CREDIARIO_RECEBIDO.DATA_VENCIMENTO
    FROM
     CREDIARIO_RECEBIDO
        where  DATA_BAIXA between  :datai and :dataf
    INTO
      :CODIGO,
      :COD_CREDIAIRIO,
      :COD_EMPRESA,
      :PARCELA,
      :VALOR_PARCELA,
      :JUROS,
      :MULTA,
      :DESCONTO,
      :VALOR_TOTAL,
      :DATA_BAIXA,
      :USUARIO,
      :COD_CLIENTE,
      :NOME_CLIENTE,
      :COD_COMPRA,
      :VALOR_PAGO,
      :SALDO_PAGAR,
      :DATA_VENCIMENTO
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_CREDIARIO_RECEBIDO_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    CODIGO_CLIENTE INTEGER,
    PARCELA CHAR(10),
    DATA_COMPRA DATE,
    DATA_VENCIMENTO DATE,
    DATA_BAIXA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_VENDA VARCHAR(30),
    USUARIO_BAIXA VARCHAR(30),
    SITUACAO CHAR(1),
    VALOR_COMPRA NUMERIC(18,4),
    VALOR_JUROS NUMERIC(18,4),
    VALOR_ACRESCIMO NUMERIC(18,4),
    VALOR_DESCONTO NUMERIC(18,4),
    VALOR_PAGAR NUMERIC(18,4),
    VALOR_PAGO NUMERIC(18,4),
    VALOR_TOTAL NUMERIC(18,4))
AS
begin
 for select
  CODIGO,
  CODIGO_CLIENTE,
  PARCELA,
  DATA_COMPRA,
  DATA_VENCIMENTO,
  DATA_BAIXA,
  HISTORICO,
  USUARIO_VENDA,
  USUARIO_BAIXA,
  SITUACAO,
  VALOR_COMPRA,
  VALOR_JUROS,
  VALOR_ACRESCIMO,
  VALOR_DESCONTO,
  VALOR_PAGAR,
  VALOR_PAGO,
  VALOR_TOTAL
 from   V_CREDIARIO_RECEBIDO
     where  DATA_BAIXA between  :datai and :dataf
  into
  :CODIGO,
  :CODIGO_CLIENTE,
  :PARCELA,
  :DATA_COMPRA,
  :DATA_VENCIMENTO,
  :DATA_BAIXA,
  :HISTORICO,
  :USUARIO_VENDA,
  :USUARIO_BAIXA,
  :SITUACAO,
  :VALOR_COMPRA,
  :VALOR_JUROS,
  :VALOR_ACRESCIMO,
  :VALOR_DESCONTO,
  :VALOR_PAGAR,
  :VALOR_PAGO,
  :VALOR_TOTAL
     do suspend;
end^


ALTER PROCEDURE SP_CREDIARIO_REMOVE_JUROS (
    CODIGO INTEGER,
    VALOR_JUROS NUMERIC(18,2),
    JUROS NUMERIC(18,2),
    MULTA NUMERIC(18,2))
AS
begin
     update V_CREDIARIO_BOLETOS set VALOR_JUROS= :JUROS,  VALOR_ACRESCIMO= :MULTA
     where CODIGO=:CODIGO;
end^


ALTER PROCEDURE SP_CUPOM_FISCAL (
    COD_VENDA INTEGER,
    NUMEROCUMPOM INTEGER,
    NUMEROECF VARCHAR(4))
AS
declare variable DATA DATE;
begin
DATA = CURRENT_TIMESTAMP;
  UPDATE PEDIDOS A SET
    N_CUPOM = :NUMEROCUMPOM,
    N_ECF = :NUMEROECF,
    DATA_PEDIDO = :DATA
  WHERE A.CODIGO = :COD_VENDA;
end^


ALTER PROCEDURE SP_DELETE_SPED_PRODUTOS
AS
BEGIN
  DELETE FROM SPED_PRODUTOS;
END^


ALTER PROCEDURE SP_DEV_CHEQUE (
    CODIGO INTEGER,
    COMPENSADO CHAR(1))
AS
begin
     Update CHEQUES set COMPENSADO = :COMPENSADO
     where CODIGO=:CODIGO;
end^


ALTER PROCEDURE SP_DUPLICATA_CARTAO (
    CODIGO INTEGER)
RETURNS (
    COD_DUPLICATA INTEGER)
AS
BEGIN
     COD_DUPLICATA = GEN_ID(GNT_COD_DUPLICATA, 1);
     UPDATE CONTAS_RECEBER_ADM_CARTAO
     SET CODIGO_DUPLICATA = :COD_DUPLICATA
     WHERE CODIGO = :CODIGO;
     SUSPEND ;
  END^


ALTER PROCEDURE SP_DUPLICATAS (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,4),
    VALOR_DESCONTO NUMERIC(18,4),
    VALOR_TOTAL NUMERIC(18,4),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35))
AS
begin
     for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL  ,
  USUARIO,
  DATA_PEDIDO,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO    from  V_PEDIDOS_CREDIARIO
     where (CODIGO starting :Param)
into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL  ,
  :USUARIO,
  :DATA_PEDIDO,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :PAGAMENTO
     do suspend;
end^


ALTER PROCEDURE SP_ENTRADA_ATU (
    CODIGO INTEGER,
    CUSTO NUMERIC(18,2),
    ULTIMACOMPRA DATE,
    NCM_SH VARCHAR(8),
    LOTE_MED VARCHAR(10),
    VALIDADE DATE,
    DATA_FABRICACAO DATE,
    CUSTO_MEDIO NUMERIC(18,2),
    PRECO_VENDA NUMERIC(18,2),
    PRECO_VENDA2 NUMERIC(18,2))
AS
begin
     update PRODUTOS set PRECO_CUSTO=:CUSTO,ULTIMACOMPRA=:ULTIMACOMPRA,
     NCM_SH =:NCM_SH, LOTE_MED=:LOTE_MED, VALIDADE=:VALIDADE,
     DATA_FABRICACAO=:DATA_FABRICACAO,  custo_medio=:custo_medio, PRECO_VENDA=:PRECO_VENDA,
     PRECO_VENDA2=:PRECO_VENDA2
     where codigo=:Codigo;

end^


ALTER PROCEDURE SP_ENTRADAS_CODIGO (
    PARAM INTEGER)
RETURNS (
    CODIGO_NOTA INTEGER,
    NUM_NOTA VARCHAR(20),
    DATA_EMISSAO DATE,
    FORNECEDOR VARCHAR(50),
    DATA_VENCIMENTO DATE,
    TOTAL_NOTA NUMERIC(18,4),
    CNPJ VARCHAR(20),
    IE VARCHAR(20),
    USUARIO_CADASTRO VARCHAR(20),
    DATA_CADASTRO DATE,
    OBSERVACOES BLOB SUB_TYPE 0 SEGMENT SIZE 80)
AS
begin
 for select
  CODIGO_NOTA,
  NUM_NOTA,
  DATA_EMISSAO,
  FORNECEDOR,
  DATA_VENCIMENTO,
  TOTAL_NOTA,
  CNPJ,
  IE,
  USUARIO_CADASTRO,
  DATA_CADASTRO,
  OBSERVACOES
 from   NOTASFISCAIS
 where (CODIGO_NOTA=:Param)
  into
  :CODIGO_NOTA,
  :NUM_NOTA,
  :DATA_EMISSAO,
  :FORNECEDOR,
  :DATA_VENCIMENTO,
  :TOTAL_NOTA,
  :CNPJ,
  :IE,
  :USUARIO_CADASTRO,
  :DATA_CADASTRO,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_ENTRADAS_FORNECEDOR (
    PARAM VARCHAR(50))
RETURNS (
    CODIGO_NOTA INTEGER,
    NUM_NOTA VARCHAR(20),
    DATA_EMISSAO DATE,
    FORNECEDOR VARCHAR(50),
    DATA_VENCIMENTO DATE,
    TOTAL_NOTA NUMERIC(18,4),
    CNPJ VARCHAR(20),
    IE VARCHAR(20),
    USUARIO_CADASTRO VARCHAR(20),
    DATA_CADASTRO DATE,
    OBSERVACOES BLOB SUB_TYPE 0 SEGMENT SIZE 80)
AS
begin
 for select
  CODIGO_NOTA,
  NUM_NOTA,
  DATA_EMISSAO,
  FORNECEDOR,
  DATA_VENCIMENTO,
  TOTAL_NOTA,
  CNPJ,
  IE,
  USUARIO_CADASTRO,
  DATA_CADASTRO,
  OBSERVACOES
 from   NOTASFISCAIS
 where (FORNECEDOR STARTING :Param) ORDER BY CODIGO_NOTA ASC
  into
  :CODIGO_NOTA,
  :NUM_NOTA,
  :DATA_EMISSAO,
  :FORNECEDOR,
  :DATA_VENCIMENTO,
  :TOTAL_NOTA,
  :CNPJ,
  :IE,
  :USUARIO_CADASTRO,
  :DATA_CADASTRO,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_ENTRADAS_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO_NOTA INTEGER,
    NUM_NOTA VARCHAR(20),
    DATA_EMISSAO DATE,
    FORNECEDOR VARCHAR(50),
    DATA_VENCIMENTO DATE,
    TOTAL_NOTA NUMERIC(18,4),
    CNPJ VARCHAR(20),
    IE VARCHAR(20),
    USUARIO_CADASTRO VARCHAR(20),
    DATA_CADASTRO DATE,
    OBSERVACOES BLOB SUB_TYPE 0 SEGMENT SIZE 80)
AS
begin
 for select
  CODIGO_NOTA,
  NUM_NOTA,
  DATA_EMISSAO,
  FORNECEDOR,
  DATA_VENCIMENTO,
  TOTAL_NOTA,
  CNPJ,
  IE,
  USUARIO_CADASTRO,
  DATA_CADASTRO,
  OBSERVACOES
 from   NOTASFISCAIS
     where  DATA_EMISSAO between  :datai and :dataf
  into
  :CODIGO_NOTA,
  :NUM_NOTA,
  :DATA_EMISSAO,
  :FORNECEDOR,
  :DATA_VENCIMENTO,
  :TOTAL_NOTA,
  :CNPJ,
  :IE,
  :USUARIO_CADASTRO,
  :DATA_CADASTRO,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_EST_COM_RET_PEDIDOS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_EST VARCHAR(20),
    USUARIO_PEDIDO VARCHAR(20),
    VALOR NUMERIC(18,2),
    CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(20))
AS
begin
     insert into EST_COM_RET_PEDIDOS
(
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO_EST,
  USUARIO_PEDIDO,
  VALOR,
  CLIENTE,
  PAGAMENTO
  )
  values
  (
  :CODIGO,
  :DATA,
  :HISTORICO,
  :USUARIO_EST,
  :USUARIO_PEDIDO,
  :VALOR,
  :CLIENTE,
  :PAGAMENTO
);
end^


ALTER PROCEDURE SP_ESTOQUE_ATUAL_CAD_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE_ATUAL NUMERIC(18,4),
    VALOR_ESTOQUE_ATUAL NUMERIC(18,4),
    DATACAD DATE,
    USERCAD VARCHAR(20))
AS
begin
     for select
  CODIGO_BARRAS,
  DESCRICAO,
  PRECO_VENDA,
  ESTOQUE_ATUAL,
  VALOR_ESTOQUE_ATUAL,
  DATACAD,
  USERCAD
 from   PRODUTOS
     where  DATACAD  between  :datai and :dataf
ORDER BY  DESCRICAO ASC
     into
  :CODIGO_BARRAS,
  :DESCRICAO,
  :PRECO_VENDA,
  :ESTOQUE_ATUAL,
  :VALOR_ESTOQUE_ATUAL,
  :DATACAD,
  :USERCAD
     do suspend;
end^


ALTER PROCEDURE SP_ESTOQUE_ATUAL_FORNECEDOR (
    PARAM VARCHAR(70))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_FORNECEDOR VARCHAR(70),
    PRECO_VENDA NUMERIC(18,2),
    ESTOQUE_ATUAL NUMERIC(18,2),
    VALOR_ESTOQUE_ATUAL NUMERIC(18,4),
    PRECO_CUSTO NUMERIC(18,2),
    VALOR_EST_CUSTO_ATUAL NUMERIC(18,2))
AS
begin
     for select
  CODIGO_BARRAS,
  DESCRICAO,
  NOME_FORNECEDOR,
  PRECO_VENDA,
  ESTOQUE_ATUAL,
  VALOR_ESTOQUE_ATUAL,
  PRECO_CUSTO,
  VALOR_EST_CUSTO_ATUAL
 from PRODUTOS
     where (NOME_FORNECEDOR =:Param) ORDER BY DESCRICAO ASC
into
  :CODIGO_BARRAS,
  :DESCRICAO,
  :NOME_FORNECEDOR,
  :PRECO_VENDA,
  :ESTOQUE_ATUAL,
  :VALOR_ESTOQUE_ATUAL,
  :PRECO_CUSTO,
  :VALOR_EST_CUSTO_ATUAL
     do suspend;
end^


ALTER PROCEDURE SP_ESTOQUE_ATUAL_GRUPO (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_GRUPO VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE_ATUAL NUMERIC(18,4),
    VALOR_ESTOQUE_ATUAL NUMERIC(18,4))
AS
begin
     for select
  "CODIGO_BARRAS",
  "DESCRICAO",
  "NOME_GRUPO",
  "PRECO_VENDA",
  "ESTOQUE_ATUAL",
  "VALOR_ESTOQUE_ATUAL"
 from PRODUTOS
     where (NOME_GRUPO STARTING :Param) ORDER BY DESCRICAO ASC
into
  :CODIGO_BARRAS,
  :DESCRICAO,
  :NOME_GRUPO,
  :PRECO_VENDA,
  :ESTOQUE_ATUAL,
  :VALOR_ESTOQUE_ATUAL
     do suspend;
end^


ALTER PROCEDURE SP_ESTOQUE_ATUAL_MARCA (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_MARCA VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE_ATUAL NUMERIC(18,4),
    VALOR_ESTOQUE_ATUAL NUMERIC(18,4))
AS
begin
     for select
  "CODIGO_BARRAS",
  "DESCRICAO",
  "NOME_MARCA",
  "PRECO_VENDA",
  "ESTOQUE_ATUAL",
  "VALOR_ESTOQUE_ATUAL"
 from PRODUTOS
     where (NOME_MARCA STARTING :Param) ORDER BY DESCRICAO ASC
into
  :CODIGO_BARRAS,
  :DESCRICAO,
  : NOME_MARCA,
  :PRECO_VENDA,
  :ESTOQUE_ATUAL,
  :VALOR_ESTOQUE_ATUAL
     do suspend;
end^


ALTER PROCEDURE SP_ESTOQUE_ATUAL_SUBGRUPO (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_SUBGRUPO VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE_ATUAL NUMERIC(18,4),
    VALOR_ESTOQUE_ATUAL NUMERIC(18,4))
AS
begin
     for select
  "CODIGO_BARRAS",
  "DESCRICAO",
  "NOME_SUBGRUPO",
  "PRECO_VENDA",
  "ESTOQUE_ATUAL",
  "VALOR_ESTOQUE_ATUAL"
 from PRODUTOS
     where (NOME_SUBGRUPO STARTING :Param) ORDER BY DESCRICAO ASC
into
  :CODIGO_BARRAS,
  :DESCRICAO,
  :NOME_SUBGRUPO,
  :PRECO_VENDA,
  :ESTOQUE_ATUAL,
  :VALOR_ESTOQUE_ATUAL
     do suspend;
end^


ALTER PROCEDURE SP_ESTOQUE_CAD_PERIODO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE NUMERIC(18,4),
    VALOR_ESTOQUE NUMERIC(18,4),
    DATACAD DATE,
    USERCAD VARCHAR(20))
AS
begin
     for select
  CODIGO_BARRAS,
  DESCRICAO,
  PRECO_VENDA,
  ESTOQUE,
  VALOR_ESTOQUE,
  DATACAD,
  USERCAD
 from   PRODUTOS
     where  DATACAD  between  :datai and :dataf
ORDER BY  DESCRICAO ASC
     into
  :CODIGO_BARRAS,
  :DESCRICAO,
  :PRECO_VENDA,
  :ESTOQUE,
  :VALOR_ESTOQUE,
  :DATACAD,
  :USERCAD
     do suspend;
end^


ALTER PROCEDURE SP_ESTOQUE_FORNECEDOR (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_FORNECEDOR VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE NUMERIC(18,4),
    VALOR_ESTOQUE NUMERIC(18,4))
AS
begin
     for select
  "CODIGO_BARRAS",
  "DESCRICAO",
  "NOME_FORNECEDOR",
  "PRECO_VENDA",
  "ESTOQUE",
  "VALOR_ESTOQUE"
 from PRODUTOS
     where (NOME_FORNECEDOR STARTING :Param) ORDER BY DESCRICAO ASC
into
  :CODIGO_BARRAS,
  :DESCRICAO,
  : NOME_FORNECEDOR,
  :PRECO_VENDA,
  :ESTOQUE,
  :VALOR_ESTOQUE
     do suspend;
end^


ALTER PROCEDURE SP_ESTOQUE_GRUPO (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_GRUPO VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE NUMERIC(18,4),
    VALOR_ESTOQUE NUMERIC(18,4))
AS
begin
     for select
  "CODIGO_BARRAS",
  "DESCRICAO",
  "NOME_GRUPO",
  "PRECO_VENDA",
  "ESTOQUE",
  "VALOR_ESTOQUE"
 from PRODUTOS
     where (NOME_GRUPO STARTING :Param) ORDER BY DESCRICAO ASC
into
  :CODIGO_BARRAS,
  :DESCRICAO,
  :NOME_GRUPO,
  :PRECO_VENDA,
  :ESTOQUE,
  :VALOR_ESTOQUE
     do suspend;
end^


ALTER PROCEDURE SP_ESTOQUE_MARCA (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_MARCA VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE NUMERIC(18,4),
    VALOR_ESTOQUE NUMERIC(18,4))
AS
begin
     for select
  "CODIGO_BARRAS",
  "DESCRICAO",
  "NOME_MARCA",
  "PRECO_VENDA",
  "ESTOQUE",
  "VALOR_ESTOQUE"
 from PRODUTOS
     where (NOME_MARCA STARTING :Param) ORDER BY DESCRICAO ASC
into
  :CODIGO_BARRAS,
  :DESCRICAO,
  : NOME_MARCA,
  :PRECO_VENDA,
  :ESTOQUE,
  :VALOR_ESTOQUE
     do suspend;
end^


ALTER PROCEDURE SP_ESTOQUE_SOMA (
    CODIGO INTEGER,
    DESCRICAO VARCHAR(70),
    QUANT NUMERIC(18,4),
    CUSTO NUMERIC(18,2),
    VENDA NUMERIC(18,2),
    ULTIMACOMPRA DATE,
    VENDA2 NUMERIC(18,2),
    NCM_SH VARCHAR(8),
    FRACAO INTEGER,
    QUANT_FRACAO NUMERIC(18,4),
    LOTE_MED VARCHAR(10),
    VALIDADE DATE,
    DATA_FABRICACAO DATE,
    ATIVO VARCHAR(1),
    CUSTO_MEDIO NUMERIC(18,2))
AS
begin
     update PRODUTOS set ESTOQUE_ATUAL=COALESCE(ESTOQUE_ATUAL,0)+:Quant, ESTOQUE= COALESCE(ESTOQUE,0)+:Quant,
     DESCRICAO=:DESCRICAO,PRECO_CUSTO=:CUSTO,PRECO_VENDA=:VENDA,ULTIMACOMPRA=:ULTIMACOMPRA,
     PRECO_VENDA2=:VENDA2, NCM_SH =:NCM_SH, FRACAO =:FRACAO, ESTOQUE_FRACAO=COALESCE(ESTOQUE_FRACAO,0)+:Quant_FRACAO,
     LOTE_MED=:LOTE_MED, VALIDADE=:VALIDADE, DATA_FABRICACAO=:DATA_FABRICACAO, ATIVO =:ATIVO, custo_medio=:custo_medio
     where codigo=:Codigo;

end^


ALTER PROCEDURE SP_ESTOQUE_SOMAI (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4),
    QUANT_FRACAO NUMERIC(18,4))
AS
begin
     update PRODUTOS set ESTOQUE_ATUAL=(COALESCE((ESTOQUE_ATUAL),0) +:Quant), ESTOQUE=(COALESCE((ESTOQUE),0) +:Quant),
     ESTOQUE_FRACAO=(COALESCE((ESTOQUE_FRACAO),0) +:QUANT_FRACAO)
     where codigo=:Codigo;
end^


ALTER PROCEDURE SP_ESTOQUE_SUBGRUPO (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO_BARRAS VARCHAR(20),
    DESCRICAO VARCHAR(70),
    NOME_SUBGRUPO VARCHAR(40),
    PRECO_VENDA NUMERIC(18,4),
    ESTOQUE NUMERIC(18,4),
    VALOR_ESTOQUE NUMERIC(18,4))
AS
begin
     for select
  "CODIGO_BARRAS",
  "DESCRICAO",
  "NOME_SUBGRUPO",
  "PRECO_VENDA",
  "ESTOQUE",
  "VALOR_ESTOQUE"
 from PRODUTOS
     where (NOME_SUBGRUPO STARTING :Param) ORDER BY DESCRICAO ASC
into
  :CODIGO_BARRAS,
  :DESCRICAO,
  :NOME_SUBGRUPO,
  :PRECO_VENDA,
  :ESTOQUE,
  :VALOR_ESTOQUE
     do suspend;
end^


ALTER PROCEDURE SP_ESTOQUE_SUBTRAI (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4),
    QUANT_FRACAO NUMERIC(18,4))
AS
begin
     update PRODUTOS set ESTOQUE_ATUAL=(COALESCE((ESTOQUE_ATUAL),0)-:Quant), ESTOQUE=(COALESCE((ESTOQUE),0)-:Quant),
     ESTOQUE_FRACAO=(COALESCE((ESTOQUE_FRACAO),0)-:Quant_FRACAO)
     where codigo=:Codigo;
end^


ALTER PROCEDURE SP_ESTOQUER_SOMA (
    CODIGO INTEGER,
    DESCRICAO VARCHAR(50),
    QUANT INTEGER,
    CUSTO NUMERIC(18,2),
    VENDA NUMERIC(18,2),
    ULTIMACOMPRA DATE,
    VENDA2 NUMERIC(18,2))
AS
begin
     update PRODUTOS set ESTOQUE=(COALESCE(ESTOQUE,0)+:Quant),
     DESCRICAO=:DESCRICAO, PRECO_CUSTO=:CUSTO, PRECO_VENDA=:VENDA, ULTIMACOMPRA=:ULTIMACOMPRA, PRECO_VENDA2=:VENDA2
     where codigo=:Codigo;
end^


ALTER PROCEDURE SP_ESTOQUER_SUBTRAI (
    CODIGO INTEGER,
    DESCRICAO VARCHAR(50),
    QUANT INTEGER)
AS
begin
     update PRODUTOS set  ESTOQUE=(COALESCE(ESTOQUE,0)-:Quant), DESCRICAO=:DESCRICAO
     where codigo=:Codigo;
end^


ALTER PROCEDURE SP_EXCLUIR_EST_VEND_FRACAO (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4),
    FRACAO INTEGER)
AS
declare variable QUANT_INT numeric (18,4);
begin
QUANT_INT= COALESCE((QUANT/FRACAO),0);

     update PRODUTOS set ESTOQUE_FRACAO =(COALESCE(ESTOQUE_FRACAO,0) +:Quant), ESTOQUE =(COALESCE(ESTOQUE,0) +:Quant_int), ESTOQUE_ATUAL =(COALESCE(ESTOQUE_ATUAL,0) +:Quant_int), ESTOQUE_VENDIDO =(COALESCE(ESTOQUE_VENDIDO,0) -:Quant_int)
     where CODIGO=:CODIGO;
end^


ALTER PROCEDURE SP_EXCLUIR_ESTOQUE_VENDIDO (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4))
AS
begin
     update PRODUTOS set ESTOQUE =(COALESCE(ESTOQUE,0) +:Quant), ESTOQUE_ATUAL =(COALESCE(ESTOQUE_ATUAL,0) +:Quant), ESTOQUE_VENDIDO =(COALESCE(ESTOQUE_VENDIDO,0) -:Quant)
     where CODIGO=:CODIGO;
end^


ALTER PROCEDURE SP_EXT_CREDIARIO_RECEBIDO (
    CODIGO INTEGER,
    ACRESCIMO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    PAGO NUMERIC(18,2),
    JUROS NUMERIC(18,2))
AS
begin
     Update CREDIARIO  set SITUACAO = 'A',
     VALOR_ACRESCIMO = (VALOR_ACRESCIMO - :ACRESCIMO),
     VALOR_DESCONTO = (VALOR_DESCONTO - :DESCONTO),
     VALOR_PAGO = (VALOR_PAGO - :PAGO),
     JUROS_POSTERGADOS = (JUROS_POSTERGADOS - :JUROS)
     where CODIGO=:CODIGO;
end^


ALTER PROCEDURE SP_EXTORNO_COMISSAO_GERAL (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(50),
    USUARIO_EST VARCHAR(20),
    USUARIO_PEDIDO VARCHAR(20),
    VALOR NUMERIC(18,4),
    CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(20))
AS
begin
 for select
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO_EST,
  USUARIO_PEDIDO,
  VALOR,
  CLIENTE,
  PAGAMENTO
 from   EST_COM_RET_PEDIDOS
  where  DATA between  :datai and :dataf
  into
  :CODIGO,
  :DATA,
  :HISTORICO,
  :USUARIO_EST,
  :USUARIO_PEDIDO,
  :VALOR,
  :CLIENTE,
  :PAGAMENTO
     do suspend;
end^


ALTER PROCEDURE SP_GERA_CLIENTES (
    MES VARCHAR(2),
    ANO VARCHAR(4))
AS
BEGIN
  DELETE FROM sped_participantes;
  
  INSERT INTO SPED_PARTICIPANTES
  ( COD_CLIENTE,
   NOME,
   LOGRADOURO,
   IE,
   BAIRRO,
   NUMERO,
   COD_EMPRESA,
   CNPJ_CPF,
   COD_MUNICIPIO,
   TIPO,
   COMPLEMENTO,
   MES,
   ANO )
  SELECT DISTINCT
  SPED_CLIENTES.CODIGO,
  SPED_CLIENTES.NOME_RS,
  SPED_CLIENTES.ENDERECO,
  SPED_CLIENTES.RG_IE,
  SPED_CLIENTES.BAIRRO,
  COALESCE(SPED_CLIENTES.NUMERO,0),
  SPED_CLIENTES.COD_EMPRESA,
  SPED_CLIENTES.CPF_CNPJ,
  SPED_CLIENTES.COD_IBGE,
  SPED_CLIENTES.TIPO,
  SPED_CLIENTES.COMPLEMENTO,
  SPED_CLIENTES.MES,
  SPED_CLIENTES.ANO
  FROM SPED_CLIENTES
   where MES starting :MES and ANO starting :ANO
  UNION
   SELECT DISTINCT
  SPED_CLIENTES_NFE.CODIGO,
  SPED_CLIENTES_NFE.NOME_RS,
  SPED_CLIENTES_NFE.ENDERECO,
  SPED_CLIENTES_NFE.RG_IE,
  SPED_CLIENTES_NFE.BAIRRO,
  COALESCE(SPED_CLIENTES_NFE.NUMERO,0),
  SPED_CLIENTES_NFE.COD_EMPRESA,
  SPED_CLIENTES_NFE.CPF_CNPJ,
  SPED_CLIENTES_NFE.COD_IBGE,
  SPED_CLIENTES_NFE.TIPO,
  SPED_CLIENTES_NFE.COMPLEMENTO,
  SPED_CLIENTES_NFE.MES,
  SPED_CLIENTES_NFE.ANO
  FROM SPED_CLIENTES_NFE
   where MES starting :MES and ANO starting :ANO;

SUSPEND;

END^


ALTER PROCEDURE SP_GERA_FORNECEDORES (
    MES VARCHAR(2),
    ANO VARCHAR(4))
AS
BEGIN
 INSERT INTO SPED_PARTICIPANTES (
  COD_FORNECEDOR,
  NOME,
  LOGRADOURO,
  TIPO,
  CNPJ_CPF,
  IE,
  BAIRRO,
  COD_EMPRESA,
  COD_MUNICIPIO,
  COMPLEMENTO,
  NUMERO,
  MES,
  ANO )
SELECT
SPED_FORNECEDORES.CODIGO,
SPED_FORNECEDORES.NOME,
SPED_FORNECEDORES.ENDERECO,
sped_fornecedores.TP,
SPED_FORNECEDORES.CNPJ,
SPED_FORNECEDORES.IE,
SPED_FORNECEDORES.BAIRRO,
SPED_FORNECEDORES.COD_EMPRESA,
SPED_FORNECEDORES."codigo_ibge",
SPED_FORNECEDORES.COMPLEMENTO,
COALESCE(SPED_FORNECEDORES.numero,0),
SPED_FORNECEDORES.MES,
SPED_FORNECEDORES.ANO
FROM SPED_FORNECEDORES
   where MES starting :MES and ANO starting :ANO;

  SUSPEND;
END^


ALTER PROCEDURE SP_GERA_PRODUTOS_SPED (
    DATAI DATE,
    DATAF DATE)
AS
BEGIN
    INSERT INTO SPED_PRODUTOS
  ( CODIGO,
   COD_BARRAS,
   DESCRICAO,
   UNIDADE,
   TIPO_ATIVIDADE,
   COD_NCM,
   MES,
   ANO)
   SELECT DISTINCT
      PRODUTOS.CODIGO,
      PRODUTOS.CODIGO_BARRAS,
      PRODUTOS.DESCRICAO,
      PRODUTOS.UNIDADE,
      PRODUTOS.TIPO_ATIVIDADE,
      PRODUTOS.NCM_SH,
      CAST(LPAD(EXTRACT(MONTH FROM NFE_NOTA.DT_EMISSAO), 2, '0') AS VARCHAR(2)) AS MES,
      CAST(LPAD(EXTRACT(year FROM NFE_NOTA.DT_EMISSAO), 4, '0') AS VARCHAR(4)) AS ANO
    FROM
     NFE_ITENS
     INNER JOIN PRODUTOS ON (NFE_ITENS.CODIGO_PROD=PRODUTOS.CODIGO)
     INNER JOIN NFE_NOTA ON (NFE_ITENS.NR_NOTA=NFE_NOTA.NR_NOTA)
     where (NFE_NOTA.status_cancelado IS NULL) or (NFE_NOTA.status_cancelado ='N') and
     (NFE_NOTA.status_inutilizado IS NULL) or (NFE_NOTA.status_inutilizado ='N') AND
     NFE_NOTA.DT_EMISSAO between  :datai and :dataf ;
   suspend;
  END^


ALTER PROCEDURE SP_GERA_PRODUTOS_SPED_C (
    DATAI DATE,
    DATAF DATE)
AS
BEGIN
    INSERT INTO SPED_PRODUTOS
  ( CODIGO,
   COD_BARRAS,
   DESCRICAO,
   UNIDADE,
   TIPO_ATIVIDADE,
   COD_NCM,
   MES,
   ANO)
   SELECT DISTINCT
  PRODUTOS.CODIGO,
  PRODUTOS.CODIGO_BARRAS,
  PRODUTOS.DESCRICAO,
  PRODUTOS.UNIDADE,
  PRODUTOS.TIPO_ATIVIDADE,
  PRODUTOS.NCM_SH,
  CAST(LPAD(EXTRACT(MONTH FROM PEDIDOS.DATA_PEDIDO), 2, '0') AS VARCHAR(2)) AS MES1,
  CAST(LPAD(EXTRACT(year FROM PEDIDOS.DATA_PEDIDO), 4, '0') AS VARCHAR(4)) AS ANO1
FROM
 PEDIDOS_ITENS
 INNER JOIN PRODUTOS ON (PEDIDOS_ITENS.CODIGO_PROD=PRODUTOS.CODIGO)
 INNER JOIN PEDIDOS ON (PEDIDOS_ITENS.CODIGO_ID=PEDIDOS.CODIGO)
WHERE
  (PEDIDOS.N_CUPOM > '' AND  DATA_PEDIDO between  :datai and :dataf);
   suspend;
  END^


ALTER PROCEDURE SP_GERA_PRODUTOS_SPED_N (
    DATAI DATE,
    DATAF DATE)
AS
BEGIN
    INSERT INTO SPED_PRODUTOS
  (CODIGO,
   COD_BARRAS,
   DESCRICAO,
   UNIDADE,
   TIPO_ATIVIDADE,
   COD_NCM,
   MES,
   ANO)
   SELECT DISTINCT
      PRODUTOS.CODIGO,
      PRODUTOS.CODIGO_BARRAS,
      PRODUTOS.DESCRICAO,
      PRODUTOS.UNIDADE,
      PRODUTOS.TIPO_ATIVIDADE,
      PRODUTOS.NCM_SH,
      CAST(LPAD(EXTRACT(MONTH FROM notasfiscais.data_cadastro), 2, '0') AS VARCHAR(2)) AS MES,
      CAST(LPAD(EXTRACT(year FROM notasfiscais.data_cadastro), 4, '0') AS VARCHAR(4)) AS ANO
    FROM
     notasfiscais_itens
     INNER JOIN PRODUTOS ON (notasfiscais_itens.codigo_produto=PRODUTOS.CODIGO)
     INNER JOIN notasfiscais ON (notasfiscais_itens.codigo_nota=notasfiscais.codigo_nota)
     where notasfiscais.data_cadastro between  :datai and :dataf;
   suspend;
  END^


ALTER PROCEDURE SP_GERA_PRODUTOS_SPED_NFC (
    DATAI DATE,
    DATAF DATE)
AS
BEGIN
    INSERT INTO SPED_PRODUTOS
  ( CODIGO,
   COD_BARRAS,
   DESCRICAO,
   UNIDADE,
   TIPO_ATIVIDADE,
   COD_NCM,
   MES,
   ANO)
   SELECT DISTINCT
  PRODUTOS.CODIGO,
  PRODUTOS.CODIGO_BARRAS,
  PRODUTOS.DESCRICAO,
  PRODUTOS.UNIDADE,
  PRODUTOS.TIPO_ATIVIDADE,
  PRODUTOS.NCM_SH,
  CAST(LPAD(EXTRACT(MONTH FROM PEDIDOS.DATA_PEDIDO), 2, '0') AS VARCHAR(2)) AS MES1,
  CAST(LPAD(EXTRACT(year FROM PEDIDOS.DATA_PEDIDO), 4, '0') AS VARCHAR(4)) AS ANO1
FROM
 PEDIDOS_ITENS
 INNER JOIN PRODUTOS ON (PEDIDOS_ITENS.CODIGO_PROD=PRODUTOS.CODIGO)
 INNER JOIN PEDIDOS ON (PEDIDOS_ITENS.CODIGO_ID=PEDIDOS.CODIGO)
WHERE
  (PEDIDOS.num_nota is not null AND MODELO_NF > '' AND  DATA_PEDIDO between  :datai and :dataf);
   suspend;
  END^


ALTER PROCEDURE SP_GERA_PRODUTOS_SPED_Z (
    DATAI DATE,
    DATAF DATE)
AS
BEGIN
    INSERT INTO SPED_PRODUTOS
  (CODIGO,
   COD_BARRAS,
   DESCRICAO,
   UNIDADE,
   TIPO_ATIVIDADE,
   COD_NCM,
   MES,
   ANO)
   SELECT DISTINCT
      PRODUTOS.CODIGO,
      PRODUTOS.CODIGO_BARRAS,
      PRODUTOS.DESCRICAO,
      PRODUTOS.UNIDADE,
      PRODUTOS.TIPO_ATIVIDADE,
      PRODUTOS.NCM_SH,
      CAST(LPAD(EXTRACT(MONTH FROM sped_inventario.dt_inv), 2, '0') AS VARCHAR(2)) AS MES,
      CAST(LPAD(EXTRACT(year FROM sped_inventario.dt_inv), 4, '0') AS VARCHAR(4)) AS ANO
    FROM
     sped_inventario_itens
     INNER JOIN PRODUTOS ON (sped_inventario_itens.cod_item=PRODUTOS.CODIGO)
     INNER JOIN sped_inventario ON (sped_inventario_itens.id_inv=sped_inventario.id_inv)
     where sped_inventario.dt_inv between  :datai and :dataf;
   suspend;
  END^


ALTER PROCEDURE SP_GERA_UNIDADES
AS
declare variable UND VARCHAR (6) CHARACTER SET NONE;
declare variable SEQ INTEGER;
BEGIN
SEQ =1;
select desc_unidade
     from V_UNIDADES_NAO_CADASTRADAS V
    WHERE V.DESC_UNIDADE = :UND AND V.desc_unidade IS NOT NULL
     INTO :UND;
INSERT INTO unidades (
    CODIGO,
    descricao,
    abreviatura)
values (
    :SEQ,
    :UND,
    :UND);


SUSPEND;
END^


ALTER PROCEDURE SP_GERA_UNIDADES_NEW
AS
BEGIN
    INSERT INTO UNIDADES
   (DESCRICAO,
   ABREVIATURA,
   CODIGO)

  SELECT DISTINCT
  NOTASFISCAIS_ITENS.DESC_UNIDADE,
  NOTASFISCAIS_ITENS.DESC_UNIDADE AS UNIDADE,
 (SELECT MAX(CODIGO) AS codigo FROM UNIDADES) as codigo
    FROM NOTASFISCAIS_ITENS
    LEFT JOIN UNIDADES ON NOTASFISCAIS_ITENS.DESC_UNIDADE = UNIDADES.ABREVIATURA
    WHERE UNIDADES.ABREVIATURA Is Null;
 suspend;
 END^


ALTER PROCEDURE "SP_GeraCodEntrada"
RETURNS (
    CODENTRADA INTEGER)
AS
begin
CodEntrada = GEN_ID(GEN_ENTRAHOSPEDE01,1);
end^


ALTER PROCEDURE SP_INCLUIR_ESTOQUE (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4))
AS
begin
     update PRODUTOS set ESTOQUE = COALESCE((ESTOQUE +:Quant),0)
     where CODIGO =:Codigo;
end^


ALTER PROCEDURE SP_INCLUIR_ESTOQUE_VENDIDO (
    CODIGO INTEGER,
    QUANT NUMERIC(18,4))
AS
begin
     update PRODUTOS set ESTOQUE =(COALESCE(ESTOQUE,0) -:Quant), ESTOQUE_ATUAL = (COALESCE(ESTOQUE_ATUAL,0) -:Quant), ESTOQUE_VENDIDO = (COALESCE(ESTOQUE_VENDIDO,0) +:Quant)
     where codigo=:Codigo;
end^


ALTER PROCEDURE SP_INSERT_CONTA_CLIENTE (
    DATA DATE,
    HORA TIME,
    CONTA INTEGER,
    CODCAI INTEGER,
    CODEMP INTEGER)
RETURNS (
    CODIGO INTEGER)
AS
BEGIN
     CODIGO = GEN_ID(GNT_COD_CONTA_CLIENTE, 1);
     INSERT INTO CONTA_CLIENTE (CODIGO, DATA_ABERTURA, HORA_ABERTURA, CONTA, COD_CAI, COD_EMP, STATUS, TOTAL)
                  VALUES(:CODIGO, :DATA, :HORA, :CONTA, :CODCAI, :CODEMP, 0, 0);
     SUSPEND;
  END^


ALTER PROCEDURE SP_INSERT_CONTAS_CORRENTE (
    CODCONTA INTEGER,
    DATAEMI DATE,
    DATAVENC DATE,
    NUMCHEQUE VARCHAR(10) CHARACTER SET WIN1252,
    VALOR NUMERIC(18,2),
    CONCILIADO INTEGER,
    DC INTEGER,
    HISTORICO VARCHAR(100) CHARACTER SET WIN1252,
    CODDOC INTEGER,
    DOC VARCHAR(20) CHARACTER SET WIN1252,
    CODEMP INTEGER)
RETURNS (
    CODIGO INTEGER)
AS
BEGIN
    CODIGO = GEN_ID(CODIGO_MOVIMENTO_DIARIO, 1);
    INSERT INTO movimento_diario (CODIGO, CODIGO_CC, DATA, PRE_DATADO, N_CHEQUE, VALOR_ENTRADA,
                                             CONCILIADO, DOC_LAN, HISTORICO, COD_DOC, DOCUMENTO_LANC, COD_EMPRESA)
                        VALUES(:CODIGO, :CODCONTA, :DATAEMI, :DATAVENC, :NUMCHEQUE, :VALOR, :CONCILIADO, :DC, :HISTORICO,
                               :CODDOC, :DOC, :CODEMP);
    SUSPEND;
 END^


ALTER PROCEDURE SP_INSERT_CTR_ADM (
    CODIGO_BANDEIRA INTEGER,
    DOCUMENTO VARCHAR(20) CHARACTER SET WIN1252,
    EMISSAO DATE,
    VENCIMENTO DATE,
    CODCAI INTEGER,
    CODEMP INTEGER,
    CODVEN INTEGER,
    VALOR NUMERIC(18,2),
    TAXA NUMERIC(18,2),
    CODCLI INTEGER,
    PARCELA INTEGER)
RETURNS (
    CODIGO INTEGER)
AS
BEGIN
     CODIGO = GEN_ID(GNT_COD_CTR_ADM, 1);
     INSERT INTO CONTAS_RECEBER_ADM_CARTAO(CODIGO, CODIGO_BANDEIRA, DOCUMENTO, EMISSAO, VENCIMENTO,
                                           COD_CAI, COD_EMP, COD_VEN, VALOR, VALOR_PAGO,
                                           ACRESCIMO, DESCONTO, TAXA, COD_CLI, PARCELA)
                 VALUES(:CODIGO, :CODIGO_BANDEIRA, :DOCUMENTO, :EMISSAO, :VENCIMENTO, :CODCAI,
                        :CODEMP, :CODVEN, :VALOR, 0, 0, 0, :TAXA, :CODCLI, :PARCELA);
                 SUSPEND;
END^


ALTER PROCEDURE SP_INSERT_TRANSF_LOCAL_ESTOQUE (
    DATA DATE,
    COD_ORIGEM INTEGER,
    COD_DESTINO INTEGER,
    COD_USU INTEGER,
    COD_EMP INTEGER)
RETURNS (
    CODIGO INTEGER)
AS
BEGIN
     CODIGO = GEN_ID(GNT_COD_TRANSF_LOCAL_ESTOQUE, 1);
     INSERT INTO TRANSFERENCIA_LOCAL_ESTOQUE (CODIGO, DATA, CODIGO_LOCAL_ORIGEM, CODIGO_LOCAL_DESTINO,
            COD_USU, COD_EMP)
     VALUES(:CODIGO, :DATA, :COD_ORIGEM, :COD_DESTINO, :COD_USU, :COD_EMP);
     SUSPEND;
  END^


ALTER PROCEDURE SP_LIMITE_CREDITO (
    CLIENTE INTEGER)
RETURNS (
    CODIGO INTEGER,
    NOME_RS VARCHAR(50),
    V_CHEQUE_COMPENSAR NUMERIC(18,4),
    V_CRED_RECEBER NUMERIC(18,2),
    LIMITE_DE_CREDITO NUMERIC(18,2),
    LIMITE_DIPONIVEL NUMERIC(18,2),
    V_CRED_VENCIDO NUMERIC(18,2))
AS
DECLARE VARIABLE LIMITE_DISPONIVEL DECIMAL (18, 2);

BEGIN
LIMITE_DIPONIVEL=0;

   SELECT
      CLIENTES.CODIGO,
      CLIENTES.NOME_RS,
      COALESCE(V_CHEQUES_CLIENTE.V_CHEQUE_COMPENSAR,0),
      COALESCE(V_CREDIARIO_CLIENTE.V_CRED_RECEBER,0),
      CLIENTES.LIMITE_DE_CREDITO,
      COALESCE(V_CREDIARIO_VENCIDO_CLIENTE.V_CRED_VENCIDO,0)
    
    FROM
     CLIENTES 
     LEFT OUTER JOIN V_CHEQUES_CLIENTE ON (CLIENTES.CODIGO=V_CHEQUES_CLIENTE.COD_CLIENTE)
     LEFT OUTER JOIN V_CREDIARIO_CLIENTE ON (CLIENTES.CODIGO=V_CREDIARIO_CLIENTE.CODIGO_CLIENTE)
     LEFT OUTER JOIN v_crediario_vencido_cliente ON (CLIENTES.CODIGO=v_crediario_vencido_cliente.v_cliente)
     where (CLIENTES.CODIGO =:CLIENTE)

     INTO
      :CODIGO,
      :NOME_RS,
      :V_CHEQUE_COMPENSAR,
      :V_CRED_RECEBER,
      :LIMITE_DE_CREDITO,
      :V_CRED_VENCIDO;
      
    LIMITE_DIPONIVEL = COALESCE(LIMITE_DE_CREDITO - V_CRED_RECEBER - V_CHEQUE_COMPENSAR,0);

  BEGIN
 
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_MOV_BANCO_DATA (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO CHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,4),
    VALOR_SAIDA NUMERIC(18,4),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
begin
     for select
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  CODIGO_CC,
  NUMERO_CC
 from   V_MOVIMENTO_BANCO
 where  DATA  between  :datai and :dataf
 ORDER BY  DATA ASC
 into
  :CODIGO,
  :DATA,
  :HISTORICO,
  :USUARIO,
  :TIPO,
  :VALOR_ENTRADA,
  :VALOR_SAIDA,
  :CODIGO_CC,
  :NUMERO_CC
     do suspend;
end^


ALTER PROCEDURE SP_MOV_BANCO_ESPECIFICO (
    DATAI DATE,
    DATAF DATE,
    PARAM INTEGER)
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO CHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,4),
    VALOR_SAIDA NUMERIC(18,4),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10))
AS
begin
     for select
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  CODIGO_CC,
  NUMERO_CC
 from   V_MOVIMENTO_BANCO
 where  DATA  between  :datai and :dataf and CODIGO_CC =:Param
 ORDER BY  DATA ASC
 into
  :CODIGO,
  :DATA,
  :HISTORICO,
  :USUARIO,
  :TIPO,
  :VALOR_ENTRADA,
  :VALOR_SAIDA,
  :CODIGO_CC,
  :NUMERO_CC
     do suspend;
end^


ALTER PROCEDURE SP_MOV_CAIXA_DATA (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO CHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,2),
    VALOR_SAIDA NUMERIC(18,2),
    CODIGO_VENDA INTEGER)
AS
begin
     for select
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  CODIGO_VENDA
 from   V_MOVIMENTO_CAIXA
 where  DATA  between  :datai and :dataf
 ORDER BY  DATA ASC
 into
  :CODIGO,
  :DATA,
  :HISTORICO,
  :USUARIO,
  :TIPO,
  :VALOR_ENTRADA,
  :VALOR_SAIDA,
  :CODIGO_VENDA
     do suspend;
end^


ALTER PROCEDURE SP_MOV_CAIXA_ESPECIFICO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO CHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,2),
    VALOR_SAIDA NUMERIC(18,2),
    CODIGO_VENDA INTEGER)
AS
begin
     for select
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  CODIGO_VENDA
 from   V_MOVIMENTO_CAIXA
 where  DATA  between  :datai and :dataf and USUARIO =:Param
 ORDER BY  DATA ASC
 into
  :CODIGO,
  :DATA,
  :HISTORICO,
  :USUARIO,
  :TIPO,
  :VALOR_ENTRADA,
  :VALOR_SAIDA,
  :CODIGO_VENDA
     do suspend;
end^


ALTER PROCEDURE SP_MOVIMENTO_DIARIO (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO VARCHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,2),
    VALOR_SAIDA NUMERIC(18,2),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10),
    CODIGO_VENDA INTEGER,
    ORIGEM VARCHAR(3),
    VALOR NUMERIC(18,2),
    TIPO_MOV INTEGER,
    COD_PLANO INTEGER)
AS
begin
     insert into MOVIMENTO_DIARIO
(
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  CODIGO_CC,
  NUMERO_CC,
  CODIGO_VENDA,
  ORIGEM,
  VALOR,
  TIPO_MOV,
  COD_PLANO
  )
  values
  (
  :CODIGO,
  :DATA,
  :HISTORICO,
  :USUARIO,
  :TIPO,
  :VALOR_ENTRADA,
  :VALOR_SAIDA,
  :CODIGO_CC,
  :NUMERO_CC,
  :CODIGO_VENDA,
  :ORIGEM,
  :VALOR,
  :TIPO_MOV,
  :COD_PLANO
);
end^


ALTER PROCEDURE SP_MOVIMENTO_DIARIO_BX (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO VARCHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,2),
    VALOR_SAIDA NUMERIC(18,2),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10),
    CODIGO_VENDA INTEGER,
    ORIGEM VARCHAR(3),
    COD_CREDIARIO INTEGER)
AS
begin
     insert into MOVIMENTO_DIARIO
(
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  CODIGO_CC,
  NUMERO_CC,
  CODIGO_VENDA,
  ORIGEM,
  COD_CREDIARIO
  )
  values
  (
  :CODIGO,
  :DATA,
  :HISTORICO,
  :USUARIO,
  :TIPO,
  :VALOR_ENTRADA,
  :VALOR_SAIDA,
  :CODIGO_CC,
  :NUMERO_CC,
  :CODIGO_VENDA,
  :ORIGEM,
  :COD_CREDIARIO
);
end^


ALTER PROCEDURE SP_MOVIMENTO_DIARIO_NF (
    CODIGO INTEGER,
    DATA DATE,
    HISTORICO VARCHAR(150),
    USUARIO VARCHAR(20),
    TIPO CHAR(1),
    VALOR_ENTRADA NUMERIC(18,2),
    VALOR_SAIDA NUMERIC(18,2),
    CODIGO_CC INTEGER,
    NUMERO_CC VARCHAR(10),
    CODIGO_VENDA INTEGER,
    ORIGEM VARCHAR(3),
    COD_COMPRA INTEGER)
AS
begin
     insert into MOVIMENTO_DIARIO
(
  CODIGO,
  DATA,
  HISTORICO,
  USUARIO,
  TIPO,
  VALOR_ENTRADA,
  VALOR_SAIDA,
  CODIGO_CC,
  NUMERO_CC,
  CODIGO_VENDA,
  ORIGEM,
  COD_COMPRA
  )
  values
  (
  :CODIGO,
  :DATA,
  :HISTORICO,
  :USUARIO,
  :TIPO,
  :VALOR_ENTRADA,
  :VALOR_SAIDA,
  :CODIGO_CC,
  :NUMERO_CC,
  :CODIGO_VENDA,
  :ORIGEM,
  :COD_COMPRA
);
end^


ALTER PROCEDURE SP_MOVIMENTTO_DIARIO_DEL (
    CODIGO_VENDA INTEGER)
AS
begin
   DELETE
FROM movimento_diario where codigo_VENDA =:CODIGO_VENDA;
end^


ALTER PROCEDURE SP_MOVIMENTTO_DIARIO_DEL_NF (
    COMPRA INTEGER)
AS
begin
   DELETE
FROM movimento_diario where cod_COMPRA =:COMPRA;
end^


ALTER PROCEDURE SP_NFCE_CODIGO
RETURNS (
    ATUAL INTEGER)
AS
BEGIN
  ATUAL = GEN_ID(CODIGIO_NFCE, 1);
  SUSPEND;
END^


ALTER PROCEDURE SP_NFE (
    COD_VENDA INTEGER,
    NUMERONFE INTEGER,
    SERIENFE VARCHAR(3))
AS
begin
  UPDATE PEDIDOS A SET
    NUM_NOTA = :NUMERONFE,
    SERIE_NOTA = :SERIENFE
  WHERE A.CODIGO = :COD_VENDA;
end^


ALTER PROCEDURE SP_NOVO_ORCAMENTO (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35),
    ENC_FINANCEIRO NUMERIC(18,2),
    OBSERVACOES VARCHAR(150),
    COD_VENDEDOR INTEGER,
    COD_EMPRESA INTEGER,
    COD_PAGTO INTEGER,
    ENDERECO VARCHAR(40),
    CIDADE VARCHAR(30),
    FONE VARCHAR(15),
    BAIRRO VARCHAR(30),
    CPF_CNPJ VARCHAR(20),
    RG_IE VARCHAR(15),
    EXPORTADO VARCHAR(1),
    UF VARCHAR(2),
    COD_IBGE VARCHAR(7),
    CEP CHAR(15),
    NUMERO VARCHAR(6),
    PRODUTOR VARCHAR(1),
    IE_PRODUTOR CHAR(15),
    TIPO CHAR(1))
AS
begin
     insert into ORCAMENTOS
(
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO,
  ENC_FINANCEIRO,
  OBSERVACOES,
  COD_VENDEDOR,
  COD_EMPRESA,
  COD_PAGTO,
  ENDERECO,
  CIDADE,
  FONE,
  BAIRRO,
  CPF_CNPJ,
  RG_IE,
  EXPORTADO,
  UF,
  COD_IBGE ,
  CEP ,
  NUMERO,
  PRODUTOR,
  IE_PRODUTOR,
  TIPO)
     values (
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :PAGAMENTO,
  :ENC_FINANCEIRO,
  :OBSERVACOES,
  :COD_VENDEDOR,
  :COD_EMPRESA,
  :COD_PAGTO,
  :ENDERECO,
  :CIDADE,
  :FONE,
  :BAIRRO,
  :CPF_CNPJ,
  :RG_IE,
  :EXPORTADO,
  :UF,
  :COD_IBGE ,
  :CEP ,
  :NUMERO,
  :PRODUTOR,
  :IE_PRODUTOR,
  :TIPO
);
end^


ALTER PROCEDURE SP_NOVO_ORCAMENTOS_ITENS (
    CODIGO INTEGER,
    CODIGO_ID INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(50),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2))
AS
begin
     insert into ORCAMENTOS_ITENS
(
  CODIGO,
  CODIGO_ID,
  CODIGO_PRODUTO,
  DESCRICAO_PRODUTO,
  PRECO_UNITARIO,
  DESCONTO,
  QUANTIDADE,
  PRECO_TOTAL,
  COMISSAO,
  ENC_FINANCEIRO)
  values
  (:CODIGO,
  :CODIGO_ID,
  :CODIGO_PRODUTO,
  :DESCRICAO_PRODUTO,
  :PRECO_UNITARIO,
  :DESCONTO,
  :QUANTIDADE,
  :PRECO_TOTAL,
  :COMISSAO,
  :ENC_FINANCEIRO
);
end^


ALTER PROCEDURE SP_NOVO_PEDIDO (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    SITUACAO CHAR(1),
    ENC_FINANCEIRO NUMERIC(18,2),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99),
    COD_PAGTO INTEGER,
    COD_VENDEDOR INTEGER,
    COD_EMPRESA INTEGER,
    NUM_NOTA INTEGER,
    SERIE_NOTA VARCHAR(3),
    N_CUPOM VARCHAR(18),
    N_ECF VARCHAR(5),
    ENDERECO VARCHAR(40),
    CPF_CNPJ CHAR(20),
    RG_IE CHAR(15),
    FONE VARCHAR(15),
    CIDADE VARCHAR(40),
    BAIRRO VARCHAR(30),
    N_PARTIDA VARCHAR(15),
    PROPRIEDADE VARCHAR(50),
    QUANT_VENDIDA NUMERIC(18,2),
    SALDO_VENDIDO NUMERIC(18,2),
    MED_VETERINARIO VARCHAR(50),
    DATA_VACINA DATE,
    VALOR_AVISTA NUMERIC(18,2),
    VALOR_PRAZO NUMERIC(18,2),
    UF VARCHAR(2),
    COD_IBGE VARCHAR(7),
    CEP CHAR(15),
    NUMERO VARCHAR(6),
    CELULAR VARCHAR(15),
    PROD_RURAL VARCHAR(1),
    IE_PRODUTOR CHAR(15),
    TIPO CHAR(1),
    VALOR_PAGO NUMERIC(18,2),
    VALOR_TROCO NUMERIC(18,2),
    HORA TIME,
    KM INTEGER)
AS
begin
     insert into PEDIDOS
(
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  SITUACAO,
  ENC_FINANCEIRO,
  TP,
  OBSERVACOES,
  COD_PAGTO,
  COD_VENDEDOR,
  COD_EMPRESA,
  NUM_NOTA,
  SERIE_NOTA,
  N_CUPOM,
  N_ECF,
  ENDERECO,
  CPF_CNPJ,
  RG_IE,
  FONE,
  CIDADE,
  BAIRRO,
  N_PARTIDA,
  PROPRIEDADE,
  QUANT_VENDIDA ,
  SALDO_VENDIDO ,
  MED_VETERINARIO,
  DATA_VACINA ,
  VALOR_AVISTA,
  VALOR_PRAZO,
  UF,
  COD_IBGE ,
  CEP ,
  NUMERO,
  CELULAR,
  PROD_RURAL,
  IE_PRODUTOR,
  TIPO,
  VALOR_PAGO,
  VALOR_TROCO,
  HORA,
  KM)
     values (
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :STATUS,
  :PAGAMENTO,
  :SITUACAO,
  :ENC_FINANCEIRO,
  :TP,
  :OBSERVACOES,
  :COD_PAGTO,
  :COD_VENDEDOR,
  :COD_EMPRESA,
  :NUM_NOTA,
  :SERIE_NOTA,
  :N_CUPOM,
  :N_ECF,
  :ENDERECO,
  :CPF_CNPJ,
  :RG_IE,
  :FONE,
  :CIDADE,
  :BAIRRO,
  :N_PARTIDA,
  :PROPRIEDADE,
  :QUANT_VENDIDA ,
  :SALDO_VENDIDO ,
  :MED_VETERINARIO,
  :DATA_VACINA ,
  :VALOR_AVISTA,
  :VALOR_PRAZO,
  :UF,
  :COD_IBGE ,
  :CEP ,
  :NUMERO,
  :CELULAR,
  :PROD_RURAL,
  :IE_PRODUTOR,
  :TIPO,
  :VALOR_PAGO,
  :VALOR_TROCO,
  :HORA,
  :KM);
end^


ALTER PROCEDURE SP_NOVO_PEDIDO_ITENS (
    CODIGO INTEGER,
    CODIGO_ID INTEGER,
    ITEN INTEGER,
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(70),
    PRECO_UNITARIO NUMERIC(18,5),
    DESCONTO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    COMISSAO NUMERIC(18,2),
    DEV CHAR(1),
    QNT_DEV NUMERIC(18,4),
    VAL_DEV NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    UNIDADE VARCHAR(6),
    SIT_TRIBUTARIA VARCHAR(5),
    VENDEDOR INTEGER,
    FRACAO INTEGER,
    COD_NCM CHAR(10),
    PROD_SERV VARCHAR(1),
    PERC_ISS DECIMAL(18,2),
    BASE_ISS NUMERIC(18,2),
    VL_ISS NUMERIC(18,2),
    PERC_ICM DECIMAL(18,2),
    BASE_ICMS NUMERIC(18,2),
    VL_ICM NUMERIC(18,2),
    PERC_IPI DECIMAL(18,2),
    BASE_IPI NUMERIC(18,2),
    VL_IPI NUMERIC(18,2),
    PERC_COFINS DECIMAL(18,2),
    BASE_COFINS NUMERIC(18,2),
    VL_COFINS NUMERIC(18,2),
    PERC_ICMS_SUBST DECIMAL(18,2),
    BASE_ICMS_SUBST NUMERIC(18,2),
    VL_ICMS_SUBST NUMERIC(18,2),
    PERC_PIS DECIMAL(18,2),
    BASE_PIS NUMERIC(18,2),
    VL_PIS NUMERIC(18,2),
    IMPRIME VARCHAR(3),
    COD_EMPRESA INTEGER,
    ID_BICO INTEGER,
    ID_TANQUE VARCHAR(5),
    ID_BOMBA VARCHAR(5),
    BICO VARCHAR(2))
AS
BEGIN
  INSERT INTO PEDIDOS_ITENS (
    CODIGO,
    CODIGO_ID,
    ITEN,
    CODIGO_PROD,
    CODIGO_PRODUTO,
    DESCRICAO_PRODUTO,
    PRECO_UNITARIO,
    DESCONTO,
    QUANTIDADE,
    PRECO_TOTAL,
    COMISSAO,
    DEV,
    QNT_DEV,
    VAL_DEV,
    ENC_FINANCEIRO,
    UNIDADE,
    SIT_TRIBUTARIA,
    VENDEDOR,
    FRACAO,
    COD_NCM,
    PROD_SERV,
    PERC_ISS,
    BASE_ISS,
    VL_ISS,
    PERC_ICM,
    BASE_ICMS,
    VL_ICM,
    PERC_IPI,
    BASE_IPI,
    VL_IPI,
    PERC_COFINS,
    BASE_COFINS,
    VL_COFINS,
    PERC_ICMS_SUBST,
    BASE_ICMS_SUBST,
    VL_ICMS_SUBST,
    PERC_PIS,
    BASE_PIS,
    VL_PIS,
    IMPRIME,
    COD_EMPRESA,
    ID_BICO,
    ID_TANQUE,
    ID_BOMBA,
    BICO)
  VALUES (
    :CODIGO,
    :CODIGO_ID,
    :ITEN,
    :CODIGO_PROD,
    :CODIGO_PRODUTO,
    :DESCRICAO_PRODUTO,
    :PRECO_UNITARIO,
    :DESCONTO,
    :QUANTIDADE,
    :PRECO_TOTAL,
    :COMISSAO,
    :DEV,
    :QNT_DEV,
    :VAL_DEV,
    :ENC_FINANCEIRO,
    :UNIDADE,
    :SIT_TRIBUTARIA,
    :VENDEDOR,
    :FRACAO,
    :COD_NCM,
    :PROD_SERV,
    :PERC_ISS,
    :BASE_ISS,
    :VL_ISS,
    :PERC_ICM,
    :BASE_ICMS,
    :VL_ICM,
    :PERC_IPI,
    :BASE_IPI,
    :VL_IPI,
    :PERC_COFINS,
    :BASE_COFINS,
    :VL_COFINS,
    :PERC_ICMS_SUBST,
    :BASE_ICMS_SUBST,
    :VL_ICMS_SUBST,
    :PERC_PIS,
    :BASE_PIS,
    :VL_PIS,
    :IMPRIME,
    :COD_EMPRESA,
    :ID_BICO,
    :ID_TANQUE,
    :ID_BOMBA,
    :BICO);
END^


ALTER PROCEDURE SP_ORCAMENTO_CLIENTE (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO
 from   ORCAMENTOS
     where  DATA between  :datai and :dataf and NOME_CLIENTE starting :Param
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :PAGAMENTO
     do suspend;
end^


ALTER PROCEDURE SP_ORCAMENTO_DEL (
    ORC INTEGER)
AS
begin
   DELETE
FROM orcamentos where codigo =:ORC;
end^


ALTER PROCEDURE SP_ORCAMENTO_GERAL (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO
 from   ORCAMENTOS
     where  DATA between  :datai and :dataf
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :PAGAMENTO
     do suspend;
end^


ALTER PROCEDURE SP_ORCAMENTO_ITENS (
    CODIGO INTEGER,
    CODIGO_ID INTEGER,
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(50),
    PRECO_UNITARIO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    COMISSAO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    VENDEDOR INTEGER,
    SIT_TRIBUTARIA VARCHAR(6),
    UNIDADE VARCHAR(6),
    FRACAO INTEGER,
    COD_NCM CHAR(10),
    PROD_SERV VARCHAR(1),
    ITEN INTEGER)
AS
BEGIN
       insert into ORCAMENTOS_ITENS
(     CODIGO,
      CODIGO_ID,
      CODIGO_PROD,
      CODIGO_PRODUTO,
      DESCRICAO_PRODUTO,
      PRECO_UNITARIO,
      QUANTIDADE,
      PRECO_TOTAL,
      COMISSAO,
      DESCONTO,
      ENC_FINANCEIRO,
      VENDEDOR,
      SIT_TRIBUTARIA,
      UNIDADE,
      FRACAO,
      COD_NCM,
      PROD_SERV,
      ITEN)
 values (
      :CODIGO,
      :CODIGO_ID,
      :CODIGO_PROD,
      :CODIGO_PRODUTO,
      :DESCRICAO_PRODUTO,
      :PRECO_UNITARIO,
      :QUANTIDADE,
      :PRECO_TOTAL,
      :COMISSAO,
      :DESCONTO,
      :ENC_FINANCEIRO,
      :VENDEDOR,
      :SIT_TRIBUTARIA,
      :UNIDADE,
      :FRACAO,
      :COD_NCM,
      :PROD_SERV,
      :ITEN);
END^


ALTER PROCEDURE SP_ORCAMENTO_ITENS_DEL (
    CODIGO_ID INTEGER)
AS
begin
   DELETE
FROM orcamentos_itens where codigo_ID =:CODIGO_ID;
end^


ALTER PROCEDURE SP_ORCAMENTO_PAGAMENTO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO
 from   ORCAMENTOS
     where  DATA between  :datai and :dataf and PAGAMENTO starting :Param
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :PAGAMENTO
     do suspend;
end^


ALTER PROCEDURE SP_ORCAMENTO_USUARIO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO
 from   ORCAMENTOS
     where  DATA between  :datai and :dataf and USUARIO starting :Param
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :PAGAMENTO
     do suspend;
end^


ALTER PROCEDURE SP_ORCAMENTOS (
    PARAM VARCHAR(10))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35),
    OBSERVACOES VARCHAR(150),
    COD_VENDEDOR INTEGER,
    COD_PAGTO INTEGER,
    ENDERECO VARCHAR(40),
    CIDADE VARCHAR(40),
    FONE VARCHAR(15),
    BAIRRO VARCHAR(40),
    CPF_CNPJ CHAR(20),
    RG_IE VARCHAR(15),
    NUMERO INTEGER,
    CEP VARCHAR(15),
    UF VARCHAR(2),
    ENC_FINANCEIRO NUMERIC(18,2))
AS
begin
     for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL    ,
  VALOR_COMISSAO,
  USUARIO,
  DATA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO,
  OBSERVACOES,
  COD_VENDEDOR,
  COD_PAGTO,
  ENDERECO,
  CIDADE,
  FONE,
  BAIRRO,
  CPF_CNPJ,
  RG_IE,
  NUMERO,
  CEP,
  UF,
  ENC_FINANCEIRO
  
        from  ORCAMENTOS
     where (CODIGO = :Param)
into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL    ,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :PAGAMENTO,
  :OBSERVACOES,
   :COD_VENDEDOR,
  :COD_PAGTO,
  :ENDERECO,
  :CIDADE,
  :FONE,
  :BAIRRO,
  :CPF_CNPJ,
  :RG_IE,
  :NUMERO,
  :CEP,
  :UF,
  :ENC_FINANCEIRO
       do suspend;
end^


ALTER PROCEDURE SP_PAG_RET_PEDIDOS (
    CODIGO INTEGER,
    DATA_AUT DATE,
    HISTORICO VARCHAR(50),
    USUARIO_AUT VARCHAR(20),
    VALOR NUMERIC(18,2),
    STATUS CHAR(1),
    CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(20),
    TIPO CHAR(1),
    CODIGO_P INTEGER,
    CODIGO_C INTEGER,
    TP CHAR(1))
AS
begin
     insert into PAG_RET_PEDIDOS
(
  CODIGO,
  DATA_AUT,
  HISTORICO,
  USUARIO_AUT,
  VALOR,
  STATUS,
  CLIENTE,
  PAGAMENTO,
  TIPO,
  CODIGO_P,
  CODIGO_C,
  TP
  )
  values
  (
  :CODIGO,
  :DATA_AUT,
  :HISTORICO,
  :USUARIO_AUT,
  :VALOR,
  :STATUS,
  :CLIENTE,
  :PAGAMENTO,
  :TIPO,
  :CODIGO_P,
  :CODIGO_C,
  :TP
);
end^


ALTER PROCEDURE SP_PEDIDOS (
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    PAGAMENTO VARCHAR(35),
    ENC_FINANCEIRO NUMERIC(18,4),
    DATA_ENTREGA DATE,
    OBSERVACOES VARCHAR(99),
    TP VARCHAR(1),
    STATUS VARCHAR(1),
    SERIE_NOTA VARCHAR(3),
    NUM_NOTA INTEGER,
    ENDERECO VARCHAR(50),
    CPF_CNPJ VARCHAR(20),
    RG_IE VARCHAR(15),
    FONE VARCHAR(15),
    CIDADE VARCHAR(40),
    BAIRRO VARCHAR(30),
    HORA TIME,
    NUMERO VARCHAR(6),
    CEP CHAR(10),
    UF VARCHAR(2),
    VALOR_TROCO NUMERIC(18,2),
    VALOR_PAGO NUMERIC(18,2))
AS
begin
     for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA_PEDIDO,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  PAGAMENTO,
  ENC_FINANCEIRO,
  DATA_ENTREGA,
  OBSERVACOES,
  TP,
  STATUS,
  NUM_NOTA,
  SERIE_NOTA,
  ENDERECO,
  CPF_CNPJ,
  RG_IE,
  FONE,
  CIDADE,
  BAIRRO,
  HORA,
  NUMERO,
  CEP,
  UF,
  VALOR_TROCO,
  VALOR_PAGO
   from  PEDIDOS
     where (CODIGO =:Param)
into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL    ,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA_PEDIDO,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :PAGAMENTO,
  :ENC_FINANCEIRO,
  :DATA_ENTREGA,
  :OBSERVACOES,
  :TP,
  :STATUS,
  :NUM_NOTA,
  :SERIE_NOTA,
  :ENDERECO,
  :CPF_CNPJ,
  :RG_IE,
  :FONE,
  :CIDADE,
  :BAIRRO,
  :HORA,
  :NUMERO,
  :CEP,
  :UF,
  :VALOR_TROCO,
  :VALOR_PAGO
     do suspend;
end^


ALTER PROCEDURE SP_PEDIDOS_C_CLIENTE (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(20),
    OBSERVACOES VARCHAR(99))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  OBSERVACOES
 from   V_PEDIDOS_C
     where  DATA_PEDIDO between  :datai and :dataf and NOME_CLIENTE starting :Param
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :STATUS,
  :PAGAMENTO,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_PEDIDOS_C_GERAL (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(20),
    OBSERVACOES VARCHAR(99))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  OBSERVACOES
 from   V_PEDIDOS_C
     where  DATA_PEDIDO between  :datai and :dataf
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :STATUS,
  :PAGAMENTO,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_PEDIDOS_C_PAGAMENTO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(20),
    OBSERVACOES VARCHAR(99))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  OBSERVACOES
 from   V_PEDIDOS_C
     where  DATA_PEDIDO between  :datai and :dataf and PAGAMENTO starting :Param
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :STATUS,
  :PAGAMENTO,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_PEDIDOS_C_USUARIO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(20),
    OBSERVACOES VARCHAR(99))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  USUARIO,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  OBSERVACOES
 from   V_PEDIDOS_C
     where  DATA_PEDIDO between  :datai and :dataf and USUARIO starting :Param
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :USUARIO,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :STATUS,
  :PAGAMENTO,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_PEDIDOS_ITENS_DEL (
    CODIGO_ID INTEGER)
AS
begin
   DELETE
FROM PEDIDOS_ITENS where codigo_ID =:CODIGO_ID;
end^


ALTER PROCEDURE SP_PEDIDOS_N_CLIENTE (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  ENC_FINANCEIRO,
  USUARIO,
  USUARIO_ENTREGA,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  TP,
  OBSERVACOES
 from   V_PEDIDOS_N
     where  DATA_PEDIDO between  :datai and :dataf and NOME_CLIENTE starting :Param
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :ENC_FINANCEIRO,
  :USUARIO,
  :USUARIO_ENTREGA,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :STATUS,
  :PAGAMENTO,
  :TP,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_PEDIDOS_N_CLIENTE_CODIGO (
    DATAI DATE,
    DATAF DATE,
    PARAM INTEGER)
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  ENC_FINANCEIRO,
  USUARIO,
  USUARIO_ENTREGA,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  TP,
  OBSERVACOES
 from   V_PEDIDOS_N
     where  DATA_PEDIDO between  :datai and :dataf and CODIGO_CLIENTE starting :Param
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :ENC_FINANCEIRO,
  :USUARIO,
  :USUARIO_ENTREGA,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :STATUS,
  :PAGAMENTO,
  :TP,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_PEDIDOS_N_GERAL (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99),
    N_CUPOM VARCHAR(18),
    N_ECF VARCHAR(5),
    NUM_NOTA INTEGER,
    SERIE_NOTA VARCHAR(3))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  ENC_FINANCEIRO,
  USUARIO,
  USUARIO_ENTREGA,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  TP,
  OBSERVACOES,
  N_CUPOM,
  N_ECF,
  NUM_NOTA,
  SERIE_NOTA
  
 from PEDIDOS
    WHERE  SITUACAO = 'N' AND DATA_PEDIDO between  :datai and :dataf
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :ENC_FINANCEIRO,
  :USUARIO,
  :USUARIO_ENTREGA,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :STATUS,
  :PAGAMENTO,
  :TP,
  :OBSERVACOES,
  :N_CUPOM,
  :N_ECF,
  :NUM_NOTA,
  :SERIE_NOTA
  do suspend;
end^


ALTER PROCEDURE SP_PEDIDOS_N_PAGAMENTO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  ENC_FINANCEIRO,
  USUARIO,
  USUARIO_ENTREGA,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  TP,
  OBSERVACOES
 from   V_PEDIDOS_N
     where  DATA_PEDIDO between  :datai and :dataf and PAGAMENTO starting :Param
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :ENC_FINANCEIRO,
  :USUARIO,
  :USUARIO_ENTREGA,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :STATUS,
  :PAGAMENTO,
  :TP,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_PEDIDOS_N_USUARIO (
    DATAI DATE,
    DATAF DATE,
    PARAM VARCHAR(40))
RETURNS (
    CODIGO INTEGER,
    VALOR_ITENS NUMERIC(18,2),
    VALOR_DESCONTO NUMERIC(18,2),
    VALOR_TOTAL NUMERIC(18,2),
    VALOR_COMISSAO NUMERIC(18,2),
    ENC_FINANCEIRO NUMERIC(18,2),
    USUARIO VARCHAR(20),
    USUARIO_ENTREGA VARCHAR(20),
    DATA_PEDIDO DATE,
    DATA_ENTREGA DATE,
    CODIGO_CLIENTE INTEGER,
    NOME_CLIENTE VARCHAR(50),
    STATUS CHAR(1),
    PAGAMENTO VARCHAR(35),
    TP CHAR(1),
    OBSERVACOES VARCHAR(99))
AS
begin
 for select
  CODIGO,
  VALOR_ITENS,
  VALOR_DESCONTO,
  VALOR_TOTAL,
  VALOR_COMISSAO,
  ENC_FINANCEIRO,
  USUARIO,
  USUARIO_ENTREGA,
  DATA_PEDIDO,
  DATA_ENTREGA,
  CODIGO_CLIENTE,
  NOME_CLIENTE,
  STATUS,
  PAGAMENTO,
  TP,
  OBSERVACOES
 from   V_PEDIDOS_N
     where  DATA_PEDIDO between  :datai and :dataf and USUARIO starting :Param
  into
  :CODIGO,
  :VALOR_ITENS,
  :VALOR_DESCONTO,
  :VALOR_TOTAL,
  :VALOR_COMISSAO,
  :ENC_FINANCEIRO,
  :USUARIO,
  :USUARIO_ENTREGA,
  :DATA_PEDIDO,
  :DATA_ENTREGA,
  :CODIGO_CLIENTE,
  :NOME_CLIENTE,
  :STATUS,
  :PAGAMENTO,
  :TP,
  :OBSERVACOES
     do suspend;
end^


ALTER PROCEDURE SP_PENDENTE_SENHA (
    CLIENTE VARCHAR(18))
RETURNS (
    CODIGO INTEGER,
    NOME_RS VARCHAR(50),
    V_CHEQUE_COMPENSAR NUMERIC(18,4),
    V_CRED_RECEBER NUMERIC(18,2),
    LIMITE_DE_CREDITO NUMERIC(18,2),
    LIMITE_DIPONIVEL NUMERIC(18,2),
    V_CRED_VENCIDO NUMERIC(18,2))
AS
BEGIN
   FOR SELECT
      CLIENTES.CODIGO,
      CLIENTES.NOME_RS,
      COALESCE(V_CHEQUES_CLIENTE.V_CHEQUE_COMPENSAR,0),
      COALESCE(V_CREDIARIO_CLIENTE.V_CRED_RECEBER,0),
      CLIENTES.LIMITE_DE_CREDITO,
      COALESCE(V_CREDIARIO_VENCIDO_CLIENTE.V_CRED_VENCIDO,0)

    FROM
     CLIENTES
     LEFT OUTER JOIN V_CHEQUES_CLIENTE ON (CLIENTES.CODIGO=V_CHEQUES_CLIENTE.COD_CLIENTE)
     LEFT OUTER JOIN V_CREDIARIO_CLIENTE ON (CLIENTES.CODIGO=V_CREDIARIO_CLIENTE.CODIGO_CLIENTE)
     LEFT OUTER JOIN v_crediario_vencido_cliente ON (CLIENTES.CODIGO=v_crediario_vencido_cliente.v_cliente)
     where (CLIENTES.cpf_cnpj =:CLIENTE)

     INTO
      :CODIGO,
      :NOME_RS,
      :V_CHEQUE_COMPENSAR,
      :V_CRED_RECEBER,
      :LIMITE_DE_CREDITO,
      :V_CRED_VENCIDO
DO
    SUSPEND;
  END^


ALTER PROCEDURE SP_PLANO_SINTETICO (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    CODIGO INTEGER,
    NOME VARCHAR(70),
    COD_COMPLETO VARCHAR(20),
    ENTRADA NUMERIC(18,2),
    SAIDA NUMERIC(18,2),
    VALOR NUMERIC(18,2))
AS
BEGIN
  FOR
    SELECT 
      PLANOCONTAS.CODIGO,
      PLANOCONTAS.NOME,
      PLANOCONTAS.COD_COMPLETO,
      sum(MOVIMENTO_DIARIO.VALOR_ENTRADA) AS ENTRADA,
      SUM(MOVIMENTO_DIARIO.VALOR_SAIDA) AS SAIDA,
      SUM(MOVIMENTO_DIARIO.VALOR) AS VALOR
    FROM
     PLANOCONTAS
     INNER JOIN MOVIMENTO_DIARIO ON (PLANOCONTAS.CODIGO=MOVIMENTO_DIARIO.COD_PLANO)
    WHERE
      (MOVIMENTO_DIARIO.DATA between  :datai and :dataf)
    GROUP BY
      PLANOCONTAS.CODIGO,
      PLANOCONTAS.NOME,
      PLANOCONTAS.COD_COMPLETO

    INTO
      :CODIGO,
      :NOME,
      :COD_COMPLETO,
      :ENTRADA,
      :SAIDA,
      :VALOR
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_PRODUTOS_ESTOQUES_LOG (
    ID_EMPRESA INTEGER,
    ID_FILIAL INTEGER,
    ID_AJUSTE INTEGER,
    ID_PRODUTO INTEGER,
    ID_LOTE VARCHAR(20),
    ID_PRODUTO_SERIE VARCHAR(30),
    DATA DATE,
    ID_USUARIO INTEGER,
    ID_MOVIMENTO INTEGER,
    FRACAO INTEGER,
    ESTOQUE_ANTERIOR NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,3),
    ESTOQUE_POSTERIOR NUMERIC(18,2),
    SITUACAO_ESTOQUE INTEGER,
    OPERACAO VARCHAR(1),
    ACAO_BD VARCHAR(1),
    SITUACAO_ESTOQUE_OLD INTEGER,
    COD_VENDA INTEGER,
    COD_COMPRA INTEGER,
    HISTORICO VARCHAR(100),
    HORA TIME)
AS
BEGIN
  INSERT INTO PRODUTOS_ESTOQUES_LOG (
    ID_EMPRESA,
    ID_FILIAL,
    ID_AJUSTE,
    ID_PRODUTO,
    ID_LOTE,
    ID_PRODUTO_SERIE,
    DATA,
    ID_USUARIO,
    ID_MOVIMENTO,
    FRACAO,
    ESTOQUE_ANTERIOR,
    QUANTIDADE,
    ESTOQUE_POSTERIOR,
    SITUACAO_ESTOQUE,
    OPERACAO,
    ACAO_BD,
    SITUACAO_ESTOQUE_OLD,
    COD_VENDA,
    COD_COMPRA,
    HISTORICO,
    HORA)
  VALUES (
    :ID_EMPRESA,
    :ID_FILIAL,
    :ID_AJUSTE,
    :ID_PRODUTO,
    :ID_LOTE,
    :ID_PRODUTO_SERIE,
    :DATA,
    :ID_USUARIO,
    :ID_MOVIMENTO,
    :FRACAO,
    :ESTOQUE_ANTERIOR,
    :QUANTIDADE,
    :ESTOQUE_POSTERIOR,
    :SITUACAO_ESTOQUE,
    :OPERACAO,
    :ACAO_BD,
    :SITUACAO_ESTOQUE_OLD,
    :COD_VENDA,
    :COD_COMPRA,
    :HISTORICO,
    :HORA);
END^


ALTER PROCEDURE SP_REL_PIS_COFINS (
    DATAI DATE,
    DATAF DATE,
    COD_EMP INTEGER)
RETURNS (
    DATA_PEDIDO DATE,
    LISTA VARCHAR(30),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO1 NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    PRECO_CUSTO NUMERIC(18,2),
    COD_EMPRESA INTEGER,
    TOTAL_LIQUIDO NUMERIC(18,2))
AS
declare variable
LISTA_ABC VARCHAR (30) CHARACTER SET NONE;

BEGIN
   FOR SELECT DATA_PEDIDO,
              PRECO_UNITARIO,
              DESCONTO1,
              QUANTIDADE,
              PRECO_TOTAL,
              PRECO_CUSTO,
              COD_EMPRESA,
              LISTA_ABC
      FROM REL_PIS_COFINS
      where  DATA_PEDIDO between  :datai and :dataf AND COD_EMPRESA  = :cod_EMP
      INTO :DATA_PEDIDO,
           :PRECO_UNITARIO,
           :DESCONTO1,
           :QUANTIDADE,
           :PRECO_TOTAL,
           :PRECO_CUSTO,
           :COD_EMPRESA,
           :LISTA_ABC
           DO BEGIN
           TOTAL_LIQUIDO = (PRECO_TOTAL - DESCONTO1);
           if (:LISTA_ABC='+') then
           BEGIN
           LISTA = 'POSITIVA';
           END ELSE
           if (:LISTA_ABC='-') then
           BEGIN
           LISTA = 'NEGATIVA';
           END ELSE
           if (:LISTA_ABC='N') then
           BEGIN
           LISTA = 'NEUTRA';
           END ELSE
           if (:LISTA_ABC='O') then
           BEGIN
           LISTA = 'CORRELATA';
           END
            SUSPEND;
      END
END^


ALTER PROCEDURE SP_REL_VENDAS_PROD (
    MESI VARCHAR(2),
    ANOI VARCHAR(4))
RETURNS (
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(50),
    UNIDADE VARCHAR(6),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    MES VARCHAR(2),
    ANO VARCHAR(4))
AS
BEGIN
  FOR SELECT CODIGO_PROD,
             CODIGO_PRODUTO,
             DESCRICAO_PRODUTO,
             UNIDADE,
             DESCONTO,
             QUANTIDADE,
             PRECO_TOTAL,
             MES,
             ANO
      FROM REL_VENDAS_PROD
      WHERE MES=:MESI AND ANO=:ANOI
      INTO :CODIGO_PROD,
           :CODIGO_PRODUTO,
           :DESCRICAO_PRODUTO,
           :UNIDADE,
           :DESCONTO,
           :QUANTIDADE,
           :PRECO_TOTAL,
           :MES,
           :ANO
           DO BEGIN
           PRECO_UNITARIO = ((PRECO_TOTAL + DESCONTO)/QUANTIDADE);
        SUSPEND;
      END
END^


ALTER PROCEDURE SP_REL_VENDAS_PROD_DIA (
    DIAI VARCHAR(2),
    MESI VARCHAR(2),
    ANOI VARCHAR(4))
RETURNS (
    CODIGO_PROD INTEGER,
    CODIGO_PRODUTO VARCHAR(13),
    DESCRICAO_PRODUTO VARCHAR(50),
    UNIDADE VARCHAR(6),
    PRECO_UNITARIO NUMERIC(18,2),
    DESCONTO NUMERIC(18,2),
    QUANTIDADE NUMERIC(18,4),
    PRECO_TOTAL NUMERIC(18,2),
    DIA VARCHAR(2),
    MES VARCHAR(2),
    ANO VARCHAR(4))
AS
BEGIN
  FOR SELECT CODIGO_PROD,
             CODIGO_PRODUTO,
             DESCRICAO_PRODUTO,
             UNIDADE,
             DESCONTO,
             QUANTIDADE,
             PRECO_TOTAL,
             DIA,
             MES,
             ANO
      FROM REL_VENDAS_PROD_DIA
      WHERE DIA=:DIAI and MES=:MESI AND ANO=:ANOI
      INTO :CODIGO_PROD,
           :CODIGO_PRODUTO,
           :DESCRICAO_PRODUTO,
           :UNIDADE,
           :DESCONTO,
           :QUANTIDADE,
           :PRECO_TOTAL,
           :DIA,
           :MES,
           :ANO
           DO BEGIN
           PRECO_UNITARIO = ((PRECO_TOTAL + DESCONTO)/QUANTIDADE);
        SUSPEND;
      END
END^


ALTER PROCEDURE SP_RELATORIO_G_TRIBUTACAO (
    DATAI DATE,
    DATAF DATE,
    GRUPO INTEGER,
    STAT CHAR(1))
RETURNS (
    CODIGO_BARRAS CHAR(13),
    REFERENCIA VARCHAR(15),
    GRUPO_TRIBUTACAO INTEGER,
    NR_SEQUENCIA INTEGER,
    NR_NOTA INTEGER,
    COD_PRODUTO VARCHAR(15),
    COD_NCM VARCHAR(11),
    DESCRICAO_PRODUTO VARCHAR(70),
    PROD_SERV VARCHAR(1),
    QT_PRODUTO NUMERIC(18,4),
    VL_UNITARIO NUMERIC(18,10),
    VL_TOTAL NUMERIC(18,2),
    DT_LANCAMENTO DATE,
    PESO_LIQUIDO DOUBLE PRECISION,
    CD_ATUALIZACAO INTEGER,
    CST VARCHAR(3),
    PC_RED_BASE_ICM NUMERIC(18,2),
    ALIQ_ICM NUMERIC(18,2),
    ALIQ_ICM_SUBST NUMERIC(18,2),
    ALIQ_IPI NUMERIC(18,2),
    ALIQ_ISS NUMERIC(18,2),
    VL_BASE_ICM NUMERIC(18,2),
    VL_ICM NUMERIC(18,2),
    VL_ICM_SUBST NUMERIC(18,2),
    VL_IPI NUMERIC(18,2),
    VL_ISS NUMERIC(18,2),
    DT_ALTERACAO DATE,
    DESC_UNIDADE VARCHAR(3),
    PERC_DESCONTO NUMERIC(18,2),
    VL_BASE_ICM_SUBST NUMERIC(18,2),
    CD_CONTA INTEGER,
    CFOP VARCHAR(10),
    VL_DESCONTO NUMERIC(18,2),
    VL_CONTABIL NUMERIC(18,2),
    VL_OUTROS NUMERIC(18,2),
    VL_ISENTO NUMERIC(18,2),
    ALIQ_PIS NUMERIC(18,2),
    VL_BASE_PIS NUMERIC(18,2),
    VL_PIS NUMERIC(18,2),
    ALIQ_COFINS NUMERIC(18,2),
    VL_BASE_COFINS NUMERIC(18,2),
    VL_COFINS NUMERIC(18,2),
    VL_BASE_ISS NUMERIC(18,2),
    VL_BASE_IPI NUMERIC(18,2),
    ALIQ_ICM_PROPRIO_ST NUMERIC(18,2),
    VL_BASE_ICM_PROPRIO_ST NUMERIC(18,2),
    VL_ICM_PROPRIO_ST NUMERIC(18,2),
    ALIQ_ICM_SUBST_REAL NUMERIC(18,2),
    VL_BASE_ICM_SUBST_REAL NUMERIC(18,2),
    VL_ICM_SUBST_REAL NUMERIC(18,2),
    ITEN INTEGER,
    CODIGO_PROD INTEGER,
    CST_PIS VARCHAR(3),
    CST_COFINS VARCHAR(3),
    CST_IPI VARCHAR(2),
    DT_EMISSAO DATE,
    STATUS_CANCELADO VARCHAR(1),
    STATUS VARCHAR(1))
AS
BEGIN
  FOR
    SELECT 
      PRODUTOS.CODIGO_BARRAS,
      PRODUTOS.REFERENCIA,
      PRODUTOS.GRUPO_TRIBUTACAO,
      NFECE_ITENS.NR_SEQUENCIA,
      NFECE_ITENS.NR_NOTA,
      NFECE_ITENS.COD_PRODUTO,
      NFECE_ITENS.COD_NCM,
      NFECE_ITENS.DESCRICAO_PRODUTO,
      NFECE_ITENS.PROD_SERV,
      NFECE_ITENS.QT_PRODUTO,
      NFECE_ITENS.VL_UNITARIO,
      NFECE_ITENS.VL_TOTAL,
      NFECE_ITENS.DT_LANCAMENTO,
      NFECE_ITENS.PESO_LIQUIDO,
      NFECE_ITENS.CD_ATUALIZACAO,
      NFECE_ITENS.CST,
      NFECE_ITENS.PC_RED_BASE_ICM,
      NFECE_ITENS.ALIQ_ICM,
      NFECE_ITENS.ALIQ_ICM_SUBST,
      NFECE_ITENS.ALIQ_IPI,
      NFECE_ITENS.ALIQ_ISS,
      NFECE_ITENS.VL_BASE_ICM,
      NFECE_ITENS.VL_ICM,
      NFECE_ITENS.VL_ICM_SUBST,
      NFECE_ITENS.VL_IPI,
      NFECE_ITENS.VL_ISS,
      NFECE_ITENS.DT_ALTERACAO,
      NFECE_ITENS.DESC_UNIDADE,
      NFECE_ITENS.PERC_DESCONTO,
      NFECE_ITENS.VL_BASE_ICM_SUBST,
      NFECE_ITENS.CD_CONTA,
      NFECE_ITENS.CFOP,
      NFECE_ITENS.VL_DESCONTO,
      NFECE_ITENS.VL_CONTABIL,
      NFECE_ITENS.VL_OUTROS,
      NFECE_ITENS.VL_ISENTO,
      NFECE_ITENS.ALIQ_PIS,
      NFECE_ITENS.VL_BASE_PIS,
      NFECE_ITENS.VL_PIS,
      NFECE_ITENS.ALIQ_COFINS,
      NFECE_ITENS.VL_BASE_COFINS,
      NFECE_ITENS.VL_COFINS,
      NFECE_ITENS.VL_BASE_ISS,
      NFECE_ITENS.VL_BASE_IPI,
      NFECE_ITENS.ALIQ_ICM_PROPRIO_ST,
      NFECE_ITENS.VL_BASE_ICM_PROPRIO_ST,
      NFECE_ITENS.VL_ICM_PROPRIO_ST,
      NFECE_ITENS.ALIQ_ICM_SUBST_REAL,
      NFECE_ITENS.VL_BASE_ICM_SUBST_REAL,
      NFECE_ITENS.VL_ICM_SUBST_REAL,
      NFECE_ITENS.ITEN,
      NFECE_ITENS.CODIGO_PROD,
      NFECE_ITENS.CST_PIS,
      NFECE_ITENS.CST_COFINS,
      NFECE_ITENS.CST_IPI,
      NFECE_NOTA.DT_EMISSAO,
      NFECE_NOTA.STATUS_CANCELADO,
      NFECE_NOTA.STATUS
    FROM
     PRODUTOS
     INNER JOIN NFECE_ITENS ON (PRODUTOS.CODIGO=NFECE_ITENS.CODIGO_PROD)
     INNER JOIN NFECE_NOTA ON (NFECE_ITENS.NR_NOTA=NFECE_NOTA.NR_NOTA)
     where  DT_EMISSAO between  :datai and :dataf AND GRUPO_TRIBUTACAO = :GRUPO AND STATUS =:STAT AND STATUS_CANCELADO IS NULL

    INTO
      :CODIGO_BARRAS,
      :REFERENCIA,
      :GRUPO_TRIBUTACAO,
      :NR_SEQUENCIA,
      :NR_NOTA,
      :COD_PRODUTO,
      :COD_NCM,
      :DESCRICAO_PRODUTO,
      :PROD_SERV,
      :QT_PRODUTO,
      :VL_UNITARIO,
      :VL_TOTAL,
      :DT_LANCAMENTO,
      :PESO_LIQUIDO,
      :CD_ATUALIZACAO,
      :CST,
      :PC_RED_BASE_ICM,
      :ALIQ_ICM,
      :ALIQ_ICM_SUBST,
      :ALIQ_IPI,
      :ALIQ_ISS,
      :VL_BASE_ICM,
      :VL_ICM,
      :VL_ICM_SUBST,
      :VL_IPI,
      :VL_ISS,
      :DT_ALTERACAO,
      :DESC_UNIDADE,
      :PERC_DESCONTO,
      :VL_BASE_ICM_SUBST,
      :CD_CONTA,
      :CFOP,
      :VL_DESCONTO,
      :VL_CONTABIL,
      :VL_OUTROS,
      :VL_ISENTO,
      :ALIQ_PIS,
      :VL_BASE_PIS,
      :VL_PIS,
      :ALIQ_COFINS,
      :VL_BASE_COFINS,
      :VL_COFINS,
      :VL_BASE_ISS,
      :VL_BASE_IPI,
      :ALIQ_ICM_PROPRIO_ST,
      :VL_BASE_ICM_PROPRIO_ST,
      :VL_ICM_PROPRIO_ST,
      :ALIQ_ICM_SUBST_REAL,
      :VL_BASE_ICM_SUBST_REAL,
      :VL_ICM_SUBST_REAL,
      :ITEN,
      :CODIGO_PROD,
      :CST_PIS,
      :CST_COFINS,
      :CST_IPI,
      :DT_EMISSAO,
      :STATUS_CANCELADO,
      :STATUS
DO BEGIN
    SUSPEND;
END
  FOR
    SELECT
      PRODUTOS.CODIGO_BARRAS,
      PRODUTOS.REFERENCIA,
      PRODUTOS.GRUPO_TRIBUTACAO,
      NFE_ITENS.NR_SEQUENCIA,
      NFE_ITENS.NR_NOTA,
      NFE_ITENS.COD_PRODUTO,
      NFE_ITENS.COD_NCM,
      NFE_ITENS.DESCRICAO_PRODUTO,
      NFE_ITENS.PROD_SERV,
      NFE_ITENS.QT_PRODUTO,
      NFE_ITENS.VL_UNITARIO,
      NFE_ITENS.VL_TOTAL,
      NFE_ITENS.DT_LANCAMENTO,
      NFE_ITENS.PESO_LIQUIDO,
      NFE_ITENS.CD_ATUALIZACAO,
      NFE_ITENS.CST,
      NFE_ITENS.PC_RED_BASE_ICM,
      NFE_ITENS.ALIQ_ICM,
      NFE_ITENS.ALIQ_ICM_SUBST,
      NFE_ITENS.ALIQ_IPI,
      NFE_ITENS.ALIQ_ISS,
      NFE_ITENS.VL_BASE_ICM,
      NFE_ITENS.VL_ICM,
      NFE_ITENS.VL_ICM_SUBST,
      NFE_ITENS.VL_IPI,
      NFE_ITENS.VL_ISS,
      NFE_ITENS.DT_ALTERACAO,
      NFE_ITENS.DESC_UNIDADE,
      NFE_ITENS.PERC_DESCONTO,
      NFE_ITENS.VL_BASE_ICM_SUBST,
      NFE_ITENS.CD_CONTA,
      NFE_ITENS.CFOP,
      NFE_ITENS.VL_DESCONTO,
      NFE_ITENS.VL_CONTABIL,
      NFE_ITENS.VL_OUTROS,
      NFE_ITENS.VL_ISENTO,
      NFE_ITENS.ALIQ_PIS,
      NFE_ITENS.VL_BASE_PIS,
      NFE_ITENS.VL_PIS,
      NFE_ITENS.ALIQ_COFINS,
      NFE_ITENS.VL_BASE_COFINS,
      NFE_ITENS.VL_COFINS,
      NFE_ITENS.VL_BASE_ISS,
      NFE_ITENS.VL_BASE_IPI,
      NFE_ITENS.ALIQ_ICM_PROPRIO_ST,
      NFE_ITENS.VL_BASE_ICM_PROPRIO_ST,
      NFE_ITENS.VL_ICM_PROPRIO_ST,
      NFE_ITENS.ALIQ_ICM_SUBST_REAL,
      NFE_ITENS.VL_BASE_ICM_SUBST_REAL,
      NFE_ITENS.VL_ICM_SUBST_REAL,
      NFE_ITENS.ITEN,
      NFE_ITENS.CODIGO_PROD,
      NFE_ITENS.CST_PIS,
      NFE_ITENS.CST_COFINS,
      NFE_ITENS.CST_IPI,
      NFE_NOTA.DT_EMISSAO,
      NFE_NOTA.STATUS_CANCELADO,
      NFE_NOTA.STATUS
    FROM
     PRODUTOS
     INNER JOIN NFE_ITENS ON (PRODUTOS.CODIGO=NFE_ITENS.CODIGO_PROD)
     INNER JOIN NFE_NOTA ON (NFE_ITENS.NR_NOTA=NFE_NOTA.NR_NOTA)

      where DT_EMISSAO between  :datai and :dataf AND GRUPO_TRIBUTACAO = :GRUPO AND STATUS =:STAT AND STATUS_CANCELADO IS NULL

    INTO
      :CODIGO_BARRAS,
      :REFERENCIA,
      :GRUPO_TRIBUTACAO,
      :NR_SEQUENCIA,
      :NR_NOTA,
      :COD_PRODUTO,
      :COD_NCM,
      :DESCRICAO_PRODUTO,
      :PROD_SERV,
      :QT_PRODUTO,
      :VL_UNITARIO,
      :VL_TOTAL,
      :DT_LANCAMENTO,
      :PESO_LIQUIDO,
      :CD_ATUALIZACAO,
      :CST,
      :PC_RED_BASE_ICM,
      :ALIQ_ICM,
      :ALIQ_ICM_SUBST,
      :ALIQ_IPI,
      :ALIQ_ISS,
      :VL_BASE_ICM,
      :VL_ICM,
      :VL_ICM_SUBST,
      :VL_IPI,
      :VL_ISS,
      :DT_ALTERACAO,
      :DESC_UNIDADE,
      :PERC_DESCONTO,
      :VL_BASE_ICM_SUBST,
      :CD_CONTA,
      :CFOP,
      :VL_DESCONTO,
      :VL_CONTABIL,
      :VL_OUTROS,
      :VL_ISENTO,
      :ALIQ_PIS,
      :VL_BASE_PIS,
      :VL_PIS,
      :ALIQ_COFINS,
      :VL_BASE_COFINS,
      :VL_COFINS,
      :VL_BASE_ISS,
      :VL_BASE_IPI,
      :ALIQ_ICM_PROPRIO_ST,
      :VL_BASE_ICM_PROPRIO_ST,
      :VL_ICM_PROPRIO_ST,
      :ALIQ_ICM_SUBST_REAL,
      :VL_BASE_ICM_SUBST_REAL,
      :VL_ICM_SUBST_REAL,
      :ITEN,
      :CODIGO_PROD,
      :CST_PIS,
      :CST_COFINS,
      :CST_IPI,
      :DT_EMISSAO,
      :STATUS_CANCELADO,
      :STATUS
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_RELATORIO_NOTAS (
    DATAI DATE,
    DATAF DATE,
    STAT CHAR(1))
RETURNS (
    NR_NOTA INTEGER,
    COD_CLIENTE INTEGER,
    SERIE_NF VARCHAR(3),
    CD_CFOP INTEGER,
    DT_EMISSAO DATE,
    DT_LANCAMENTO DATE,
    VL_ACRESCIMOS NUMERIC(18,2),
    VL_DESCONTOS NUMERIC(18,2),
    VL_MERCADORIAS NUMERIC(18,2),
    VL_SERVICOS NUMERIC(18,2),
    VL_TOTAL NUMERIC(18,2),
    COD_PGTO INTEGER,
    VL_AVISTA NUMERIC(18,2),
    VL_PRAZO NUMERIC(18,2),
    PESO_TOTAL NUMERIC(18,2),
    QT_PECAS NUMERIC(18,4),
    CFOP_DESC VARCHAR(40),
    CD_TRANSPORTADORA INTEGER,
    UF_ORIGEM VARCHAR(2),
    UF_DESTINO VARCHAR(2),
    PESO_LIQUIDO NUMERIC(18,2),
    VL_FRETE NUMERIC(18,2),
    VL_SEGURO NUMERIC(18,2),
    VL_BASE_ICM NUMERIC(18,2),
    VL_ICM NUMERIC(18,2),
    VL_BASE_ICM_SUBST NUMERIC(18,2),
    VL_ICM_SUBST NUMERIC(18,2),
    VL_IPI NUMERIC(18,2),
    VL_ISS NUMERIC(18,2),
    TP_FRETE VARCHAR(1),
    QT_VOLUMES NUMERIC(18,4),
    ESPECIE_VOLUMES VARCHAR(15),
    MARCA_VOLUMES VARCHAR(15),
    NR_VOLUMES INTEGER,
    CD_TIPOCOBR INTEGER,
    CD_FUNCIONARIO INTEGER,
    DT_ATZ DATE,
    PLACA_TRANSP VARCHAR(8),
    UF_PLACA_TRANSP VARCHAR(2),
    VL_OUTROS NUMERIC(18,2),
    NR_PEDIDO INTEGER,
    VL_BASE_PIS NUMERIC(18,2),
    VL_PIS NUMERIC(18,2),
    VL_BASE_COFINS NUMERIC(18,2),
    VL_COFINS NUMERIC(18,2),
    VL_BASE_IPI NUMERIC(18,2),
    VL_BASE_ISS NUMERIC(18,2),
    VL_DESCONTO_ITEM NUMERIC(18,2),
    VL_ISENTO_ITENS NUMERIC(18,2),
    VL_OUTROS_ITENS NUMERIC(18,2),
    NR_PROTOCOLO_NFE VARCHAR(15),
    DT_PROCESSAMENTO_NFE DATE,
    STATUS VARCHAR(1),
    NR_LOTE_NFE VARCHAR(15),
    NR_RECIBO_NFE VARCHAR(15),
    NR_PROTOCOLO_CANC_NFE VARCHAR(15),
    CHAVE_ACESSO_NFE VARCHAR(44),
    VL_FRETE_CONHECIMENTO NUMERIC(18,2),
    VL_ST_CONHECIMENTO NUMERIC(18,2),
    VL_ICM_CONHECIMENTO NUMERIC(18,2),
    BASE_ICM_PROPRIO_ST NUMERIC(18,2),
    VL_ICM_PROPRIO_ST NUMERIC(18,2),
    VL_BASE_ICM_SUBST_REAL NUMERIC(18,2),
    VL_ICM_SUBST_REAL NUMERIC(18,2),
    CNPJ_TRANSP CHAR(18),
    NOME_TRANSP VARCHAR(70),
    IE_TRANSP VARCHAR(20),
    END_TRANSPORTADOR VARCHAR(70),
    CIDADE_TRANSP VARCHAR(40),
    UF_TRANSP VARCHAR(2),
    TP VARCHAR(1),
    N_NOTA_ENTRADA VARCHAR(20),
    NOME_CLIENTE_FOR VARCHAR(70),
    CPF_CNPJ_CLIENTE_FORN CHAR(18),
    IE_CLIENTE_FORN VARCHAR(20),
    ENDERECO_CLI_FORN VARCHAR(44),
    END_NUM_CLIENTE VARCHAR(20),
    COD_IBGE VARCHAR(7),
    CEP_CLIENTE_FORN CHAR(10),
    BAIRRO_CLIENTE_FORN VARCHAR(30),
    TIPO_PESSOA VARCHAR(1),
    TELEFONE VARCHAR(15),
    CIDADE_CLIENTE_FORN VARCHAR(40),
    UF_CLIENTE_FORN VARCHAR(2),
    IE_PRODUTOR VARCHAR(20),
    PRODUTOR_RURAL VARCHAR(1),
    PAGAMENTO VARCHAR(70),
    STATUS_INUTILIZADO VARCHAR(1),
    STATUS_CANCELADO VARCHAR(1),
    STATUS_EMAIL VARCHAR(1),
    COD_FORNECEDOR INTEGER,
    DEPEC VARCHAR(1),
    CHAVE2 VARCHAR(70),
    STATUS_RETORNO VARCHAR(1),
    JUSTIFICATIVA_CANCEL_INUTIL VARCHAR(255),
    MODELO VARCHAR(2),
    CORRECAO VARCHAR(1),
    FL_IMPRESSO VARCHAR(1),
    CD_EMPRESA INTEGER)
AS
BEGIN
  FOR
    SELECT 
      NFE_NOTA.NR_NOTA,
      NFE_NOTA.COD_CLIENTE,
      NFE_NOTA.SERIE_NF,
      NFE_NOTA.CD_CFOP,
      NFE_NOTA.DT_EMISSAO,
      NFE_NOTA.DT_LANCAMENTO,
      NFE_NOTA.VL_ACRESCIMOS,
      NFE_NOTA.VL_DESCONTOS,
      NFE_NOTA.VL_MERCADORIAS,
      NFE_NOTA.VL_SERVICOS,
      NFE_NOTA.VL_TOTAL,
      NFE_NOTA.COD_PGTO,
      NFE_NOTA.VL_AVISTA,
      NFE_NOTA.VL_PRAZO,
      NFE_NOTA.PESO_TOTAL,
      NFE_NOTA.QT_PECAS,
      NFE_NOTA.CFOP_DESC,
      NFE_NOTA.CD_TRANSPORTADORA,
      NFE_NOTA.UF_ORIGEM,
      NFE_NOTA.UF_DESTINO,
      NFE_NOTA.PESO_LIQUIDO,
      NFE_NOTA.VL_FRETE,
      NFE_NOTA.VL_SEGURO,
      NFE_NOTA.VL_BASE_ICM,
      NFE_NOTA.VL_ICM,
      NFE_NOTA.VL_BASE_ICM_SUBST,
      NFE_NOTA.VL_ICM_SUBST,
      NFE_NOTA.VL_IPI,
      NFE_NOTA.VL_ISS,
      NFE_NOTA.TP_FRETE,
      NFE_NOTA.QT_VOLUMES,
      NFE_NOTA.ESPECIE_VOLUMES,
      NFE_NOTA.MARCA_VOLUMES,
      NFE_NOTA.NR_VOLUMES,
      NFE_NOTA.CD_TIPOCOBR,
      NFE_NOTA.CD_FUNCIONARIO,
      NFE_NOTA.DT_ATZ,
      NFE_NOTA.PLACA_TRANSP,
      NFE_NOTA.UF_PLACA_TRANSP,
      NFE_NOTA.VL_OUTROS,
      NFE_NOTA.NR_PEDIDO,
      NFE_NOTA.VL_BASE_PIS,
      NFE_NOTA.VL_PIS,
      NFE_NOTA.VL_BASE_COFINS,
      NFE_NOTA.VL_COFINS,
      NFE_NOTA.VL_BASE_IPI,
      NFE_NOTA.VL_BASE_ISS,
      NFE_NOTA.VL_DESCONTO_ITEM,
      NFE_NOTA.VL_ISENTO_ITENS,
      NFE_NOTA.VL_OUTROS_ITENS,
      NFE_NOTA.NR_PROTOCOLO_NFE,
      NFE_NOTA.DT_PROCESSAMENTO_NFE,
      NFE_NOTA.STATUS,
      NFE_NOTA.NR_LOTE_NFE,
      NFE_NOTA.NR_RECIBO_NFE,
      NFE_NOTA.NR_PROTOCOLO_CANC_NFE,
      NFE_NOTA.CHAVE_ACESSO_NFE,
      NFE_NOTA.VL_FRETE_CONHECIMENTO,
      NFE_NOTA.VL_ST_CONHECIMENTO,
      NFE_NOTA.VL_ICM_CONHECIMENTO,
      NFE_NOTA.BASE_ICM_PROPRIO_ST,
      NFE_NOTA.VL_ICM_PROPRIO_ST,
      NFE_NOTA.VL_BASE_ICM_SUBST_REAL,
      NFE_NOTA.VL_ICM_SUBST_REAL,
      NFE_NOTA.CNPJ_TRANSP,
      NFE_NOTA.NOME_TRANSP,
      NFE_NOTA.IE_TRANSP,
      NFE_NOTA.END_TRANSPORTADOR,
      NFE_NOTA.CIDADE_TRANSP,
      NFE_NOTA.UF_TRANSP,
      NFE_NOTA.TP,
      NFE_NOTA.N_NOTA_ENTRADA,
      NFE_NOTA.NOME_CLIENTE_FOR,
      NFE_NOTA.CPF_CNPJ_CLIENTE_FORN,
      NFE_NOTA.IE_CLIENTE_FORN,
      NFE_NOTA.ENDERECO_CLI_FORN,
      NFE_NOTA.END_NUM_CLIENTE,
      NFE_NOTA.COD_IBGE,
      NFE_NOTA.CEP_CLIENTE_FORN,
      NFE_NOTA.BAIRRO_CLIENTE_FORN,
      NFE_NOTA.TIPO_PESSOA,
      NFE_NOTA.TELEFONE,
      NFE_NOTA.CIDADE_CLIENTE_FORN,
      NFE_NOTA.UF_CLIENTE_FORN,
      NFE_NOTA.IE_PRODUTOR,
      NFE_NOTA.PRODUTOR_RURAL,
      NFE_NOTA.PAGAMENTO,
      NFE_NOTA.STATUS_INUTILIZADO,
      NFE_NOTA.STATUS_CANCELADO,
      NFE_NOTA.STATUS_EMAIL,
      NFE_NOTA.COD_FORNECEDOR,
      NFE_NOTA.DEPEC,
      NFE_NOTA.CHAVE2,
      NFE_NOTA.STATUS_RETORNO,
      NFE_NOTA.JUSTIFICATIVA_CANCEL_INUTIL,
      NFE_NOTA.MODELO,
      NFE_NOTA.CORRECAO,
      NFE_NOTA.FL_IMPRESSO,
      NFE_NOTA.CD_EMPRESA
    FROM
     NFE_NOTA
         where  DT_EMISSAO between  :datai and :dataf AND STATUS =:STAT AND STATUS_CANCELADO IS NULL

    INTO
      :NR_NOTA,
      :COD_CLIENTE,
      :SERIE_NF,
      :CD_CFOP,
      :DT_EMISSAO,
      :DT_LANCAMENTO,
      :VL_ACRESCIMOS,
      :VL_DESCONTOS,
      :VL_MERCADORIAS,
      :VL_SERVICOS,
      :VL_TOTAL,
      :COD_PGTO,
      :VL_AVISTA,
      :VL_PRAZO,
      :PESO_TOTAL,
      :QT_PECAS,
      :CFOP_DESC,
      :CD_TRANSPORTADORA,
      :UF_ORIGEM,
      :UF_DESTINO,
      :PESO_LIQUIDO,
      :VL_FRETE,
      :VL_SEGURO,
      :VL_BASE_ICM,
      :VL_ICM,
      :VL_BASE_ICM_SUBST,
      :VL_ICM_SUBST,
      :VL_IPI,
      :VL_ISS,
      :TP_FRETE,
      :QT_VOLUMES,
      :ESPECIE_VOLUMES,
      :MARCA_VOLUMES,
      :NR_VOLUMES,
      :CD_TIPOCOBR,
      :CD_FUNCIONARIO,
      :DT_ATZ,
      :PLACA_TRANSP,
      :UF_PLACA_TRANSP,
      :VL_OUTROS,
      :NR_PEDIDO,
      :VL_BASE_PIS,
      :VL_PIS,
      :VL_BASE_COFINS,
      :VL_COFINS,
      :VL_BASE_IPI,
      :VL_BASE_ISS,
      :VL_DESCONTO_ITEM,
      :VL_ISENTO_ITENS,
      :VL_OUTROS_ITENS,
      :NR_PROTOCOLO_NFE,
      :DT_PROCESSAMENTO_NFE,
      :STATUS,
      :NR_LOTE_NFE,
      :NR_RECIBO_NFE,
      :NR_PROTOCOLO_CANC_NFE,
      :CHAVE_ACESSO_NFE,
      :VL_FRETE_CONHECIMENTO,
      :VL_ST_CONHECIMENTO,
      :VL_ICM_CONHECIMENTO,
      :BASE_ICM_PROPRIO_ST,
      :VL_ICM_PROPRIO_ST,
      :VL_BASE_ICM_SUBST_REAL,
      :VL_ICM_SUBST_REAL,
      :CNPJ_TRANSP,
      :NOME_TRANSP,
      :IE_TRANSP,
      :END_TRANSPORTADOR,
      :CIDADE_TRANSP,
      :UF_TRANSP,
      :TP,
      :N_NOTA_ENTRADA,
      :NOME_CLIENTE_FOR,
      :CPF_CNPJ_CLIENTE_FORN,
      :IE_CLIENTE_FORN,
      :ENDERECO_CLI_FORN,
      :END_NUM_CLIENTE,
      :COD_IBGE,
      :CEP_CLIENTE_FORN,
      :BAIRRO_CLIENTE_FORN,
      :TIPO_PESSOA,
      :TELEFONE,
      :CIDADE_CLIENTE_FORN,
      :UF_CLIENTE_FORN,
      :IE_PRODUTOR,
      :PRODUTOR_RURAL,
      :PAGAMENTO,
      :STATUS_INUTILIZADO,
      :STATUS_CANCELADO,
      :STATUS_EMAIL,
      :COD_FORNECEDOR,
      :DEPEC,
      :CHAVE2,
      :STATUS_RETORNO,
      :JUSTIFICATIVA_CANCEL_INUTIL,
      :MODELO,
      :CORRECAO,
      :FL_IMPRESSO,
      :CD_EMPRESA
  DO
  BEGIN
    SUSPEND;
  END
  for
      SELECT
      NFECE_NOTA.CD_EMPRESA,
      NFECE_NOTA.NR_NOTA,
      NFECE_NOTA.COD_CLIENTE,
      NFECE_NOTA.FL_IMPRESSO,
      NFECE_NOTA.SERIE_NF,
      NFECE_NOTA.CD_CFOP,
      NFECE_NOTA.DT_EMISSAO,
      NFECE_NOTA.DT_LANCAMENTO,
      NFECE_NOTA.VL_ACRESCIMOS,
      NFECE_NOTA.VL_DESCONTOS,
      NFECE_NOTA.VL_MERCADORIAS,
      NFECE_NOTA.VL_SERVICOS,
      NFECE_NOTA.VL_TOTAL,
      NFECE_NOTA.COD_PGTO,
      NFECE_NOTA.VL_AVISTA,
      NFECE_NOTA.VL_PRAZO,
      NFECE_NOTA.PESO_TOTAL,
      NFECE_NOTA.QT_PECAS,
      NFECE_NOTA.CFOP_DESC,
      NFECE_NOTA.CD_TRANSPORTADORA,
      NFECE_NOTA.UF_ORIGEM,
      NFECE_NOTA.UF_DESTINO,
      NFECE_NOTA.PESO_LIQUIDO,
      NFECE_NOTA.VL_FRETE,
      NFECE_NOTA.VL_SEGURO,
      NFECE_NOTA.VL_BASE_ICM,
      NFECE_NOTA.VL_ICM,
      NFECE_NOTA.VL_BASE_ICM_SUBST,
      NFECE_NOTA.VL_ICM_SUBST,
      NFECE_NOTA.VL_IPI,
      NFECE_NOTA.VL_ISS,
      NFECE_NOTA.TP_FRETE,
      NFECE_NOTA.QT_VOLUMES,
      NFECE_NOTA.ESPECIE_VOLUMES,
      NFECE_NOTA.MARCA_VOLUMES,
      NFECE_NOTA.NR_VOLUMES,
      NFECE_NOTA.CD_TIPOCOBR,
      NFECE_NOTA.CD_FUNCIONARIO,
      NFECE_NOTA.DT_ATZ,
      NFECE_NOTA.PLACA_TRANSP,
      NFECE_NOTA.UF_PLACA_TRANSP,
      NFECE_NOTA.VL_OUTROS,
      NFECE_NOTA.NR_PEDIDO,
      NFECE_NOTA.VL_BASE_PIS,
      NFECE_NOTA.VL_PIS,
      NFECE_NOTA.VL_BASE_COFINS,
      NFECE_NOTA.VL_COFINS,
      NFECE_NOTA.VL_BASE_IPI,
      NFECE_NOTA.VL_BASE_ISS,
      NFECE_NOTA.VL_DESCONTO_ITEM,
      NFECE_NOTA.VL_ISENTO_ITENS,
      NFECE_NOTA.VL_OUTROS_ITENS,
      NFECE_NOTA.NR_PROTOCOLO_NFE,
      NFECE_NOTA.DT_PROCESSAMENTO_NFE,
      NFECE_NOTA.STATUS,
      NFECE_NOTA.NR_LOTE_NFE,
      NFECE_NOTA.NR_RECIBO_NFE,
      NFECE_NOTA.NR_PROTOCOLO_CANC_NFE,
      NFECE_NOTA.CHAVE_ACESSO_NFE,
      NFECE_NOTA.VL_FRETE_CONHECIMENTO,
      NFECE_NOTA.VL_ST_CONHECIMENTO,
      NFECE_NOTA.VL_ICM_CONHECIMENTO,
      NFECE_NOTA.BASE_ICM_PROPRIO_ST,
      NFECE_NOTA.VL_ICM_PROPRIO_ST,
      NFECE_NOTA.VL_BASE_ICM_SUBST_REAL,
      NFECE_NOTA.VL_ICM_SUBST_REAL,
      NFECE_NOTA.CNPJ_TRANSP,
      NFECE_NOTA.NOME_TRANSP,
      NFECE_NOTA.IE_TRANSP,
      NFECE_NOTA.END_TRANSPORTADOR,
      NFECE_NOTA.CIDADE_TRANSP,
      NFECE_NOTA.UF_TRANSP,
      NFECE_NOTA.TP,
      NFECE_NOTA.N_NOTA_ENTRADA,
      NFECE_NOTA.NOME_CLIENTE_FOR,
      NFECE_NOTA.CPF_CNPJ_CLIENTE_FORN,
      NFECE_NOTA.IE_CLIENTE_FORN,
      NFECE_NOTA.ENDERECO_CLI_FORN,
      NFECE_NOTA.END_NUM_CLIENTE,
      NFECE_NOTA.COD_IBGE,
      NFECE_NOTA.CEP_CLIENTE_FORN,
      NFECE_NOTA.BAIRRO_CLIENTE_FORN,
      NFECE_NOTA.TIPO_PESSOA,
      NFECE_NOTA.TELEFONE,
      NFECE_NOTA.CIDADE_CLIENTE_FORN,
      NFECE_NOTA.UF_CLIENTE_FORN,
      NFECE_NOTA.IE_PRODUTOR,
      NFECE_NOTA.PRODUTOR_RURAL,
      NFECE_NOTA.PAGAMENTO,
      NFECE_NOTA.STATUS_INUTILIZADO,
      NFECE_NOTA.STATUS_CANCELADO,
      NFECE_NOTA.STATUS_EMAIL,
      NFECE_NOTA.COD_FORNECEDOR,
      NFECE_NOTA.DEPEC,
      NFECE_NOTA.CHAVE2,
      NFECE_NOTA.STATUS_RETORNO,
      NFECE_NOTA.JUSTIFICATIVA_CANCEL_INUTIL,
      NFECE_NOTA.MODELO,
      NFECE_NOTA.CORRECAO
    FROM
     NFECE_NOTA

         where  DT_EMISSAO between  :datai and :dataf AND STATUS =:STAT AND STATUS_CANCELADO IS NULL

    INTO
      :CD_EMPRESA,
      :NR_NOTA,
      :COD_CLIENTE,
      :FL_IMPRESSO,
      :SERIE_NF,
      :CD_CFOP,
      :DT_EMISSAO,
      :DT_LANCAMENTO,
      :VL_ACRESCIMOS,
      :VL_DESCONTOS,
      :VL_MERCADORIAS,
      :VL_SERVICOS,
      :VL_TOTAL,
      :COD_PGTO,
      :VL_AVISTA,
      :VL_PRAZO,
      :PESO_TOTAL,
      :QT_PECAS,
      :CFOP_DESC,
      :CD_TRANSPORTADORA,
      :UF_ORIGEM,
      :UF_DESTINO,
      :PESO_LIQUIDO,
      :VL_FRETE,
      :VL_SEGURO,
      :VL_BASE_ICM,
      :VL_ICM,
      :VL_BASE_ICM_SUBST,
      :VL_ICM_SUBST,
      :VL_IPI,
      :VL_ISS,
      :TP_FRETE,
      :QT_VOLUMES,
      :ESPECIE_VOLUMES,
      :MARCA_VOLUMES,
      :NR_VOLUMES,
      :CD_TIPOCOBR,
      :CD_FUNCIONARIO,
      :DT_ATZ,
      :PLACA_TRANSP,
      :UF_PLACA_TRANSP,
      :VL_OUTROS,
      :NR_PEDIDO,
      :VL_BASE_PIS,
      :VL_PIS,
      :VL_BASE_COFINS,
      :VL_COFINS,
      :VL_BASE_IPI,
      :VL_BASE_ISS,
      :VL_DESCONTO_ITEM,
      :VL_ISENTO_ITENS,
      :VL_OUTROS_ITENS,
      :NR_PROTOCOLO_NFE,
      :DT_PROCESSAMENTO_NFE,
      :STATUS,
      :NR_LOTE_NFE,
      :NR_RECIBO_NFE,
      :NR_PROTOCOLO_CANC_NFE,
      :CHAVE_ACESSO_NFE,
      :VL_FRETE_CONHECIMENTO,
      :VL_ST_CONHECIMENTO,
      :VL_ICM_CONHECIMENTO,
      :BASE_ICM_PROPRIO_ST,
      :VL_ICM_PROPRIO_ST,
      :VL_BASE_ICM_SUBST_REAL,
      :VL_ICM_SUBST_REAL,
      :CNPJ_TRANSP,
      :NOME_TRANSP,
      :IE_TRANSP,
      :END_TRANSPORTADOR,
      :CIDADE_TRANSP,
      :UF_TRANSP,
      :TP,
      :N_NOTA_ENTRADA,
      :NOME_CLIENTE_FOR,
      :CPF_CNPJ_CLIENTE_FORN,
      :IE_CLIENTE_FORN,
      :ENDERECO_CLI_FORN,
      :END_NUM_CLIENTE,
      :COD_IBGE,
      :CEP_CLIENTE_FORN,
      :BAIRRO_CLIENTE_FORN,
      :TIPO_PESSOA,
      :TELEFONE,
      :CIDADE_CLIENTE_FORN,
      :UF_CLIENTE_FORN,
      :IE_PRODUTOR,
      :PRODUTOR_RURAL,
      :PAGAMENTO,
      :STATUS_INUTILIZADO,
      :STATUS_CANCELADO,
      :STATUS_EMAIL,
      :COD_FORNECEDOR,
      :DEPEC,
      :CHAVE2,
      :STATUS_RETORNO,
      :JUSTIFICATIVA_CANCEL_INUTIL,
      :MODELO,
      :CORRECAO
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_SALDO_ANT_CAIXA (
    DATA DATE,
    USU CHAR(20))
RETURNS (
    ENTRADA NUMERIC(18,2),
    SAIDA NUMERIC(18,2))
AS
BEGIN
  FOR
    SELECT
    SUM(VALOR_ENTRADA) AS ENTRADA,
     SUM(VALOR_SAIDA) AS SAIDA
     from movimento_diario
      WHERE DATA < :DATA AND USUARIO=:USU AND TIPO = 'C'

    INTO
      :ENTRADA,
      :SAIDA
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_SALDO_ANT_CX (
    DATA DATE)
RETURNS (
    ENTRADA NUMERIC(18,2),
    SAIDA NUMERIC(18,2))
AS
BEGIN
  FOR
    SELECT
    SUM(VALOR_ENTRADA) AS ENTRADA,
     SUM(VALOR_SAIDA) AS SAIDA
     from movimento_diario
      WHERE DATA < :DATA AND TIPO = 'C'

    INTO
      :ENTRADA,
      :SAIDA
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_SALDO_BANCARIO (
    DATA DATE)
RETURNS (
    SALDO NUMERIC(18,2))
AS
BEGIN
  FOR
    SELECT
      SUM(VALOR_ENTRADA) - SUM(VALOR_SAIDA) as SALDO
     from V_MOVIMENTO_BANCO
      WHERE DATA < :DATA
    INTO
     :SALDO
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_SALDO_BANCARIO_CC (
    DATA DATE,
    CONTA INTEGER)
RETURNS (
    SALDO NUMERIC(18,2))
AS
/*declare variable SALDO NUMERIC (18, 2);*/
BEGIN
  FOR
    SELECT SUM(VALOR_ENTRADA) - SUM(VALOR_SAIDA) as SALDO
     from V_MOVIMENTO_BANCO
      WHERE DATA < :DATA AND CODIGO_CC = :CONTA
      into
        :SALDO 
  DO
  BEGIN
    SUSPEND;
  END
END^


ALTER PROCEDURE SP_SPED_INVENTARIO (
    SEQUENCIA INTEGER,
    ID_INV INTEGER,
    CODPRO INTEGER,
    COD_CONTA VARCHAR(20))
AS
DECLARE VARIABLE TXT_COMPLEN VARCHAR (70) CHARACTER SET NONE;
DECLARE VARIABLE UND_ITEN VARCHAR (5) CHARACTER SET NONE;
DECLARE VARIABLE QTD_ITEN NUMERIC (18, 3);
DECLARE VARIABLE VLR_UNIT NUMERIC (18, 2);
DECLARE VARIABLE VL_ITEM_TOTAL NUMERIC (18, 2);
DECLARE VARIABLE COD_BARRAS VARCHAR (13) CHARACTER SET NONE;

BEGIN
  SELECT V.CODIGO, V.UNIDADE, V.ESTOQUE, V.PRECO_CUSTO, V.VALOR_EST_CUSTO_ATUAL, V.DESCRICAO,V.COD_BARRAS
   FROM V_SPED_INVENTARIO V
      WHERE V.CODIGO = :CODPRO
      INTO :CODPRO, :UND_ITEN, :QTD_ITEN, :VLR_UNIT, :VL_ITEM_TOTAL, :TXT_COMPLEN, :COD_BARRAS;
 INSERT INTO SPED_INVENTARIO_ITENS (
    SEQUENCIA,
    ID_INV,
    COD_ITEM,
    UND_ITEN,
    QTD_ITEN,
    VLR_UNIT,
    VL_ITEM_TOTAL,
    TXT_COMPLEN,
    COD_CONTA,
    COD_BARRAS)
values (
    :SEQUENCIA,
    :ID_INV,
    :CODPRO,
    :UND_ITEN,
    :QTD_ITEN,
    :VLR_UNIT,
    :VL_ITEM_TOTAL,
    :TXT_COMPLEN,
    :COD_CONTA,
    :COD_BARRAS);
END^


ALTER PROCEDURE SP_UNIDADES (
    DATAINI DATE,
    DATAFIN DATE)
RETURNS (
    CODIGO INTEGER,
    ABREVIATURA VARCHAR(6) CHARACTER SET WIN1252,
    DESCRICAO VARCHAR(20) CHARACTER SET WIN1252)
AS
BEGIN
     FOR SELECT DISTINCT
         UNIDADES.CODIGO,
         UNIDADES.ABREVIATURA,
         UNIDADES.DESCRICAO
         FROM
         UNIDADES
         INNER JOIN SPED_PRODUTOS ON (UNIDADES.CODIGO=SPED_PRODUTOS.UNIDADE)
     UNION

     SELECT DISTINCT
         UNIDADES.CODIGO,
         UNIDADES.ABREVIATURA,
         UNIDADES.DESCRICAO
     FROM
     UNIDADES
        INNER JOIN NOTASFISCAIS_ITENS ON (UNIDADES.ABREVIATURA=NOTASFISCAIS_ITENS.DESC_UNIDADE)
         INNER JOIN NOTASFISCAIS ON (NOTASFISCAIS_ITENS.CODIGO_NOTA=NOTASFISCAIS.CODIGO_NOTA)
         WHERE
             (NOTASFISCAIS.DATA_CADASTRO BETWEEN :DATAINI AND :DATAFIN)
        INTO
        :CODIGO,
        :ABREVIATURA,
        :DESCRICAO
     DO
     SUSPEND;
END^


ALTER PROCEDURE V_SPED_CARTOES_S (
    DATAI DATE,
    DATAF DATE)
RETURNS (
    VALOR DOUBLE PRECISION,
    COD_SPED INTEGER,
    CODIGO_BANDEIRA INTEGER,
    EMISSAO DATE)
AS
BEGIN
  FOR SELECT VALOR,
             COD_SPED,
             CODIGO_BANDEIRA,
             EMISSAO
      FROM V_SPED_CARTOES
         where  EMISSAO between  :datai and :dataf
      INTO :VALOR,
           :COD_SPED,
           :CODIGO_BANDEIRA,
           :EMISSAO
DO  SUSPEND;

END^



SET TERM ; ^


/******************************************************************************/
/***                              Descriptions                              ***/
/******************************************************************************/

COMMIT WORK;

